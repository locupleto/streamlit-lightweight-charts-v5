/*! For license information please see main.699cfac3.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,i)=>{t.exports=i(202)},82:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,a=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,v=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case u:case c:case s:case l:case o:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case y:case m:case a:return t;default:return e}}case r:return e}}}function S(t){return _(t)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=h,e.ContextProvider=a,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return S(t)||_(t)===u},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===h},e.isContextProvider=function(t){return _(t)===a},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===l},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===c||t===l||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===a||t.$$typeof===h||t.$$typeof===d||t.$$typeof===b||t.$$typeof===v||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},86:(t,e,i)=>{t.exports=i(82)},123:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,l=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var h in s=Object(arguments[a]))i.call(s,h)&&(l[h]=s[h]);if(e){o=e(s);for(var u=0;u<o.length;u++)n.call(s,o[u])&&(l[o[u]]=s[o[u]])}}return l}},153:(t,e,i)=>{var n=i(43),r=60103;if("function"===typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),s("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,i){var n,s={},h=null,u=null;for(n in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(u=e.ref),e)l.call(e,n)&&!a.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:h,ref:u,props:s,_owner:o.current}}e.jsx=h},202:(t,e,i)=>{var n=i(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,h=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,n(x,w.prototype),x.isPureReactComponent=!0;var M={current:null},T=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,i){var n,r={},o=null,l=null;if(null!=e)for(n in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(o=""+e.key),e)T.call(e,n)&&!C.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(1===a)r.children=i;else if(1<a){for(var h=Array(a),u=0;u<a;u++)h[u]=arguments[u+2];r.children=h}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:s,type:t,key:o,ref:l,props:r,_owner:M.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var E=/\/+/g,B=[];function N(t,e,i,n){if(B.length){var r=B.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function D(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>B.length&&B.push(t)}function O(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var l=!1;if(null===t)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case o:l=!0}}if(l)return i(n,t,""===e?"."+A(t,0):e),1;if(l=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var h=e+A(r=t[a],a);l+=O(r,h,i,n)}else if(null===t||"object"!==typeof t?h=null:h="function"===typeof(h=y&&t[y]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),a=0;!(r=t.next()).done;)l+=O(r=r.value,h=e+A(r,a++),i,n);else if("object"===r)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}function P(t,e,i){return null==t?0:O(t,"",e,i)}function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?z(t,n,i,(function(t){return t})):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(E,"$&/")+"/")+i)),n.push(t))}function z(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(E,"$&/")+"/"),P(t,R,e=N(e,s,n,r)),D(e)}var L={current:null};function V(){var t=L.current;if(null===t)throw Error(g(321));return t}var U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return z(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;P(t,F,e=N(null,null,e,i)),D(e)},count:function(t){return P(t,(function(){return null}),null)},toArray:function(t){var e=[];return z(t,e,null,(function(t){return t})),e},only:function(t){if(!k(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=l,e.Profiler=h,e.PureComponent=S,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(g(267,t));var r=n({},t.props),o=t.key,l=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,a=M.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(u in e)T.call(e,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==h?h[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){h=Array(u);for(var c=0;c<u;c++)h[c]=arguments[c+2];r.children=h}return{$$typeof:s,type:t.type,key:o,ref:l,props:r,_owner:a}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return V().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,i){return V().useReducer(t,e,i)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.14.0"},219:(t,e,i)=>{var n=i(86),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function a(t){return n.isMemo(t)?o:l[t.$$typeof]||r}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=o;var h=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var o=u(i);c&&(o=o.concat(c(i)));for(var l=a(e),m=a(i),y=0;y<o.length;++y){var g=o[y];if(!s[g]&&(!n||!n[g])&&(!m||!m[g])&&(!l||!l[g])){var b=d(i,g);try{h(e,g,b)}catch(yo){}}}}return e}},234:(t,e)=>{var i,n,r,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,a=null,h=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(Po){throw setTimeout(h,0),Po}},u=Date.now();e.unstable_now=function(){return Date.now()-u},i=function(t){null!==l?setTimeout(i,0,t):(l=t,setTimeout(h,0))},n=function(t,e){a=setTimeout(t,e)},r=function(){clearTimeout(a)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var c=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof c&&"function"===typeof c.now)e.unstable_now=function(){return c.now()};else{var y=d.now();e.unstable_now=function(){return d.now()-y}}var g=!1,b=null,v=-1,w=5,_=0;s=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();_=t+w;try{b(!0,t)?x.postMessage(null):(g=!1,b=null)}catch(Po){throw x.postMessage(null),Po}}else g=!1},i=function(t){b=t,g||(g=!0,x.postMessage(null))},n=function(t,i){v=f((function(){t(e.unstable_now())}),i)},r=function(){p(v),v=-1}}function M(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<I(r,e)))break t;t[n]=e,t[i]=r,i=n}}function T(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var s=2*(n+1)-1,o=t[s],l=s+1,a=t[l];if(void 0!==o&&0>I(o,i))void 0!==a&&0>I(a,o)?(t[n]=a,t[l]=i,n=l):(t[n]=o,t[s]=i,n=s);else{if(!(void 0!==a&&0>I(a,i)))break t;t[n]=a,t[l]=i,n=l}}}return e}return null}function I(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var k=[],E=[],B=1,N=null,D=3,O=!1,P=!1,A=!1;function F(t){for(var e=T(E);null!==e;){if(null===e.callback)C(E);else{if(!(e.startTime<=t))break;C(E),e.sortIndex=e.expirationTime,M(k,e)}e=T(E)}}function R(t){if(A=!1,F(t),!P)if(null!==T(k))P=!0,i(z);else{var e=T(E);null!==e&&n(R,e.startTime-t)}}function z(t,i){P=!1,A&&(A=!1,r()),O=!0;var o=D;try{for(F(i),N=T(k);null!==N&&(!(N.expirationTime>i)||t&&!s());){var l=N.callback;if(null!==l){N.callback=null,D=N.priorityLevel;var a=l(N.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?N.callback=a:N===T(k)&&C(k),F(i)}else C(k);N=T(k)}if(null!==N)var h=!0;else{var u=T(E);null!==u&&n(R,u.startTime-i),h=!1}return h}finally{N=null,D=o,O=!1}}function L(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||O||(P=!0,i(z))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return T(k)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var i=D;D=e;try{return t()}finally{D=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=D;D=t;try{return e()}finally{D=i}},e.unstable_scheduleCallback=function(t,s,o){var l=e.unstable_now();if("object"===typeof o&&null!==o){var a=o.delay;a="number"===typeof a&&0<a?l+a:l,o="number"===typeof o.timeout?o.timeout:L(t)}else o=L(t),a=l;return t={id:B++,callback:s,priorityLevel:t,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>l?(t.sortIndex=a,M(E,t),null===T(k)&&t===T(E)&&(A?r():A=!0,n(R,a-l))):(t.sortIndex=o,M(k,t),P||O||(P=!0,i(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var i=T(k);return i!==N&&null!==N&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<N.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=D;return function(){var i=D;D=e;try{return t.apply(this,arguments)}finally{D=i}}}},579:(t,e,i)=>{t.exports=i(153)},730:(t,e,i)=>{var n=i(43),r=i(123),s=i(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function l(t,e,i,n,r,s,o,l,a){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(Bo){this.onError(Bo)}}var a=!1,h=null,u=!1,c=null,d={onError:function(t){a=!0,h=t}};function f(t,e,i,n,r,s,o,u,c){a=!1,h=null,l.apply(d,arguments)}var p=null,m=null,y=null;function g(t,e,i){var n=t.type||"unknown-event";t.currentTarget=y(i),function(t,e,i,n,r,s,l,d,p){if(f.apply(this,arguments),a){if(!a)throw Error(o(198));var m=h;a=!1,h=null,u||(u=!0,c=m)}}(n,e,void 0,t),t.currentTarget=null}var b=null,v={};function w(){if(b)for(var t in v){var e=v[t],i=b.indexOf(t);if(!(-1<i))throw Error(o(96,t));if(!S[i]){if(!e.extractEvents)throw Error(o(97,t));for(var n in S[i]=e,i=e.eventTypes){var r=void 0,s=i[n],l=e,a=n;if(x.hasOwnProperty(a))throw Error(o(99,a));x[a]=s;var h=s.phasedRegistrationNames;if(h){for(r in h)h.hasOwnProperty(r)&&_(h[r],l,a);r=!0}else s.registrationName?(_(s.registrationName,l,a),r=!0):r=!1;if(!r)throw Error(o(98,n,t))}}}}function _(t,e,i){if(M[t])throw Error(o(100,t));M[t]=e,T[t]=e.eventTypes[i].dependencies}var S=[],x={},M={},T={};function C(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!v.hasOwnProperty(e)||v[e]!==n){if(v[e])throw Error(o(102,e));v[e]=n,i=!0}}i&&w()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),k=null,E=null,B=null;function N(t){if(t=m(t)){if("function"!==typeof k)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),k(t.stateNode,t.type,e))}}function D(t){E?B?B.push(t):B=[t]:E=t}function O(){if(E){var t=E,e=B;if(B=E=null,N(t),e)for(t=0;t<e.length;t++)N(e[t])}}function P(t,e){return t(e)}function A(t,e,i,n,r){return t(e,i,n,r)}function F(){}var R=P,z=!1,L=!1;function V(){null===E&&null===B||(F(),O())}function U(t,e,i){if(L)return t(e,i);L=!0;try{return R(t,e,i)}finally{L=!1,V()}}var Y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,j={},$={};function Q(t,e,i,n,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){H[t]=new Q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];H[e]=new Q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){H[t]=new Q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){H[t]=new Q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){H[t]=new Q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){H[t]=new Q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){H[t]=new Q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){H[t]=new Q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){H[t]=new Q(t,5,!1,t.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(J,K);H[e]=new Q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(J,K);H[e]=new Q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(J,K);H[e]=new Q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){H[t]=new Q(t,1,!1,t.toLowerCase(),null,!1)})),H.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){H[t]=new Q(t,1,!1,t.toLowerCase(),null,!0)}));var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(t,e,i,n){var r=H.hasOwnProperty(e)?H[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!W.call($,t)||!W.call(j,t)&&(Y.test(t)?$[t]=!0:(j[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,q="function"===typeof Symbol&&Symbol.for,tt=q?Symbol.for("react.element"):60103,et=q?Symbol.for("react.portal"):60106,it=q?Symbol.for("react.fragment"):60107,nt=q?Symbol.for("react.strict_mode"):60108,rt=q?Symbol.for("react.profiler"):60114,st=q?Symbol.for("react.provider"):60109,ot=q?Symbol.for("react.context"):60110,lt=q?Symbol.for("react.concurrent_mode"):60111,at=q?Symbol.for("react.forward_ref"):60112,ht=q?Symbol.for("react.suspense"):60113,ut=q?Symbol.for("react.suspense_list"):60120,ct=q?Symbol.for("react.memo"):60115,dt=q?Symbol.for("react.lazy"):60116,ft=q?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ht:return"Suspense";case ut:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case at:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return yt(t.type);case ft:return yt(t.render);case dt:if(t=1===t._status?t._result:null)return yt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,s=yt(t.type);i=null,n&&(i=yt(n.type)),n=s,s="",r?s=" (at "+r.fileName.replace(X,"")+":"+r.lineNumber+")":i&&(s=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+s}e+=i,t=t.return}while(t);return e}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=vt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function xt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=bt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Mt(t,e){null!=(e=e.checked)&&Z(t,"checked",e,!1)}function Tt(t,e){Mt(t,e);var i=bt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,i):e.hasOwnProperty("defaultValue")&&It(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function It(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function kt(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Et(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+bt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Bt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:bt(i)}}function Dt(t,e){var i=bt(e.value),n=bt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function Ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Pt="http://www.w3.org/1999/xhtml",At="http://www.w3.org/2000/svg";function Ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var zt,Lt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction((function(){return t(e,i)}))}:t}((function(t,e){if(t.namespaceURI!==At||"innerHTML"in t)t.innerHTML=e;else{for((zt=zt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function Ut(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Yt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},jt={};function $t(t){if(Wt[t])return Wt[t];if(!Yt[t])return t;var e,i=Yt[t];for(e in i)if(i.hasOwnProperty(e)&&e in jt)return Wt[t]=i[e];return t}I&&(jt=document.createElement("div").style,"AnimationEvent"in window||(delete Yt.animationend.animation,delete Yt.animationiteration.animation,delete Yt.animationstart.animation),"TransitionEvent"in window||delete Yt.transitionend.transition);var Qt=$t("animationend"),Ht=$t("animationiteration"),Jt=$t("animationstart"),Kt=$t("transitionend"),Gt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zt=new("function"===typeof WeakMap?WeakMap:Map);function Xt(t){var e=Zt.get(t);return void 0===e&&(e=new Map,Zt.set(t,e)),e}function qt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(qt(t)!==t)throw Error(o(188))}function ie(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=qt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return ee(r),t;if(s===n)return ee(r),e;s=s.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=s;else{for(var l=!1,a=r.child;a;){if(a===i){l=!0,i=r,n=s;break}if(a===n){l=!0,n=r,i=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===i){l=!0,i=s,n=r;break}if(a===n){l=!0,n=s,i=r;break}a=a.sibling}if(!l)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ne(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var se=null;function oe(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)g(t,e[n],i[n]);else e&&g(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(se=ne(se,t)),t=se,se=null,t){if(re(t,oe),se)throw Error(o(95));if(u)throw t=c,u=!1,c=null,t}}function ae(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function he(t){if(!I)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ue=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ue.length&&ue.push(t)}function de(t,e,i,n){if(ue.length){var r=ue.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function fe(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Ni(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=ae(t.nativeEvent);n=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===i&&(o|=64);for(var l=null,a=0;a<S.length;a++){var h=S[a];h&&(h=h.extractEvents(n,e,s,r,o))&&(l=ne(l,h))}le(l)}}function pe(t,e,i){if(!i.has(t)){switch(t){case"scroll":Je(e,"scroll",!0);break;case"focus":case"blur":Je(e,"focus",!0),Je(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":he(t)&&Je(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Gt.indexOf(t)&&He(t,e)}i.set(t,null)}}var me,ye,ge,be=!1,ve=[],we=null,_e=null,Se=null,xe=new Map,Me=new Map,Te=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ie="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ke(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function Ee(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Se=null;break;case"pointerover":case"pointerout":xe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function Be(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t=ke(e,i,n,r,s),null!==e&&(null!==(e=Di(e))&&ye(e)),t):(t.eventSystemFlags|=n,t)}function Ne(t){var e=Ni(t.target);if(null!==e){var i=qt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=te(i)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){ge(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;var e=Xe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Di(e);return null!==i&&ye(i),t.blockedOn=e,!1}return!0}function Oe(t,e,i){De(t)&&i.delete(e)}function Pe(){for(be=!1;0<ve.length;){var t=ve[0];if(null!==t.blockedOn){null!==(t=Di(t.blockedOn))&&me(t);break}var e=Xe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ve.shift()}null!==we&&De(we)&&(we=null),null!==_e&&De(_e)&&(_e=null),null!==Se&&De(Se)&&(Se=null),xe.forEach(Oe),Me.forEach(Oe)}function Ae(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pe)))}function Fe(t){function e(e){return Ae(e,t)}if(0<ve.length){Ae(ve[0],t);for(var i=1;i<ve.length;i++){var n=ve[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==we&&Ae(we,t),null!==_e&&Ae(_e,t),null!==Se&&Ae(Se,t),xe.forEach(e),Me.forEach(e),i=0;i<Te.length;i++)(n=Te[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Te.length&&null===(i=Te[0]).blockedOn;)Ne(i),null===i.blockedOn&&Te.shift()}var Re={},ze=new Map,Le=new Map,Ve=["abort","abort",Qt,"animationEnd",Ht,"animationIteration",Jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[n],eventPriority:e},Le.set(n,e),ze.set(n,s),Re[r]=s}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ve,2);for(var Ye="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ye.length;We++)Le.set(Ye[We],0);var je=s.unstable_UserBlockingPriority,$e=s.unstable_runWithPriority,Qe=!0;function He(t,e){Je(e,t,!1)}function Je(t,e,i){var n=Le.get(e);switch(void 0===n?2:n){case 0:n=Ke.bind(null,e,1,t);break;case 1:n=Ge.bind(null,e,1,t);break;default:n=Ze.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Ke(t,e,i,n){z||F();var r=Ze,s=z;z=!0;try{A(r,t,e,i,n)}finally{(z=s)||V()}}function Ge(t,e,i,n){$e(je,Ze.bind(null,t,e,i,n))}function Ze(t,e,i,n){if(Qe)if(0<ve.length&&-1<Ce.indexOf(t))t=ke(null,t,e,i,n),ve.push(t);else{var r=Xe(t,e,i,n);if(null===r)Ee(t,n);else if(-1<Ce.indexOf(t))t=ke(r,t,e,i,n),ve.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return we=Be(we,t,e,i,n,r),!0;case"dragenter":return _e=Be(_e,t,e,i,n,r),!0;case"mouseover":return Se=Be(Se,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return xe.set(s,Be(xe.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Me.set(s,Be(Me.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){Ee(t,n),t=de(t,n,null,e);try{U(fe,t)}finally{ce(t)}}}}function Xe(t,e,i,n){if(null!==(i=Ni(i=ae(n)))){var r=qt(i);if(null===r)i=null;else{var s=r.tag;if(13===s){if(null!==(i=te(r)))return i;i=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=de(t,n,i,e);try{U(fe,t)}finally{ce(t)}return null}var qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ei(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||qe.hasOwnProperty(t)&&qe[t]?(""+e).trim():e+"px"}function ii(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ei(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(qe).forEach((function(t){ti.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qe[e]=qe[t]}))}));var ni=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(t,e){if(e){if(ni[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function si(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=Pt;function li(t,e){var i=Xt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var n=0;n<e.length;n++)pe(e[n],t,i)}function ai(){}function hi(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(Po){return t.body}}function ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var i,n=ui(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ui(n)}}function di(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?di(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fi(){for(var t=window,e=hi();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(Co){i=!1}if(!i)break;e=hi((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mi="$",yi="/$",gi="$?",bi="$!",vi=null,wi=null;function _i(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Si(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var xi="function"===typeof setTimeout?setTimeout:void 0,Mi="function"===typeof clearTimeout?clearTimeout:void 0;function Ti(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if(i===mi||i===bi||i===gi){if(0===e)return t;e--}else i===yi&&e++}t=t.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),ki="__reactInternalInstance$"+Ii,Ei="__reactEventHandlers$"+Ii,Bi="__reactContainere$"+Ii;function Ni(t){var e=t[ki];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Bi]||i[ki]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Ci(t);null!==t;){if(i=t[ki])return i;t=Ci(t)}return e}i=(t=i).parentNode}return null}function Di(t){return!(t=t[ki]||t[Bi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Oi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Pi(t){return t[Ei]||null}function Ai(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Fi(t,e){var i=t.stateNode;if(!i)return null;var n=p(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}function Ri(t,e,i){(e=Fi(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function zi(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Ai(e);for(e=i.length;0<e--;)Ri(i[e],"captured",t);for(e=0;e<i.length;e++)Ri(i[e],"bubbled",t)}}function Li(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Fi(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Vi(t){t&&t.dispatchConfig.registrationName&&Li(t._targetInst,null,t)}function Ui(t){re(t,zi)}var Yi=null,Wi=null,ji=null;function $i(){if(ji)return ji;var t,e,i=Wi,n=i.length,r="value"in Yi?Yi.value:Yi.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return ji=r.slice(t,1<e?1-e:void 0)}function Qi(){return!0}function Hi(){return!1}function Ji(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qi:Hi,this.isPropagationStopped=Hi,this}function Ki(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function Gi(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Zi(t){t.eventPool=[],t.getPooled=Ki,t.release=Gi}r(Ji.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){this.isPersistent=Qi},isPersistent:Hi,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hi,this._dispatchInstances=this._dispatchListeners=null}}),Ji.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ji.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var s=new e;return r(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,Zi(i),i},Zi(Ji);var Xi=Ji.extend({data:null}),qi=Ji.extend({data:null}),tn=[9,13,27,32],en=I&&"CompositionEvent"in window,nn=null;I&&"documentMode"in document&&(nn=document.documentMode);var rn=I&&"TextEvent"in window&&!nn,sn=I&&(!en||nn&&8<nn&&11>=nn),on=String.fromCharCode(32),ln={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},an=!1;function hn(t,e){switch(t){case"keyup":return-1!==tn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var cn=!1;var dn={eventTypes:ln,extractEvents:function(t,e,i,n){var r;if(en)t:{switch(t){case"compositionstart":var s=ln.compositionStart;break t;case"compositionend":s=ln.compositionEnd;break t;case"compositionupdate":s=ln.compositionUpdate;break t}s=void 0}else cn?hn(t,i)&&(s=ln.compositionEnd):"keydown"===t&&229===i.keyCode&&(s=ln.compositionStart);return s?(sn&&"ko"!==i.locale&&(cn||s!==ln.compositionStart?s===ln.compositionEnd&&cn&&(r=$i()):(Wi="value"in(Yi=n)?Yi.value:Yi.textContent,cn=!0)),s=Xi.getPooled(s,e,i,n),r?s.data=r:null!==(r=un(i))&&(s.data=r),Ui(s),r=s):r=null,(t=rn?function(t,e){switch(t){case"compositionend":return un(e);case"keypress":return 32!==e.which?null:(an=!0,on);case"textInput":return(t=e.data)===on&&an?null:t;default:return null}}(t,i):function(t,e){if(cn)return"compositionend"===t||!en&&hn(t,e)?(t=$i(),ji=Wi=Yi=null,cn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sn&&"ko"!==e.locale?null:e.data}}(t,i))?((e=qi.getPooled(ln.beforeInput,e,i,n)).data=t,Ui(e)):e=null,null===r?e:null===e?r:[r,e]}},fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!fn[t.type]:"textarea"===e}var mn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yn(t,e,i){return(t=Ji.getPooled(mn.change,t,e,i)).type="change",D(i),Ui(t),t}var gn=null,bn=null;function vn(t){le(t)}function wn(t){if(_t(Oi(t)))return t}function _n(t,e){if("change"===t)return e}var Sn=!1;function xn(){gn&&(gn.detachEvent("onpropertychange",Mn),bn=gn=null)}function Mn(t){if("value"===t.propertyName&&wn(bn))if(t=yn(bn,t,ae(t)),z)le(t);else{z=!0;try{P(vn,t)}finally{z=!1,V()}}}function Tn(t,e,i){"focus"===t?(xn(),bn=i,(gn=e).attachEvent("onpropertychange",Mn)):"blur"===t&&xn()}function Cn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return wn(bn)}function In(t,e){if("click"===t)return wn(e)}function kn(t,e){if("input"===t||"change"===t)return wn(e)}I&&(Sn=he("input")&&(!document.documentMode||9<document.documentMode));var En={eventTypes:mn,_isInputEventSupported:Sn,extractEvents:function(t,e,i,n){var r=e?Oi(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=_n;else if(pn(r))if(Sn)o=kn;else{o=Cn;var l=Tn}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=In);if(o&&(o=o(t,e)))return yn(o,i,n);l&&l(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&It(r,"number",r.value)}},Bn=Ji.extend({view:null,detail:null}),Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Nn[t])&&!!e[t]}function On(){return Dn}var Pn=0,An=0,Fn=!1,Rn=!1,zn=Bn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:On,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Pn;return Pn=t.screenX,Fn?"mousemove"===t.type?t.screenX-e:0:(Fn=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=An;return An=t.screenY,Rn?"mousemove"===t.type?t.screenY-e:0:(Rn=!0,0)}}),Ln=zn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Vn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Un={eventTypes:Vn,extractEvents:function(t,e,i,n,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!o&&!s)return null;(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=i.relatedTarget||i.toElement)?Ni(e):null)&&(e!==qt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var l=zn,a=Vn.mouseLeave,h=Vn.mouseEnter,u="mouse";else"pointerout"!==t&&"pointerover"!==t||(l=Ln,a=Vn.pointerLeave,h=Vn.pointerEnter,u="pointer");if(t=null==o?s:Oi(o),s=null==e?s:Oi(e),(a=l.getPooled(a,o,i,n)).type=u+"leave",a.target=t,a.relatedTarget=s,(i=l.getPooled(h,e,i,n)).type=u+"enter",i.target=s,i.relatedTarget=t,u=e,(n=o)&&u)t:{for(h=u,o=0,t=l=n;t;t=Ai(t))o++;for(t=0,e=h;e;e=Ai(e))t++;for(;0<o-t;)l=Ai(l),o--;for(;0<t-o;)h=Ai(h),t--;for(;o--;){if(l===h||l===h.alternate)break t;l=Ai(l),h=Ai(h)}l=null}else l=null;for(h=l,l=[];n&&n!==h&&(null===(o=n.alternate)||o!==h);)l.push(n),n=Ai(n);for(n=[];u&&u!==h&&(null===(o=u.alternate)||o!==h);)n.push(u),u=Ai(u);for(u=0;u<l.length;u++)Li(l[u],"bubbled",a);for(u=n.length;0<u--;)Li(n[u],"captured",i);return 0===(64&r)?[a]:[a,i]}};var Yn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Wn=Object.prototype.hasOwnProperty;function jn(t,e){if(Yn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Wn.call(e,i[n])||!Yn(t[i[n]],e[i[n]]))return!1;return!0}var $n=I&&"documentMode"in document&&11>=document.documentMode,Qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hn=null,Jn=null,Kn=null,Gn=!1;function Zn(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gn||null==Hn||Hn!==hi(i)?null:("selectionStart"in(i=Hn)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Kn&&jn(Kn,i)?null:(Kn=i,(t=Ji.getPooled(Qn.select,Jn,t,e)).type="select",t.target=Hn,Ui(t),t))}var Xn={eventTypes:Qn,extractEvents:function(t,e,i,n,r,s){if(!(s=!(r=s||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=Xt(r),s=T.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?Oi(e):window,t){case"focus":(pn(r)||"true"===r.contentEditable)&&(Hn=r,Jn=e,Kn=null);break;case"blur":Kn=Jn=Hn=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,Zn(i,n);case"selectionchange":if($n)break;case"keydown":case"keyup":return Zn(i,n)}return null}},qn=Ji.extend({animationName:null,elapsedTime:null,pseudoElement:null}),tr=Ji.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),er=Bn.extend({relatedTarget:null});function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sr=Bn.extend({key:function(t){if(t.key){var e=nr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?rr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:On,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),or=zn.extend({dataTransfer:null}),lr=Bn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:On}),ar=Ji.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),hr=zn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ur={eventTypes:Re,extractEvents:function(t,e,i,n){var r=ze.get(t);if(!r)return null;switch(t){case"keypress":if(0===ir(i))return null;case"keydown":case"keyup":t=sr;break;case"blur":case"focus":t=er;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case Qt:case Ht:case Jt:t=qn;break;case Kt:t=ar;break;case"scroll":t=Bn;break;case"wheel":t=hr;break;case"copy":case"cut":case"paste":t=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ln;break;default:t=Ji}return Ui(e=t.getPooled(r,e,i,n)),e}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Pi,m=Di,y=Oi,C({SimpleEventPlugin:ur,EnterLeaveEventPlugin:Un,ChangeEventPlugin:En,SelectEventPlugin:Xn,BeforeInputEventPlugin:dn});var cr=[],dr=-1;function fr(t){0>dr||(t.current=cr[dr],cr[dr]=null,dr--)}function pr(t,e){dr++,cr[dr]=t.current,t.current=e}var mr={},yr={current:mr},gr={current:!1},br=mr;function vr(t,e){var i=t.type.contextTypes;if(!i)return mr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function _r(){fr(gr),fr(yr)}function Sr(t,e,i){if(yr.current!==mr)throw Error(o(168));pr(yr,e),pr(gr,i)}function xr(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(o(108,yt(e)||"Unknown",s));return r({},i,{},n)}function Mr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,br=yr.current,pr(yr,t),pr(gr,gr.current),!0}function Tr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=xr(t,e,br),n.__reactInternalMemoizedMergedChildContext=t,fr(gr),fr(yr),pr(yr,t)):fr(gr),pr(gr,i)}var Cr=s.unstable_runWithPriority,Ir=s.unstable_scheduleCallback,kr=s.unstable_cancelCallback,Er=s.unstable_requestPaint,Br=s.unstable_now,Nr=s.unstable_getCurrentPriorityLevel,Dr=s.unstable_ImmediatePriority,Or=s.unstable_UserBlockingPriority,Pr=s.unstable_NormalPriority,Ar=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,Rr={},zr=s.unstable_shouldYield,Lr=void 0!==Er?Er:function(){},Vr=null,Ur=null,Yr=!1,Wr=Br(),jr=1e4>Wr?Br:function(){return Br()-Wr};function $r(){switch(Nr()){case Dr:return 99;case Or:return 98;case Pr:return 97;case Ar:return 96;case Fr:return 95;default:throw Error(o(332))}}function Qr(t){switch(t){case 99:return Dr;case 98:return Or;case 97:return Pr;case 96:return Ar;case 95:return Fr;default:throw Error(o(332))}}function Hr(t,e){return t=Qr(t),Cr(t,e)}function Jr(t,e,i){return t=Qr(t),Ir(t,e,i)}function Kr(t){return null===Vr?(Vr=[t],Ur=Ir(Dr,Zr)):Vr.push(t),Rr}function Gr(){if(null!==Ur){var t=Ur;Ur=null,kr(t)}Zr()}function Zr(){if(!Yr&&null!==Vr){Yr=!0;var t=0;try{var e=Vr;Hr(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),Vr=null}catch(To){throw null!==Vr&&(Vr=Vr.slice(t+1)),Ir(Dr,Gr),To}finally{Yr=!1}}}function Xr(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function qr(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var ts={current:null},es=null,is=null,ns=null;function rs(){ns=is=es=null}function ss(t){var e=ts.current;fr(ts),t.type._context._currentValue=e}function os(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ls(t,e){es=t,ns=is=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Yo=!0),t.firstContext=null)}function as(t,e){if(ns!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ns=t,e=1073741823),e={context:t,observedBits:e,next:null},null===is){if(null===es)throw Error(o(308));is=e,es.dependencies={expirationTime:0,firstContext:e,responders:null}}else is=is.next=e;return t._currentValue}var hs=!1;function us(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function cs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ds(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function fs(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function ps(t,e){var i=t.alternate;null!==i&&cs(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ms(t,e,i,n){var s=t.updateQueue;hs=!1;var o=s.baseQueue,l=s.shared.pending;if(null!==l){if(null!==o){var a=o.next;o.next=l.next,l.next=a}o=l,s.shared.pending=null,null!==(a=t.alternate)&&(null!==(a=a.updateQueue)&&(a.baseQueue=l))}if(null!==o){a=o.next;var h=s.baseState,u=0,c=null,d=null,f=null;if(null!==a)for(var p=a;;){if((l=p.expirationTime)<n){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,c=h):f=f.next=m,l>u&&(u=l)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ka(l,p.suspenseConfig);t:{var y=t,g=p;switch(l=e,m=i,g.tag){case 1:if("function"===typeof(y=g.payload)){h=y.call(m,h,l);break t}h=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(l="function"===typeof(y=g.payload)?y.call(m,h,l):y)||void 0===l)break t;h=r({},h,l);break t;case 2:hs=!0}}null!==p.callback&&(t.effectTag|=32,null===(l=s.effects)?s.effects=[p]:l.push(p))}if(null===(p=p.next)||p===a){if(null===(l=s.shared.pending))break;p=o.next=l.next,l.next=a,s.baseQueue=o=l,s.shared.pending=null}}null===f?c=h:f.next=d,s.baseState=c,s.baseQueue=f,Ea(u),t.expirationTime=u,t.memoizedState=h}}function ys(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var gs=G.ReactCurrentBatchConfig,bs=(new n.Component).refs;function vs(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var ws={isMounted:function(t){return!!(t=t._reactInternalFiber)&&qt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=ma(),r=gs.suspense;(r=ds(n=ya(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),fs(t,r),ga(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=ma(),r=gs.suspense;(r=ds(n=ya(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),fs(t,r),ga(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=ma(),n=gs.suspense;(n=ds(i=ya(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),fs(t,n),ga(t,i)}};function _s(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!jn(i,n)||!jn(r,s))}function Ss(t,e,i){var n=!1,r=mr,s=e.contextType;return"object"===typeof s&&null!==s?s=as(s):(r=wr(e)?br:yr.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?vr(t,r):mr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ws,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function xs(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&ws.enqueueReplaceState(e,e.state,null)}function Ms(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=bs,us(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=as(s):(s=wr(e)?br:yr.current,r.context=vr(t,s)),ms(t,i,r,n),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(vs(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ws.enqueueReplaceState(r,r.state,null),ms(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Ts=Array.isArray;function Cs(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=n.refs;e===bs&&(e=n.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Is(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function ks(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ka(t,e)).index=0,t.sibling=null,t}function s(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,i,n){return null===e||6!==e.tag?((e=Xa(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function h(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=Cs(t,e,i),n.return=t,n):((n=Ga(i.type,i.key,i.props,null,t.mode,n)).ref=Cs(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=qa(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,n,s){return null===e||7!==e.tag?((e=Za(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=Xa(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Ga(e.type,e.key,e.props,null,t.mode,i)).ref=Cs(t,null,e),i.return=t,i;case et:return(e=qa(e,t.mode,i)).return=t,e}if(Ts(e)||mt(e))return(e=Za(e,t.mode,i,null)).return=t,e;Is(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:a(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===r?i.type===it?c(t,e,i.props.children,n,r):h(t,e,i,n):null;case et:return i.key===r?u(t,e,i,n):null}if(Ts(i)||mt(i))return null!==r?null:c(t,e,i,n,null);Is(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return a(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?i:n.key)||null,n.type===it?c(e,t,n.props.children,r,n.key):h(e,t,n,r);case et:return u(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(Ts(n)||mt(n))return c(e,t=t.get(i)||null,n,r,null);Is(e,n)}return null}function m(r,o,l,a){for(var h=null,u=null,c=o,m=o=0,y=null;null!==c&&m<l.length;m++){c.index>m?(y=c,c=null):y=c.sibling;var g=f(r,c,l[m],a);if(null===g){null===c&&(c=y);break}t&&c&&null===g.alternate&&e(r,c),o=s(g,o,m),null===u?h=g:u.sibling=g,u=g,c=y}if(m===l.length)return i(r,c),h;if(null===c){for(;m<l.length;m++)null!==(c=d(r,l[m],a))&&(o=s(c,o,m),null===u?h=c:u.sibling=c,u=c);return h}for(c=n(r,c);m<l.length;m++)null!==(y=p(c,r,m,l[m],a))&&(t&&null!==y.alternate&&c.delete(null===y.key?m:y.key),o=s(y,o,m),null===u?h=y:u.sibling=y,u=y);return t&&c.forEach((function(t){return e(r,t)})),h}function y(r,l,a,h){var u=mt(a);if("function"!==typeof u)throw Error(o(150));if(null==(a=u.call(a)))throw Error(o(151));for(var c=u=null,m=l,y=l=0,g=null,b=a.next();null!==m&&!b.done;y++,b=a.next()){m.index>y?(g=m,m=null):g=m.sibling;var v=f(r,m,b.value,h);if(null===v){null===m&&(m=g);break}t&&m&&null===v.alternate&&e(r,m),l=s(v,l,y),null===c?u=v:c.sibling=v,c=v,m=g}if(b.done)return i(r,m),u;if(null===m){for(;!b.done;y++,b=a.next())null!==(b=d(r,b.value,h))&&(l=s(b,l,y),null===c?u=b:c.sibling=b,c=b);return u}for(m=n(r,m);!b.done;y++,b=a.next())null!==(b=p(m,r,y,b.value,h))&&(t&&null!==b.alternate&&m.delete(null===b.key?y:b.key),l=s(b,l,y),null===c?u=b:c.sibling=b,c=b);return t&&m.forEach((function(t){return e(r,t)})),u}return function(t,n,s,a){var h="object"===typeof s&&null!==s&&s.type===it&&null===s.key;h&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case tt:t:{for(u=s.key,h=n;null!==h;){if(h.key===u){if(7===h.tag){if(s.type===it){i(t,h.sibling),(n=r(h,s.props.children)).return=t,t=n;break t}}else if(h.elementType===s.type){i(t,h.sibling),(n=r(h,s.props)).ref=Cs(t,h,s),n.return=t,t=n;break t}i(t,h);break}e(t,h),h=h.sibling}s.type===it?((n=Za(s.props.children,t.mode,a,s.key)).return=t,t=n):((a=Ga(s.type,s.key,s.props,null,t.mode,a)).ref=Cs(t,n,s),a.return=t,t=a)}return l(t);case et:t:{for(h=s.key;null!==n;){if(n.key===h){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){i(t,n.sibling),(n=r(n,s.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=qa(s,t.mode,a)).return=t,t=n}return l(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,s)).return=t,t=n):(i(t,n),(n=Xa(s,t.mode,a)).return=t,t=n),l(t);if(Ts(s))return m(t,n,s,a);if(mt(s))return y(t,n,s,a);if(u&&Is(t,s),"undefined"===typeof s&&!h)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return i(t,n)}}var Es=ks(!0),Bs=ks(!1),Ns={},Ds={current:Ns},Os={current:Ns},Ps={current:Ns};function As(t){if(t===Ns)throw Error(o(174));return t}function Fs(t,e){switch(pr(Ps,e),pr(Os,t),pr(Ds,Ns),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rt(null,"");break;default:e=Rt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}fr(Ds),pr(Ds,e)}function Rs(){fr(Ds),fr(Os),fr(Ps)}function zs(t){As(Ps.current);var e=As(Ds.current),i=Rt(e,t.type);e!==i&&(pr(Os,t),pr(Ds,i))}function Ls(t){Os.current===t&&(fr(Ds),fr(Os))}var Vs={current:0};function Us(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===gi||i.data===bi))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ys(t,e){return{responder:t,props:e}}var Ws=G.ReactCurrentDispatcher,js=G.ReactCurrentBatchConfig,$s=0,Qs=null,Hs=null,Js=null,Ks=!1;function Gs(){throw Error(o(321))}function Zs(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Yn(t[i],e[i]))return!1;return!0}function Xs(t,e,i,n,r,s){if($s=s,Qs=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ws.current=null===t||null===t.memoizedState?Mo:Io,t=i(n,r),e.expirationTime===$s){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Js=Hs=null,e.updateQueue=null,Ws.current=ko,t=i(n,r)}while(e.expirationTime===$s)}if(Ws.current=xo,e=null!==Hs&&null!==Hs.next,$s=0,Js=Hs=Qs=null,Ks=!1,e)throw Error(o(300));return t}function qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Qs.memoizedState=Js=t:Js=Js.next=t,Js}function to(){if(null===Hs){var t=Qs.alternate;t=null!==t?t.memoizedState:null}else t=Hs.next;var e=null===Js?Qs.memoizedState:Js.next;if(null!==e)Js=e,Hs=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Hs=t).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Js?Qs.memoizedState=Js=t:Js=Js.next=t}return Js}function eo(t,e){return"function"===typeof e?e(t):e}function io(t){var e=to(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=Hs,r=n.baseQueue,s=i.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}n.baseQueue=r=s,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var a=l=s=null,h=r;do{var u=h.expirationTime;if(u<$s){var c={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};null===a?(l=a=c,s=n):a=a.next=c,u>Qs.expirationTime&&(Qs.expirationTime=u,Ea(u))}else null!==a&&(a=a.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),ka(u,h.suspenseConfig),n=h.eagerReducer===t?h.eagerState:t(n,h.action);h=h.next}while(null!==h&&h!==r);null===a?s=n:a.next=l,Yn(n,e.memoizedState)||(Yo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function no(t){var e=to(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(null!==r){i.pending=null;var l=r=r.next;do{s=t(s,l.action),l=l.next}while(l!==r);Yn(s,e.memoizedState)||(Yo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function ro(t){var e=qs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t}).dispatch=So.bind(null,Qs,t),[e.memoizedState,t]}function so(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Qs.updateQueue)?(e={lastEffect:null},Qs.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function oo(){return to().memoizedState}function lo(t,e,i,n){var r=qs();Qs.effectTag|=t,r.memoizedState=so(1|e,i,void 0,void 0===n?null:n)}function ao(t,e,i,n){var r=to();n=void 0===n?null:n;var s=void 0;if(null!==Hs){var o=Hs.memoizedState;if(s=o.destroy,null!==n&&Zs(n,o.deps))return void so(e,i,s,n)}Qs.effectTag|=t,r.memoizedState=so(1|e,i,s,n)}function ho(t,e){return lo(516,4,t,e)}function uo(t,e){return ao(516,4,t,e)}function co(t,e){return ao(4,2,t,e)}function fo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function po(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,ao(4,2,fo.bind(null,e,t),i)}function mo(){}function go(t,e){return qs().memoizedState=[t,void 0===e?null:e],t}function vo(t,e){var i=to();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Zs(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function wo(t,e){var i=to();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Zs(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function _o(t,e,i){var n=$r();Hr(98>n?98:n,(function(){t(!0)})),Hr(97<n?97:n,(function(){var n=js.suspense;js.suspense=void 0===e?null:e;try{t(!1),i()}finally{js.suspense=n}}))}function So(t,e,i){var n=ma(),r=gs.suspense;r={expirationTime:n=ya(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===Qs||null!==s&&s===Qs)Ks=!0,r.expirationTime=$s,Qs.expirationTime=$s;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,l=s(o,i);if(r.eagerReducer=s,r.eagerState=l,Yn(l,o))return}catch(Lo){}ga(t,n)}}var xo={readContext:as,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useResponder:Gs,useDeferredValue:Gs,useTransition:Gs},Mo={readContext:as,useCallback:go,useContext:as,useEffect:ho,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,lo(4,2,fo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var i=qs();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=qs();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=So.bind(null,Qs,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},qs().memoizedState=t},useState:ro,useDebugValue:mo,useResponder:Ys,useDeferredValue:function(t,e){var i=ro(t),n=i[0],r=i[1];return ho((function(){var i=js.suspense;js.suspense=void 0===e?null:e;try{r(t)}finally{js.suspense=i}}),[t,e]),n},useTransition:function(t){var e=ro(!1),i=e[0];return e=e[1],[go(_o.bind(null,e,t),[e,t]),i]}},Io={readContext:as,useCallback:vo,useContext:as,useEffect:uo,useImperativeHandle:po,useLayoutEffect:co,useMemo:wo,useReducer:io,useRef:oo,useState:function(){return io(eo)},useDebugValue:mo,useResponder:Ys,useDeferredValue:function(t,e){var i=io(eo),n=i[0],r=i[1];return uo((function(){var i=js.suspense;js.suspense=void 0===e?null:e;try{r(t)}finally{js.suspense=i}}),[t,e]),n},useTransition:function(t){var e=io(eo),i=e[0];return e=e[1],[vo(_o.bind(null,e,t),[e,t]),i]}},ko={readContext:as,useCallback:vo,useContext:as,useEffect:uo,useImperativeHandle:po,useLayoutEffect:co,useMemo:wo,useReducer:no,useRef:oo,useState:function(){return no(eo)},useDebugValue:mo,useResponder:Ys,useDeferredValue:function(t,e){var i=no(eo),n=i[0],r=i[1];return uo((function(){var i=js.suspense;js.suspense=void 0===e?null:e;try{r(t)}finally{js.suspense=i}}),[t,e]),n},useTransition:function(t){var e=no(eo),i=e[0];return e=e[1],[vo(_o.bind(null,e,t),[e,t]),i]}},Eo=null,No=null,Do=!1;function Oo(t,e){var i=Ha(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Ao(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Fo(t){if(Do){var e=No;if(e){var i=e;if(!Ao(t,e)){if(!(e=Ti(i.nextSibling))||!Ao(t,e))return t.effectTag=-1025&t.effectTag|2,Do=!1,void(Eo=t);Oo(Eo,i)}Eo=t,No=Ti(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Do=!1,Eo=t}}function Ro(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Eo=t}function zo(t){if(t!==Eo)return!1;if(!Do)return Ro(t),Do=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Si(e,t.memoizedProps))for(e=No;e;)Oo(t,e),e=Ti(e.nextSibling);if(Ro(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if(i===yi){if(0===e){No=Ti(t.nextSibling);break t}e--}else i!==mi&&i!==bi&&i!==gi||e++}t=t.nextSibling}No=null}}else No=Eo?Ti(t.stateNode.nextSibling):null;return!0}function Vo(){No=Eo=null,Do=!1}var Uo=G.ReactCurrentOwner,Yo=!1;function Wo(t,e,i,n){e.child=null===t?Bs(e,null,i,n):Es(e,t.child,i,n)}function jo(t,e,i,n,r){i=i.render;var s=e.ref;return ls(e,r),n=Xs(t,e,i,n,s,r),null===t||Yo?(e.effectTag|=1,Wo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ll(t,e,r))}function $o(t,e,i,n,r,s){if(null===t){var o=i.type;return"function"!==typeof o||Ja(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Ga(i.type,null,n,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Qo(t,e,o,n,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(i=null!==(i=i.compare)?i:jn)(r,n)&&t.ref===e.ref)?ll(t,e,s):(e.effectTag|=1,(t=Ka(o,n)).ref=e.ref,t.return=e,e.child=t)}function Qo(t,e,i,n,r,s){return null!==t&&jn(t.memoizedProps,n)&&t.ref===e.ref&&(Yo=!1,r<s)?(e.expirationTime=t.expirationTime,ll(t,e,s)):Jo(t,e,i,n,s)}function Ho(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function Jo(t,e,i,n,r){var s=wr(i)?br:yr.current;return s=vr(e,s),ls(e,r),i=Xs(t,e,i,n,s,r),null===t||Yo?(e.effectTag|=1,Wo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ll(t,e,r))}function Ko(t,e,i,n,r){if(wr(i)){var s=!0;Mr(e)}else s=!1;if(ls(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ss(e,i,n),Ms(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=as(h):h=vr(e,h=wr(i)?br:yr.current);var u=i.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==h)&&xs(e,o,n,h),hs=!1;var d=e.memoizedState;o.state=d,ms(e,n,o,r),a=e.memoizedState,l!==n||d!==a||gr.current||hs?("function"===typeof u&&(vs(e,i,u,n),a=e.memoizedState),(l=hs||_s(e,i,l,n,d,a,h))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=h,n=l):("function"===typeof o.componentDidMount&&(e.effectTag|=4),n=!1)}else o=e.stateNode,cs(t,e),l=e.memoizedProps,o.props=e.type===e.elementType?l:qr(e.type,l),a=o.context,"object"===typeof(h=i.contextType)&&null!==h?h=as(h):h=vr(e,h=wr(i)?br:yr.current),(c="function"===typeof(u=i.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==h)&&xs(e,o,n,h),hs=!1,a=e.memoizedState,o.state=a,ms(e,n,o,r),d=e.memoizedState,l!==n||a!==d||gr.current||hs?("function"===typeof u&&(vs(e,i,u,n),d=e.memoizedState),(u=hs||_s(e,i,l,n,a,d,h))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,h),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,h)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=h,n=u):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),n=!1);return Go(t,e,i,n,s,r)}function Go(t,e,i,n,r,s){Ho(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return r&&Tr(e,i,!1),ll(t,e,s);n=e.stateNode,Uo.current=e;var l=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&o?(e.child=Es(e,t.child,null,s),e.child=Es(e,null,l,s)):Wo(t,e,l,s),e.memoizedState=n.state,r&&Tr(e,i,!0),e.child}function Zo(t){var e=t.stateNode;e.pendingContext?Sr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Sr(0,e.context,!1),Fs(t,e.containerInfo)}var Xo,qo,tl,el,il={dehydrated:null,retryTime:0};function nl(t,e,i){var n,r=e.mode,s=e.pendingProps,o=Vs.current,l=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&o)&&(null===t||null!==t.memoizedState)),n?(l=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),pr(Vs,1&o),null===t){if(void 0!==s.fallback&&Fo(e),l){if(l=s.fallback,(s=Za(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Za(l,r,i,null)).return=e,s.sibling=i,e.memoizedState=il,e.child=s,i}return r=s.children,e.memoizedState=null,e.child=Bs(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,l){if(s=s.fallback,(i=Ka(t,t.pendingProps)).return=e,0===(2&e.mode)&&(l=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=l;null!==l;)l.return=i,l=l.sibling;return(r=Ka(r,s)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=il,e.child=i,r}return i=Es(e,t.child,s.children,i),e.memoizedState=null,e.child=i}if(t=t.child,l){if(l=s.fallback,(s=Za(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Za(l,r,i,null)).return=e,s.sibling=i,i.effectTag|=2,s.childExpirationTime=0,e.memoizedState=il,e.child=s,i}return e.memoizedState=null,e.child=Es(e,t,s.children,i)}function rl(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),os(t.return,e)}function sl(t,e,i,n,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function ol(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Wo(t,e,n.children,i),0!==(2&(n=Vs.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&rl(t,i);else if(19===t.tag)rl(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pr(Vs,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===Us(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),sl(e,!1,r,i,s,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===Us(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}sl(e,!0,i,null,s,e.lastEffect);break;case"together":sl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ll(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&Ea(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Ka(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Ka(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function al(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hl(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wr(e.type)&&_r(),null;case 3:return Rs(),fr(gr),fr(yr),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!zo(e)||(e.effectTag|=4),qo(e),null;case 5:Ls(e),i=As(Ps.current);var s=e.type;if(null!==t&&null!=e.stateNode)tl(t,e,s,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=As(Ds.current),zo(e)){n=e.stateNode,s=e.type;var l=e.memoizedProps;switch(n[ki]=e,n[Ei]=l,s){case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(t=0;t<Gt.length;t++)He(Gt[t],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"form":He("reset",n),He("submit",n);break;case"details":He("toggle",n);break;case"input":xt(n,l),He("invalid",n),li(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},He("invalid",n),li(i,"onChange");break;case"textarea":Nt(n,l),He("invalid",n),li(i,"onChange")}for(var a in ri(s,l),t=null,l)if(l.hasOwnProperty(a)){var h=l[a];"children"===a?"string"===typeof h?n.textContent!==h&&(t=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(t=["children",""+h]):M.hasOwnProperty(a)&&null!=h&&li(i,a)}switch(s){case"input":wt(n),Ct(n,l,!0);break;case"textarea":wt(n),Ot(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=ai)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,t===oi&&(t=Ft(s)),t===oi?"script"===s?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=a.createElement(s,{is:n.is}):(t=a.createElement(s),"select"===s&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,s),t[ki]=e,t[Ei]=n,Xo(t,e,!1,!1),e.stateNode=t,a=si(s,n),s){case"iframe":case"object":case"embed":He("load",t),h=n;break;case"video":case"audio":for(h=0;h<Gt.length;h++)He(Gt[h],t);h=n;break;case"source":He("error",t),h=n;break;case"img":case"image":case"link":He("error",t),He("load",t),h=n;break;case"form":He("reset",t),He("submit",t),h=n;break;case"details":He("toggle",t),h=n;break;case"input":xt(t,n),h=St(t,n),He("invalid",t),li(i,"onChange");break;case"option":h=kt(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},h=r({},n,{value:void 0}),He("invalid",t),li(i,"onChange");break;case"textarea":Nt(t,n),h=Bt(t,n),He("invalid",t),li(i,"onChange");break;default:h=n}ri(s,h);var u=h;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ii(t,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&Lt(t,c):"children"===l?"string"===typeof c?("textarea"!==s||""!==c)&&Vt(t,c):"number"===typeof c&&Vt(t,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(M.hasOwnProperty(l)?null!=c&&li(i,l):null!=c&&Z(t,l,c,a))}switch(s){case"input":wt(t),Ct(t,n,!1);break;case"textarea":wt(t),Ot(t);break;case"option":null!=n.value&&t.setAttribute("value",""+bt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?Et(t,!!n.multiple,i,!1):null!=n.defaultValue&&Et(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof h.onClick&&(t.onclick=ai)}_i(s,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)el(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));i=As(Ps.current),As(Ds.current),zo(e)?(i=e.stateNode,n=e.memoizedProps,i[ki]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[ki]=e,e.stateNode=i)}return null;case 13:return fr(Vs),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&zo(e):(n=null!==(s=t.memoizedState),i||null===s||null!==(s=t.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=s,s.nextEffect=l):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Vs.current)?Kl===Ll&&(Kl=Yl):(Kl!==Ll&&Kl!==Yl||(Kl=Wl),0!==ta&&null!==Ql&&(ih(Ql,Jl),nh(Ql,ta)))),(i||n)&&(e.effectTag|=4),null);case 4:return Rs(),qo(e),null;case 10:return ss(e),null;case 19:if(fr(Vs),null===(n=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(l=n.rendering)){if(s)al(n,!1);else if(Kl!==Ll||null!==t&&0!==(64&t.effectTag))for(l=e.child;null!==l;){if(null!==(t=Us(l))){for(e.effectTag|=64,al(n,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)l=i,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=l,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,l=t.dependencies,s.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),n=n.sibling;return pr(Vs,1&Vs.current|2),e.child}l=l.sibling}}else{if(!s)if(null!==(t=Us(l))){if(e.effectTag|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),al(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*jr()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,s=!0,al(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=n.last)?i.sibling=l:e.child=l,n.last=l)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=jr()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=jr(),i.sibling=null,e=Vs.current,pr(Vs,s?1&e|2:1&e),i):null}throw Error(o(156,e.tag))}function ul(t){switch(t.tag){case 1:wr(t.type)&&_r();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Rs(),fr(gr),fr(yr),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return Ls(t),null;case 13:return fr(Vs),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fr(Vs),null;case 4:return Rs(),null;case 10:return ss(t),null;default:return null}}function cl(t,e){return{value:t,source:e,stack:gt(e)}}Xo=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},qo=function(){},tl=function(t,e,i,n,s){var o=t.memoizedProps;if(o!==n){var l,a,h=e.stateNode;switch(As(Ds.current),t=null,i){case"input":o=St(h,o),n=St(h,n),t=[];break;case"option":o=kt(h,o),n=kt(h,n),t=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":o=Bt(h,o),n=Bt(h,n),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(h.onclick=ai)}for(l in ri(i,n),i=null,o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l)for(a in h=o[l])h.hasOwnProperty(a)&&(i||(i={}),i[a]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(M.hasOwnProperty(l)?t||(t=[]):(t=t||[]).push(l,null));for(l in n){var u=n[l];if(h=null!=o?o[l]:void 0,n.hasOwnProperty(l)&&u!==h&&(null!=u||null!=h))if("style"===l)if(h){for(a in h)!h.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in u)u.hasOwnProperty(a)&&h[a]!==u[a]&&(i||(i={}),i[a]=u[a])}else i||(t||(t=[]),t.push(l,i)),i=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,h=h?h.__html:void 0,null!=u&&h!==u&&(t=t||[]).push(l,u)):"children"===l?h===u||"string"!==typeof u&&"number"!==typeof u||(t=t||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(M.hasOwnProperty(l)?(null!=u&&li(s,l),t||h===u||(t=[])):(t=t||[]).push(l,u))}i&&(t=t||[]).push("style",i),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},el=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var dl="function"===typeof WeakSet?WeakSet:Set;function fl(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=gt(i)),null!==i&&yt(i.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(yo){setTimeout((function(){throw yo}))}}function pl(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(To){Ua(t,To)}else e.current=null}function ml(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:qr(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function yl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function gl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function bl(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void gl(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:qr(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&ys(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}ys(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&_i(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Fe(i)))))}throw Error(o(163))}function vl(t,e,i){switch("function"===typeof $a&&$a(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Hr(97<i?97:i,(function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(bo){Ua(r,bo)}}t=t.next}while(t!==n)}))}break;case 1:pl(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ua(t,i)}}(e,i);break;case 5:pl(e);break;case 4:Tl(t,e,i)}}function wl(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&wl(e)}function _l(t){return 5===t.tag||3===t.tag||4===t.tag}function Sl(t){t:{for(var e=t.return;null!==e;){if(_l(e)){var i=e;break t}e=e.return}throw Error(o(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&i.effectTag&&(Vt(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||_l(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?xl(t,i,e):Ml(t,i,e)}function xl(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=ai));else if(4!==n&&null!==(t=t.child))for(xl(t,e,i),t=t.sibling;null!==t;)xl(t,e,i),t=t.sibling}function Ml(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(Ml(t,e,i),t=t.sibling;null!==t;)Ml(t,e,i),t=t.sibling}function Tl(t,e,i){for(var n,r,s=e,l=!1;;){if(!l){l=s.return;t:for(;;){if(null===l)throw Error(o(160));switch(n=l.stateNode,l.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}l=l.return}l=!0}if(5===s.tag||6===s.tag){t:for(var a=t,h=s,u=i,c=h;;)if(vl(a,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===h)break t;for(;null===c.sibling;){if(null===c.return||c.return===h)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,h=s.stateNode,8===a.nodeType?a.parentNode.removeChild(h):a.removeChild(h)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(vl(t,s,i),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(l=!1)}s.sibling.return=s.return,s=s.sibling}}function Cl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void yl(3,e);case 1:case 12:case 17:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[Ei]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Mt(i,n),si(t,r),e=si(t,n),r=0;r<s.length;r+=2){var l=s[r],a=s[r+1];"style"===l?ii(i,a):"dangerouslySetInnerHTML"===l?Lt(i,a):"children"===l?Vt(i,a):Z(i,l,a,e)}switch(t){case"input":Tt(i,n);break;case"textarea":Dt(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Et(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Et(i,!!n.multiple,n.defaultValue,!0):Et(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,ia=jr()),null!==i)t:for(t=i;;){if(5===t.tag)s=t.stateNode,n?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=ei("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void Il(e);case 19:return void Il(e)}throw Error(o(163))}function Il(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new dl),e.forEach((function(e){var n=Wa.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}var kl="function"===typeof WeakMap?WeakMap:Map;function El(t,e,i){(i=ds(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){sa||(sa=!0,oa=n),fl(t,e)},i}function Bl(t,e,i){(i=ds(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return fl(t,e),n(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===la?la=new Set([this]):la.add(this),fl(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var Nl,Dl=Math.ceil,Ol=G.ReactCurrentDispatcher,Pl=G.ReactCurrentOwner,Al=0,Fl=8,Rl=16,zl=32,Ll=0,Vl=1,Ul=2,Yl=3,Wl=4,jl=5,$l=Al,Ql=null,Hl=null,Jl=0,Kl=Ll,Gl=null,Zl=1073741823,Xl=1073741823,ql=null,ta=0,ea=!1,ia=0,na=500,ra=null,sa=!1,oa=null,la=null,aa=!1,ha=null,ua=90,ca=null,da=0,fa=null,pa=0;function ma(){return($l&(Rl|zl))!==Al?1073741821-(jr()/10|0):0!==pa?pa:pa=1073741821-(jr()/10|0)}function ya(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=$r();if(0===(4&e))return 99===n?1073741823:1073741822;if(($l&Rl)!==Al)return Jl;if(null!==i)t=Xr(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Xr(t,150,100);break;case 97:case 96:t=Xr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Ql&&t===Jl&&--t,t}function ga(t,e){if(50<da)throw da=0,fa=null,Error(o(185));if(null!==(t=ba(t,e))){var i=$r();1073741823===e?($l&Fl)!==Al&&($l&(Rl|zl))===Al?Sa(t):(wa(t),$l===Al&&Gr()):wa(t),(4&$l)===Al||98!==i&&99!==i||(null===ca?ca=new Map([[t,e]]):(void 0===(i=ca.get(t))||i>e)&&ca.set(t,e))}}function ba(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Ql===r&&(Ea(e),Kl===Wl&&ih(r,Jl)),nh(r,e)),r}function va(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!eh(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function wa(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Kr(Sa.bind(null,t));else{var e=va(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=ma();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==Rr&&kr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Kr(Sa.bind(null,t)):Jr(n,_a.bind(null,t),{timeout:10*(1073741821-e)-jr()}),t.callbackNode=e}}}function _a(t,e){if(pa=0,e)return rh(t,e=ma()),wa(t),null;var i=va(t);if(0!==i){if(e=t.callbackNode,($l&(Rl|zl))!==Al)throw Error(o(327));if(za(),t===Ql&&i===Jl||Ta(t,i),null!==Hl){var n=$l;$l|=Rl;for(var r=Ia();;)try{Na();break}catch(bo){Ca(t,bo)}if(rs(),$l=n,Ol.current=r,Kl===Vl)throw e=Gl,Ta(t,i),ih(t,i),wa(t),e;if(null===Hl)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Kl,Ql=null,n){case Ll:case Vl:throw Error(o(345));case Ul:rh(t,2<i?2:i);break;case Yl:if(ih(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Pa(r)),1073741823===Zl&&10<(r=ia+na-jr())){if(ea){var s=t.lastPingedTime;if(0===s||s>=i){t.lastPingedTime=i,Ta(t,i);break}}if(0!==(s=va(t))&&s!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=xi(Aa.bind(null,t),r);break}Aa(t);break;case Wl:if(ih(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Pa(r)),ea&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,Ta(t,i);break}if(0!==(r=va(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==Xl?n=10*(1073741821-Xl)-jr():1073741823===Zl?n=0:(n=10*(1073741821-Zl)-5e3,0>(n=(r=jr())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dl(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=xi(Aa.bind(null,t),n);break}Aa(t);break;case jl:if(1073741823!==Zl&&null!==ql){s=Zl;var l=ql;if(0>=(n=0|l.busyMinDurationMs)?n=0:(r=0|l.busyDelayMs,n=(s=jr()-(10*(1073741821-s)-(0|l.timeoutMs||5e3)))<=r?0:r+n-s),10<n){ih(t,i),t.timeoutHandle=xi(Aa.bind(null,t),n);break}}Aa(t);break;default:throw Error(o(329))}if(wa(t),t.callbackNode===e)return _a.bind(null,t)}}return null}function Sa(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,($l&(Rl|zl))!==Al)throw Error(o(327));if(za(),t===Ql&&e===Jl||Ta(t,e),null!==Hl){var i=$l;$l|=Rl;for(var n=Ia();;)try{Ba();break}catch(yo){Ca(t,yo)}if(rs(),$l=i,Ol.current=n,Kl===Vl)throw i=Gl,Ta(t,e),ih(t,e),wa(t),i;if(null!==Hl)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ql=null,Aa(t),wa(t)}return null}function xa(t,e){var i=$l;$l|=1;try{return t(e)}finally{($l=i)===Al&&Gr()}}function Ma(t,e){var i=$l;$l&=-2,$l|=Fl;try{return t(e)}finally{($l=i)===Al&&Gr()}}function Ta(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,Mi(i)),null!==Hl)for(i=Hl.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&_r();break;case 3:Rs(),fr(gr),fr(yr);break;case 5:Ls(n);break;case 4:Rs();break;case 13:case 19:fr(Vs);break;case 10:ss(n)}i=i.return}Ql=t,Hl=Ka(t.current,null),Jl=e,Kl=Ll,Gl=null,Xl=Zl=1073741823,ql=null,ta=0,ea=!1}function Ca(t,e){for(;;){try{if(rs(),Ws.current=xo,Ks)for(var i=Qs.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if($s=0,Js=Hs=Qs=null,Ks=!1,null===Hl||null===Hl.return)return Kl=Vl,Gl=e,Hl=null;t:{var r=t,s=Hl.return,o=Hl,l=e;if(e=Jl,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var a=l;if(0===(2&o.mode)){var h=o.alternate;h?(o.updateQueue=h.updateQueue,o.memoizedState=h.memoizedState,o.expirationTime=h.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Vs.current),c=s;do{var d;if(d=13===c.tag){var f=c.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=c.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=c.updateQueue;if(null===m){var y=new Set;y.add(a),c.updateQueue=y}else m.add(a);if(0===(2&c.mode)){if(c.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=ds(1073741823,null);g.tag=2,fs(o,g)}o.expirationTime=1073741823;break t}l=void 0,o=e;var b=r.pingCache;if(null===b?(b=r.pingCache=new kl,l=new Set,b.set(a,l)):void 0===(l=b.get(a))&&(l=new Set,b.set(a,l)),!l.has(o)){l.add(o);var v=Ya.bind(null,r,a,o);a.then(v,v)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);l=Error((yt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(o))}Kl!==jl&&(Kl=Ul),l=cl(l,o),c=s;do{switch(c.tag){case 3:a=l,c.effectTag|=4096,c.expirationTime=e,ps(c,El(c,a,e));break t;case 1:a=l;var w=c.type,_=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===la||!la.has(_)))){c.effectTag|=4096,c.expirationTime=e,ps(c,Bl(c,a,e));break t}}c=c.return}while(null!==c)}Hl=Oa(Hl)}catch(S){e=S;continue}break}}function Ia(){var t=Ol.current;return Ol.current=xo,null===t?xo:t}function ka(t,e){t<Zl&&2<t&&(Zl=t),null!==e&&t<Xl&&2<t&&(Xl=t,ql=e)}function Ea(t){t>ta&&(ta=t)}function Ba(){for(;null!==Hl;)Hl=Da(Hl)}function Na(){for(;null!==Hl&&!zr();)Hl=Da(Hl)}function Da(t){var e=Nl(t.alternate,t,Jl);return t.memoizedProps=t.pendingProps,null===e&&(e=Oa(t)),Pl.current=null,e}function Oa(t){Hl=t;do{var e=Hl.alternate;if(t=Hl.return,0===(2048&Hl.effectTag)){if(e=hl(e,Hl,Jl),1===Jl||1!==Hl.childExpirationTime){for(var i=0,n=Hl.child;null!==n;){var r=n.expirationTime,s=n.childExpirationTime;r>i&&(i=r),s>i&&(i=s),n=n.sibling}Hl.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Hl.firstEffect),null!==Hl.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Hl.firstEffect),t.lastEffect=Hl.lastEffect),1<Hl.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Hl:t.firstEffect=Hl,t.lastEffect=Hl))}else{if(null!==(e=ul(Hl)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Hl.sibling))return e;Hl=t}while(null!==Hl);return Kl===Ll&&(Kl=jl),null}function Pa(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Aa(t){var e=$r();return Hr(99,Fa.bind(null,t,e)),null}function Fa(t,e){do{za()}while(null!==ha);if(($l&(Rl|zl))!==Al)throw Error(o(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Pa(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ql&&(Hl=Ql=null,Jl=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var s=$l;$l|=zl,Pl.current=null,vi=Qe;var l=fi();if(pi(l)){if("selectionStart"in l)var a={start:l.selectionStart,end:l.selectionEnd};else t:{var h=(a=(a=l.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(h&&0!==h.rangeCount){a=h.anchorNode;var u=h.anchorOffset,c=h.focusNode;h=h.focusOffset;try{a.nodeType,c.nodeType}catch(C){a=null;break t}var d=0,f=-1,p=-1,m=0,y=0,g=l,b=null;e:for(;;){for(var v;g!==a||0!==u&&3!==g.nodeType||(f=d+u),g!==c||0!==h&&3!==g.nodeType||(p=d+h),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)b=g,g=v;for(;;){if(g===l)break e;if(b===a&&++m===u&&(f=d),b===c&&++y===h&&(p=d),null!==(v=g.nextSibling))break;b=(g=b).parentNode}g=v}a=-1===f||-1===p?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;wi={activeElementDetached:null,focusedElem:l,selectionRange:a},Qe=!1,ra=r;do{try{Ra()}catch(C){if(null===ra)throw Error(o(330));Ua(ra,C),ra=ra.nextEffect}}while(null!==ra);ra=r;do{try{for(l=t,a=e;null!==ra;){var w=ra.effectTag;if(16&w&&Vt(ra.stateNode,""),128&w){var _=ra.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:Sl(ra),ra.effectTag&=-3;break;case 6:Sl(ra),ra.effectTag&=-3,Cl(ra.alternate,ra);break;case 1024:ra.effectTag&=-1025;break;case 1028:ra.effectTag&=-1025,Cl(ra.alternate,ra);break;case 4:Cl(ra.alternate,ra);break;case 8:Tl(l,u=ra,a),wl(u)}ra=ra.nextEffect}}catch(C){if(null===ra)throw Error(o(330));Ua(ra,C),ra=ra.nextEffect}}while(null!==ra);if(S=wi,_=fi(),w=S.focusedElem,a=S.selectionRange,_!==w&&w&&w.ownerDocument&&di(w.ownerDocument.documentElement,w)){null!==a&&pi(w)&&(_=a.start,void 0===(S=a.end)&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),u=w.textContent.length,l=Math.min(a.start,u),a=void 0===a.end?l:Math.min(a.end,u),!S.extend&&l>a&&(u=a,a=l,l=u),u=ci(w,l),c=ci(w,a),u&&c&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==c.node||S.focusOffset!==c.offset)&&((_=_.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),l>a?(S.addRange(_),S.extend(c.node,c.offset)):(_.setEnd(c.node,c.offset),S.addRange(_))))),_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(S=_[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Qe=!!vi,wi=vi=null,t.current=i,ra=r;do{try{for(w=t;null!==ra;){var x=ra.effectTag;if(36&x&&bl(w,ra.alternate,ra),128&x){_=void 0;var M=ra.ref;if(null!==M){var T=ra.stateNode;ra.tag,_=T,"function"===typeof M?M(_):M.current=_}}ra=ra.nextEffect}}catch(C){if(null===ra)throw Error(o(330));Ua(ra,C),ra=ra.nextEffect}}while(null!==ra);ra=null,Lr(),$l=s}else t.current=i;if(aa)aa=!1,ha=t,ua=e;else for(ra=r;null!==ra;)e=ra.nextEffect,ra.nextEffect=null,ra=e;if(0===(e=t.firstPendingTime)&&(la=null),1073741823===e?t===fa?da++:(da=0,fa=t):da=0,"function"===typeof ja&&ja(i.stateNode,n),wa(t),sa)throw sa=!1,t=oa,oa=null,t;return($l&Fl)!==Al||Gr(),null}function Ra(){for(;null!==ra;){var t=ra.effectTag;0!==(256&t)&&ml(ra.alternate,ra),0===(512&t)||aa||(aa=!0,Jr(97,(function(){return za(),null}))),ra=ra.nextEffect}}function za(){if(90!==ua){var t=97<ua?97:ua;return ua=90,Hr(t,La)}}function La(){if(null===ha)return!1;var t=ha;if(ha=null,($l&(Rl|zl))!==Al)throw Error(o(331));var e=$l;for($l|=zl,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:yl(5,i),gl(5,i)}}catch(Co){if(null===t)throw Error(o(330));Ua(t,Co)}i=t.nextEffect,t.nextEffect=null,t=i}return $l=e,Gr(),!0}function Va(t,e,i){fs(t,e=El(t,e=cl(i,e),1073741823)),null!==(t=ba(t,1073741823))&&wa(t)}function Ua(t,e){if(3===t.tag)Va(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Va(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===la||!la.has(n))){fs(i,t=Bl(i,t=cl(e,t),1073741823)),null!==(i=ba(i,1073741823))&&wa(i);break}}i=i.return}}function Ya(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),Ql===t&&Jl===i?Kl===Wl||Kl===Yl&&1073741823===Zl&&jr()-ia<na?Ta(t,Jl):ea=!0:eh(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,wa(t)))}function Wa(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=ya(e=ma(),t,null)),null!==(t=ba(t,e))&&wa(t)}Nl=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||gr.current)Yo=!0;else{if(n<i){switch(Yo=!1,e.tag){case 3:Zo(e),Vo();break;case 5:if(zs(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:wr(e.type)&&Mr(e);break;case 4:Fs(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,pr(ts,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?nl(t,e,i):(pr(Vs,1&Vs.current),null!==(e=ll(t,e,i))?e.sibling:null);pr(Vs,1&Vs.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return ol(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),pr(Vs,Vs.current),!n)return null}return ll(t,e,i)}Yo=!1}}else Yo=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=vr(e,yr.current),ls(e,i),r=Xs(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(n)){var s=!0;Mr(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,us(e);var l=n.getDerivedStateFromProps;"function"===typeof l&&vs(e,n,l,t),r.updater=ws,e.stateNode=r,r._reactInternalFiber=e,Ms(e,n,t,i),e=Go(null,e,n,!0,s,i)}else e.tag=0,Wo(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return Ja(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===at)return 11;if(t===ct)return 14}return 2}(r),t=qr(r,t),s){case 0:e=Jo(null,e,r,t,i);break t;case 1:e=Ko(null,e,r,t,i);break t;case 11:e=jo(null,e,r,t,i);break t;case 14:e=$o(null,e,r,qr(r.type,t),n,i);break t}throw Error(o(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,Jo(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 1:return n=e.type,r=e.pendingProps,Ko(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 3:if(Zo(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,cs(t,e),ms(e,n,null,i),(n=e.memoizedState.element)===r)Vo(),e=ll(t,e,i);else{if((r=e.stateNode.hydrate)&&(No=Ti(e.stateNode.containerInfo.firstChild),Eo=e,r=Do=!0),r)for(i=Bs(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Wo(t,e,n,i),Vo();e=e.child}return e;case 5:return zs(e),null===t&&Fo(e),n=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,l=r.children,Si(n,r)?l=null:null!==s&&Si(n,s)&&(e.effectTag|=16),Ho(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Wo(t,e,l,i),e=e.child),e;case 6:return null===t&&Fo(e),null;case 13:return nl(t,e,i);case 4:return Fs(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Es(e,null,n,i):Wo(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,jo(t,e,n,r=e.elementType===n?r:qr(n,r),i);case 7:return Wo(t,e,e.pendingProps,i),e.child;case 8:case 12:return Wo(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,l=e.memoizedProps,s=r.value;var a=e.type._context;if(pr(ts,a._currentValue),a._currentValue=s,null!==l)if(a=l.value,0===(s=Yn(a,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(a,s):1073741823))){if(l.children===r.children&&!gr.current){e=ll(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var h=a.dependencies;if(null!==h){l=a.child;for(var u=h.firstContext;null!==u;){if(u.context===n&&0!==(u.observedBits&s)){1===a.tag&&((u=ds(i,null)).tag=2,fs(a,u)),a.expirationTime<i&&(a.expirationTime=i),null!==(u=a.alternate)&&u.expirationTime<i&&(u.expirationTime=i),os(a.return,i),h.expirationTime<i&&(h.expirationTime=i);break}u=u.next}}else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}Wo(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(s=e.pendingProps).children,ls(e,i),n=n(r=as(r,s.unstable_observedBits)),e.effectTag|=1,Wo(t,e,n,i),e.child;case 14:return s=qr(r=e.type,e.pendingProps),$o(t,e,r,s=qr(r.type,s),n,i);case 15:return Qo(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qr(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,wr(n)?(t=!0,Mr(e)):t=!1,ls(e,i),Ss(e,n,r),Ms(e,n,r,i),Go(null,e,n,!0,t,i);case 19:return ol(t,e,i)}throw Error(o(156,e.tag))};var ja=null,$a=null;function Qa(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ha(t,e,i,n){return new Qa(t,e,i,n)}function Ja(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ka(t,e){var i=t.alternate;return null===i?((i=Ha(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ga(t,e,i,n,r,s){var l=2;if(n=t,"function"===typeof t)Ja(t)&&(l=1);else if("string"===typeof t)l=5;else t:switch(t){case it:return Za(i.children,r,s,e);case lt:l=8,r|=7;break;case nt:l=8,r|=1;break;case rt:return(t=Ha(12,i,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ht:return(t=Ha(13,i,e,r)).type=ht,t.elementType=ht,t.expirationTime=s,t;case ut:return(t=Ha(19,i,e,r)).elementType=ut,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case st:l=10;break t;case ot:l=9;break t;case at:l=11;break t;case ct:l=14;break t;case dt:l=16,n=null;break t;case ft:l=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ha(l,i,e,r)).elementType=t,e.type=n,e.expirationTime=s,e}function Za(t,e,i,n){return(t=Ha(7,t,n,e)).expirationTime=i,t}function Xa(t,e,i){return(t=Ha(6,t,null,e)).expirationTime=i,t}function qa(t,e,i){return(e=Ha(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function th(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function eh(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function ih(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function nh(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function rh(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function sh(t,e,i,n){var r=e.current,s=ma(),l=gs.suspense;s=ya(s,r,l);t:if(i){e:{if(qt(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(o(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);throw Error(o(171))}if(1===i.tag){var h=i.type;if(wr(h)){i=xr(i,h,a);break t}}i=a}else i=mr;return null===e.context?e.context=i:e.pendingContext=i,(e=ds(s,l)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),fs(r,e),ga(r,s),s}function oh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function lh(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ah(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function hh(t,e,i){var n=new th(t,e,i=null!=i&&!0===i.hydrate),r=Ha(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,us(r),t[Bi]=n.current,i&&0!==e&&function(t,e){var i=Xt(e);Ce.forEach((function(t){pe(t,e,i)})),Ie.forEach((function(t){pe(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function uh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ch(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var l=r;r=function(){var t=oh(o);l.call(t)}}sh(e,o,t,r)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new hh(t,0,e?{hydrate:!0}:void 0)}(i,n),o=s._internalRoot,"function"===typeof r){var a=r;r=function(){var t=oh(o);a.call(t)}}Ma((function(){sh(e,o,t,r)}))}return oh(o)}function dh(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uh(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}hh.prototype.render=function(t){sh(t,this._internalRoot,null,null)},hh.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;sh(null,t,null,(function(){e[Bi]=null}))},me=function(t){if(13===t.tag){var e=Xr(ma(),150,100);ga(t,e),ah(t,e)}},ye=function(t){13===t.tag&&(ga(t,3),ah(t,3))},ge=function(t){if(13===t.tag){var e=ma();ga(t,e=ya(e,t,null)),ah(t,e)}},k=function(t,e,i){switch(e){case"input":if(Tt(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Pi(n);if(!r)throw Error(o(90));_t(n),Tt(n,r)}}}break;case"textarea":Dt(t,i);break;case"select":null!=(e=i.value)&&Et(t,!!i.multiple,e,!1)}},P=xa,A=function(t,e,i,n,r){var s=$l;$l|=4;try{return Hr(98,t.bind(null,e,i,n,r))}finally{($l=s)===Al&&Gr()}},F=function(){($l&(1|Rl|zl))===Al&&(function(){if(null!==ca){var t=ca;ca=null,t.forEach((function(t,e){rh(e,t),wa(e)})),Gr()}}(),za())},R=function(t,e){var i=$l;$l|=2;try{return t(e)}finally{($l=i)===Al&&Gr()}};var fh={Events:[Di,Oi,Pi,C,x,Ui,function(t){re(t,Vi)},D,O,Ze,le,za,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);ja=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(yo){}},$a=function(t){try{e.onCommitFiberUnmount(i,t)}catch(yo){}}}catch(Co){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ni,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fh,e.createPortal=dh,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if(($l&(Rl|zl))!==Al)throw Error(o(187));var i=$l;$l|=1;try{return Hr(99,t.bind(null,e))}finally{$l=i,Gr()}},e.hydrate=function(t,e,i){if(!uh(e))throw Error(o(200));return ch(null,t,e,!0,i)},e.render=function(t,e,i){if(!uh(e))throw Error(o(200));return ch(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!uh(t))throw Error(o(40));return!!t._reactRootContainer&&(Ma((function(){ch(null,null,t,!1,(function(){t._reactRootContainer=null,t[Bi]=null}))})),!0)},e.unstable_batchedUpdates=xa,e.unstable_createPortal=function(t,e){return dh(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!uh(i))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return ch(t,e,i,!1,n)},e.version="16.14.0"},853:(t,e,i)=>{t.exports=i(234)},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n,r,s,o,l,a,h,u,c,d=i(43),f=i(950),p=i(219),m=i.n(p);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(n||(n={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(r||(r={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(s||(s={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(o||(o={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(l||(l={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(u||(u={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(c||(c={}));const[y,g]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[b,v]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[w,_]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),S=t=>"number"===typeof t,x=t=>"boolean"===typeof t,M=t=>"function"===typeof t,T=t=>null!=t&&Object(t)===t,C=t=>T(t)&&M(t.then),I=t=>T(t)&&M(t[Symbol.iterator]),k=t=>T(t)&&M(t[Symbol.asyncIterator]),E=t=>T(t)&&T(t.schema),B=t=>T(t)&&"done"in t&&"value"in t,N=t=>T(t)&&M(t.stat)&&S(t.fd),D=t=>T(t)&&P(t.body),O=t=>"_getDOMStream"in t&&"_getNodeStream"in t,P=t=>T(t)&&M(t.cancel)&&M(t.getReader)&&!O(t),A=t=>T(t)&&M(t.read)&&M(t.pipe)&&x(t.readable)&&!O(t);function F(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof b||t instanceof w?`[${[...t].map((t=>F(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"===typeof e?`${e}`:e))}function R(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{a(n.next(t))}catch(yo){s(yo)}}function l(t){try{a(n.throw(t))}catch(yo){s(yo)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,l)}a((n=n.apply(t,e||[])).next())}))}Object.create;function z(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function V(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(t){return function(e){return Promise.resolve(e).then(t,h)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){r[t]&&(n[t]=function(e){return new Promise((function(i,n){s.push([t,e,i,n])>1||l(t,e)}))},e&&(n[t]=e(n[t])))}function l(t,e){try{!function(t){t.value instanceof L?Promise.resolve(t.value.v).then(a,h):u(s[0][2],t)}(r[t](e))}catch(yo){u(s[0][3],yo)}}function a(t){l("next",t)}function h(t){l("throw",t)}function u(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function U(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:L(t[n](e)),done:!1}:r?r(e):e}:r}}function Y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=z(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const W=new TextDecoder("utf-8"),j=t=>W.decode(t),$=new TextEncoder,Q=t=>$.encode(t),H="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function J(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function K(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,l,a=0,h=0,u=t.length;++a<u;)o=e[h],l=t[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset?l&&(e[++h]=l):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=l),i+r<n||n+s<i?l&&(e[++h]=l):e[h]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce(((t,e)=>t+e.byteLength),0);let r,s,o,l=0,a=-1;const h=Math.min(e||Number.POSITIVE_INFINITY,n);for(const u=i.length;++a<u;){if(r=i[a],s=r.subarray(0,Math.min(r.length,h-l)),h<=l+s.length){s.length<r.length?i[a]=r.subarray(s.length):s.length===r.length&&a++,o?J(o,s,l):o=s;break}J(o||(o=new Uint8Array(h)),s,l),l+=s.length}return[o||new Uint8Array(0),i.slice(a),n-(o?o.byteLength:0)]}function G(t,e){let i=B(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=Q(i)),i instanceof ArrayBuffer||i instanceof H?new t(i):(t=>T(t)&&M(t.clear)&&M(t.bytes)&&M(t.position)&&M(t.setPosition)&&M(t.capacity)&&M(t.getBufferIdentifier)&&M(t.createLong))(i)?G(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const Z=t=>G(Int32Array,t),X=t=>G(Uint8Array,t),q=t=>(t.next(),t);function*tt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):I(e)?e:i(e);return yield*q(function*(e){let i=null;do{i=e.next(yield G(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function et(t,e){return V(this,arguments,(function*(){if(C(e))return yield L(yield L(yield*U(Y(et(t,yield L(e))))));const i=function(t){return V(this,arguments,(function*(){yield yield L(yield L(t))}))},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):I(e)?function(t){return V(this,arguments,(function*(){yield L(yield*U(Y(q(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):k(e)?e:i(e);return yield L(yield*U(Y(q(function(e){return V(this,arguments,(function*(){let i=null;do{i=yield L(e.next(yield yield L(G(t,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield L(new t)}))}function it(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const nt=Symbol.for("isArrowBigNum");function rt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(G(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function at(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new w(e,i,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let l=o?BigInt(1):BigInt(0),a=BigInt(0);if(o){for(const t of s)l+=~t*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const h of s)l+=h*(BigInt(1)<<BigInt(32)*a++);return l}let ht,ut;function ct(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}rt.prototype[nt]=!0,rt.prototype.toJSON=function(){return`"${ht(this)}"`},rt.prototype.valueOf=function(){return at(this)},rt.prototype.toString=function(){return ht(this)},rt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return at(this);case"string":return ht(this);case"default":return ut(this)}return ht(this)},Object.setPrototypeOf(st.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(ot.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lt.prototype,Object.create(Uint32Array.prototype)),Object.assign(st.prototype,rt.prototype,{constructor:st,signed:!0,TypedArray:Int32Array,BigIntArray:b}),Object.assign(ot.prototype,rt.prototype,{constructor:ot,signed:!1,TypedArray:Uint32Array,BigIntArray:w}),Object.assign(lt.prototype,rt.prototype,{constructor:lt,signed:!0,TypedArray:Uint32Array,BigIntArray:w}),g?(ut=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ct(t),ht=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:ct(t)):(ht=ct,ut=ht);class dt{static new(t,e){switch(e){case!0:return new st(t);case!1:return new ot(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case b:return new st(t)}return 16===t.byteLength?new lt(t):new ot(t)}static signed(t){return new st(t)}static unsigned(t){return new ot(t)}static decimal(t){return new lt(t)}constructor(t,e){return dt.new(t,e)}}var ft,pt,mt,yt,gt,bt,vt,wt,_t,St,xt,Mt,Tt,Ct,It,kt,Et,Bt,Nt,Dt;class Ot{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===u.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===u.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===u.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===u.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===u.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===u.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===u.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===u.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===u.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===u.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===u.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===u.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===u.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===u.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Dictionary}static isDenseUnion(t){return Ot.isUnion(t)&&t.mode===r.Dense}static isSparseUnion(t){return Ot.isUnion(t)&&t.mode===r.Sparse}get typeId(){return u.NONE}}ft=Symbol.toStringTag,Ot[ft]=((Dt=Ot.prototype).children=null,Dt.ArrayType=Array,Dt[Symbol.toStringTag]="DataType");class Pt extends Ot{toString(){return"Null"}get typeId(){return u.Null}}pt=Symbol.toStringTag,Pt[pt]=(t=>t[Symbol.toStringTag]="Null")(Pt.prototype);class At extends Ot{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return u.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?b:w}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}mt=Symbol.toStringTag,At[mt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(At.prototype);class Ft extends At{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends At{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends At{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Ft.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends At{constructor(){super(!0,64)}get ArrayType(){return b}}.prototype,"ArrayType",{value:b}),Object.defineProperty(class extends At{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends At{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends At{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends At{constructor(){super(!1,64)}get ArrayType(){return w}}.prototype,"ArrayType",{value:w});class Rt extends Ot{constructor(t){super(),this.precision=t}get typeId(){return u.Float}get ArrayType(){switch(this.precision){case s.HALF:return Uint16Array;case s.SINGLE:return Float32Array;case s.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}yt=Symbol.toStringTag,Rt[yt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Rt.prototype);Object.defineProperty(class extends Rt{constructor(){super(s.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Rt{constructor(){super(s.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Rt{constructor(){super(s.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class zt extends Ot{constructor(){super()}get typeId(){return u.Binary}toString(){return"Binary"}}gt=Symbol.toStringTag,zt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(zt.prototype);class Lt extends Ot{constructor(){super()}get typeId(){return u.Utf8}toString(){return"Utf8"}}bt=Symbol.toStringTag,Lt[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Lt.prototype);class Vt extends Ot{constructor(){super()}get typeId(){return u.Bool}toString(){return"Bool"}}vt=Symbol.toStringTag,Vt[vt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Vt.prototype);class Ut extends Ot{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return u.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}wt=Symbol.toStringTag,Ut[wt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Ut.prototype);class Yt extends Ot{constructor(t){super(),this.unit=t}get typeId(){return u.Date}toString(){return`Date${32*(this.unit+1)}<${o[this.unit]}>`}}_t=Symbol.toStringTag,Yt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Yt.prototype);class Wt extends Ot{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return u.Time}toString(){return`Time${this.bitWidth}<${l[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return b}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}St=Symbol.toStringTag,Wt[St]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Wt.prototype);class jt extends Ot{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return u.Timestamp}toString(){return`Timestamp<${l[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}xt=Symbol.toStringTag,jt[xt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(jt.prototype);class $t extends Ot{constructor(t){super(),this.unit=t}get typeId(){return u.Interval}toString(){return`Interval<${a[this.unit]}>`}}Mt=Symbol.toStringTag,$t[Mt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))($t.prototype);class Qt extends Ot{constructor(t){super(),this.children=[t]}get typeId(){return u.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Tt=Symbol.toStringTag,Qt[Tt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Qt.prototype);class Ht extends Ot{constructor(t){super(),this.children=t}get typeId(){return u.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Ct=Symbol.toStringTag,Ht[Ct]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Ht.prototype);class Jt extends Ot{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return u.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}It=Symbol.toStringTag,Jt[It]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Jt.prototype);class Kt extends Ot{constructor(t){super(),this.byteWidth=t}get typeId(){return u.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}kt=Symbol.toStringTag,Kt[kt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Kt.prototype);class Gt extends Ot{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return u.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Et=Symbol.toStringTag,Gt[Et]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Gt.prototype);class Zt extends Ot{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return u.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Bt=Symbol.toStringTag,Zt[Bt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Zt.prototype);const Xt=(qt=-1,()=>++qt);var qt;class te extends Ot{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Xt():"number"===typeof i?i:i.low}get typeId(){return u.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function ee(t){const e=t;switch(t.typeId){case u.Decimal:return t.bitWidth/32;case u.Timestamp:return 2;case u.Date:case u.Interval:return 1+e.unit;case u.FixedSizeList:return e.listSize;case u.FixedSizeBinary:return e.byteWidth;default:return 1}}Nt=Symbol.toStringTag,te[Nt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(te.prototype);class ie{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ne(t,e,i);if("string"===typeof e&&e in u)return ne(t,u[e],i);if(e&&e instanceof Ot)return ne(t,re(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Ot)return ne(t,re(e.type),i);return ne(t,u.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ne(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ne(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case u.Null:n=t.visitNull;break;case u.Bool:n=t.visitBool;break;case u.Int:n=t.visitInt;break;case u.Int8:n=t.visitInt8||t.visitInt;break;case u.Int16:n=t.visitInt16||t.visitInt;break;case u.Int32:n=t.visitInt32||t.visitInt;break;case u.Int64:n=t.visitInt64||t.visitInt;break;case u.Uint8:n=t.visitUint8||t.visitInt;break;case u.Uint16:n=t.visitUint16||t.visitInt;break;case u.Uint32:n=t.visitUint32||t.visitInt;break;case u.Uint64:n=t.visitUint64||t.visitInt;break;case u.Float:n=t.visitFloat;break;case u.Float16:n=t.visitFloat16||t.visitFloat;break;case u.Float32:n=t.visitFloat32||t.visitFloat;break;case u.Float64:n=t.visitFloat64||t.visitFloat;break;case u.Utf8:n=t.visitUtf8;break;case u.Binary:n=t.visitBinary;break;case u.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case u.Date:n=t.visitDate;break;case u.DateDay:n=t.visitDateDay||t.visitDate;break;case u.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case u.Timestamp:n=t.visitTimestamp;break;case u.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case u.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case u.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case u.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case u.Time:n=t.visitTime;break;case u.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case u.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case u.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case u.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case u.Decimal:n=t.visitDecimal;break;case u.List:n=t.visitList;break;case u.Struct:n=t.visitStruct;break;case u.Union:n=t.visitUnion;break;case u.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case u.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case u.Dictionary:n=t.visitDictionary;break;case u.Interval:n=t.visitInterval;break;case u.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case u.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case u.FixedSizeList:n=t.visitFixedSizeList;break;case u.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${u[e]}'`)}function re(t){switch(t.typeId){case u.Null:return u.Null;case u.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?u.Int8:u.Uint8;case 16:return i?u.Int16:u.Uint16;case 32:return i?u.Int32:u.Uint32;case 64:return i?u.Int64:u.Uint64}return u.Int}case u.Float:switch(t.precision){case s.HALF:return u.Float16;case s.SINGLE:return u.Float32;case s.DOUBLE:return u.Float64}return u.Float;case u.Binary:return u.Binary;case u.Utf8:return u.Utf8;case u.Bool:return u.Bool;case u.Decimal:return u.Decimal;case u.Time:switch(t.unit){case l.SECOND:return u.TimeSecond;case l.MILLISECOND:return u.TimeMillisecond;case l.MICROSECOND:return u.TimeMicrosecond;case l.NANOSECOND:return u.TimeNanosecond}return u.Time;case u.Timestamp:switch(t.unit){case l.SECOND:return u.TimestampSecond;case l.MILLISECOND:return u.TimestampMillisecond;case l.MICROSECOND:return u.TimestampMicrosecond;case l.NANOSECOND:return u.TimestampNanosecond}return u.Timestamp;case u.Date:switch(t.unit){case o.DAY:return u.DateDay;case o.MILLISECOND:return u.DateMillisecond}return u.Date;case u.Interval:switch(t.unit){case a.DAY_TIME:return u.IntervalDayTime;case a.YEAR_MONTH:return u.IntervalYearMonth}return u.Interval;case u.Map:return u.Map;case u.List:return u.List;case u.Struct:return u.Struct;case u.Union:switch(t.mode){case r.Dense:return u.DenseUnion;case r.Sparse:return u.SparseUnion}return u.Union;case u.FixedSizeBinary:return u.FixedSizeBinary;case u.FixedSizeList:return u.FixedSizeList;case u.Dictionary:return u.Dictionary}throw new Error(`Unrecognized type '${u[t.typeId]}'`)}ie.prototype.visitInt8=null,ie.prototype.visitInt16=null,ie.prototype.visitInt32=null,ie.prototype.visitInt64=null,ie.prototype.visitUint8=null,ie.prototype.visitUint16=null,ie.prototype.visitUint32=null,ie.prototype.visitUint64=null,ie.prototype.visitFloat16=null,ie.prototype.visitFloat32=null,ie.prototype.visitFloat64=null,ie.prototype.visitDateDay=null,ie.prototype.visitDateMillisecond=null,ie.prototype.visitTimestampSecond=null,ie.prototype.visitTimestampMillisecond=null,ie.prototype.visitTimestampMicrosecond=null,ie.prototype.visitTimestampNanosecond=null,ie.prototype.visitTimeSecond=null,ie.prototype.visitTimeMillisecond=null,ie.prototype.visitTimeMicrosecond=null,ie.prototype.visitTimeNanosecond=null,ie.prototype.visitDenseUnion=null,ie.prototype.visitSparseUnion=null,ie.prototype.visitIntervalDayTime=null,ie.prototype.visitIntervalYearMonth=null;const se=new Float64Array(1),oe=new Uint32Array(se.buffer);function le(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class ae extends ie{}function he(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const ue=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},ce=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},de=(t,e,i)=>{let{values:n}=t;n[e]=i},fe=(t,e,i)=>{let{values:n}=t;n[e]=i},pe=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;se[0]=t;const e=(2147483648&oe[1])>>16&65535;let i=2146435072&oe[1],n=0;return i>=1089470464?oe[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&oe[1])>>10):i<=1056964608?(n=1048576+(1048575&oe[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&oe[1])>>10),e|i|65535&n}(i)},me=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},ye=(t,e,i)=>{let{values:n}=t;ue(n,2*e,i.valueOf())},ge=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i/1e3)},be=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i)},ve=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},we=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},Se=(t,e,i)=>{let{values:n}=t;n[e]=i},xe=(t,e,i)=>{let{values:n}=t;n[e]=i},Me=(t,e,i)=>{let{values:n}=t;n[e]=i},Te=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ee.visit(r,t.valueOffsets[e],i)},Ce=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Ee.visit(r,e,i)},Ie=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},ke=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};ae.prototype.visitBool=he(((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)})),ae.prototype.visitInt=he(de),ae.prototype.visitInt8=he(de),ae.prototype.visitInt16=he(de),ae.prototype.visitInt32=he(de),ae.prototype.visitInt64=he(de),ae.prototype.visitUint8=he(de),ae.prototype.visitUint16=he(de),ae.prototype.visitUint32=he(de),ae.prototype.visitUint64=he(de),ae.prototype.visitFloat=he(((t,e,i)=>{switch(t.type.precision){case s.HALF:return pe(t,e,i);case s.SINGLE:case s.DOUBLE:return fe(t,e,i)}})),ae.prototype.visitFloat16=he(pe),ae.prototype.visitFloat32=he(fe),ae.prototype.visitFloat64=he(fe),ae.prototype.visitUtf8=he(((t,e,i)=>{let{values:n,valueOffsets:r}=t;ce(n,r,e,Q(i))})),ae.prototype.visitBinary=he(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return ce(n,r,e,i)})),ae.prototype.visitFixedSizeBinary=he(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),ae.prototype.visitDate=he(((t,e,i)=>{t.type.unit===o.DAY?me(t,e,i):ye(t,e,i)})),ae.prototype.visitDateDay=he(me),ae.prototype.visitDateMillisecond=he(ye),ae.prototype.visitTimestamp=he(((t,e,i)=>{switch(t.type.unit){case l.SECOND:return ge(t,e,i);case l.MILLISECOND:return be(t,e,i);case l.MICROSECOND:return ve(t,e,i);case l.NANOSECOND:return we(t,e,i)}})),ae.prototype.visitTimestampSecond=he(ge),ae.prototype.visitTimestampMillisecond=he(be),ae.prototype.visitTimestampMicrosecond=he(ve),ae.prototype.visitTimestampNanosecond=he(we),ae.prototype.visitTime=he(((t,e,i)=>{switch(t.type.unit){case l.SECOND:return _e(t,e,i);case l.MILLISECOND:return Se(t,e,i);case l.MICROSECOND:return xe(t,e,i);case l.NANOSECOND:return Me(t,e,i)}})),ae.prototype.visitTimeSecond=he(_e),ae.prototype.visitTimeMillisecond=he(Se),ae.prototype.visitTimeMicrosecond=he(xe),ae.prototype.visitTimeNanosecond=he(Me),ae.prototype.visitDecimal=he(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),ae.prototype.visitList=he(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Ee.getVisitFn(n);if(Array.isArray(i))for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i[++o]);else for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i.get(++o))})),ae.prototype.visitStruct=he(((t,e,i)=>{const n=t.type.children.map((t=>Ee.getVisitFn(t.type))),r=i instanceof Map?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(r.name)))(e,i):i instanceof Qi?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),ae.prototype.visitUnion=he(((t,e,i)=>{t.type.mode===r.Dense?Te(t,e,i):Ce(t,e,i)})),ae.prototype.visitDenseUnion=he(Te),ae.prototype.visitSparseUnion=he(Ce),ae.prototype.visitDictionary=he(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),ae.prototype.visitInterval=he(((t,e,i)=>{t.type.unit===a.DAY_TIME?Ie(t,e,i):ke(t,e,i)})),ae.prototype.visitIntervalDayTime=he(Ie),ae.prototype.visitIntervalYearMonth=he(ke),ae.prototype.visitFixedSizeList=he(((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=Ee.getVisitFn(r);if(Array.isArray(i))for(let o=-1,l=e*n;++o<n;)s(r,l+o,i[o]);else for(let o=-1,l=e*n;++o<n;)s(r,l+o,i.get(o))})),ae.prototype.visitMap=he(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=Ee.getVisitFn(n);let{[e]:o,[e+1]:l}=r;const a=i instanceof Map?i.entries():Object.entries(i);for(const h of a)if(s(n,o,h),++o>=l)break}));const Ee=new ae,Be=Symbol.for("parent"),Ne=Symbol.for("rowIndex");class De{constructor(t,e){return this[Be]=t,this[Ne]=e,new Proxy(this,new Pe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ne],e=this[Be],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=ii.visit(e.children[r],t);return n}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${F(e)}: ${F(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Oe(this[Be],this[Ne])}}class Oe{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ii.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(De.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Be]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ne]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Pe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Be].type.children.map((t=>t.name))}has(t,e){return-1!==t[Be].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Be].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Be].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=ii.visit(t[Be].children[i],t[Ne]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Be].type.children.findIndex((t=>t.name===e));return-1!==n?(Ee.visit(t[Be].children[n],t[Ne],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Ae extends ie{}function Fe(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Re=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),ze=t=>new Date(t),Le=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Ve=(t,e)=>{let{values:i}=t;return((t,e)=>ze(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>ze(Re(t,e)))(i,2*e)},Ye=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},We=(t,e)=>{let{values:i}=t;return i[e]},je=(t,e)=>{let{values:i}=t;return 1e3*Re(i,2*e)},$e=(t,e)=>{let{values:i}=t;return Re(i,2*e)},Qe=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Je=(t,e)=>{let{values:i}=t;return i[e]},Ke=(t,e)=>{let{values:i}=t;return i[e]},Ge=(t,e)=>{let{values:i}=t;return i[e]},Ze=(t,e)=>{let{values:i}=t;return i[e]},Xe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,t.valueOffsets[e])},qe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,e)},ti=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},ei=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Ae.prototype.visitNull=Fe(((t,e)=>null)),Ae.prototype.visitBool=Fe(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),Ae.prototype.visitInt=Fe(((t,e)=>{let{values:i}=t;return i[e]})),Ae.prototype.visitInt8=Fe(Ye),Ae.prototype.visitInt16=Fe(Ye),Ae.prototype.visitInt32=Fe(Ye),Ae.prototype.visitInt64=Fe(We),Ae.prototype.visitUint8=Fe(Ye),Ae.prototype.visitUint16=Fe(Ye),Ae.prototype.visitUint32=Fe(Ye),Ae.prototype.visitUint64=Fe(We),Ae.prototype.visitFloat=Fe(((t,e)=>{let{type:i,values:n}=t;return i.precision!==s.HALF?n[e]:le(n[e])})),Ae.prototype.visitFloat16=Fe(((t,e)=>{let{stride:i,values:n}=t;return le(n[i*e])})),Ae.prototype.visitFloat32=Fe(Ye),Ae.prototype.visitFloat64=Fe(Ye),Ae.prototype.visitUtf8=Fe(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Le(i,n,e);return null!==r?j(r):null})),Ae.prototype.visitBinary=Fe(((t,e)=>{let{values:i,valueOffsets:n}=t;return Le(i,n,e)})),Ae.prototype.visitFixedSizeBinary=Fe(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),Ae.prototype.visitDate=Fe(((t,e)=>t.type.unit===o.DAY?Ve(t,e):Ue(t,e))),Ae.prototype.visitDateDay=Fe(Ve),Ae.prototype.visitDateMillisecond=Fe(Ue),Ae.prototype.visitTimestamp=Fe(((t,e)=>{switch(t.type.unit){case l.SECOND:return je(t,e);case l.MILLISECOND:return $e(t,e);case l.MICROSECOND:return Qe(t,e);case l.NANOSECOND:return He(t,e)}})),Ae.prototype.visitTimestampSecond=Fe(je),Ae.prototype.visitTimestampMillisecond=Fe($e),Ae.prototype.visitTimestampMicrosecond=Fe(Qe),Ae.prototype.visitTimestampNanosecond=Fe(He),Ae.prototype.visitTime=Fe(((t,e)=>{switch(t.type.unit){case l.SECOND:return Je(t,e);case l.MILLISECOND:return Ke(t,e);case l.MICROSECOND:return Ge(t,e);case l.NANOSECOND:return Ze(t,e)}})),Ae.prototype.visitTimeSecond=Fe(Je),Ae.prototype.visitTimeMillisecond=Fe(Ke),Ae.prototype.visitTimeMicrosecond=Fe(Ge),Ae.prototype.visitTimeNanosecond=Fe(Ze),Ae.prototype.visitDecimal=Fe(((t,e)=>{let{values:i,stride:n}=t;return dt.decimal(i.subarray(n*e,n*(e+1)))})),Ae.prototype.visitList=Fe(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,l=r[0].slice(s,o-s);return new Qi([l])})),Ae.prototype.visitStruct=Fe(((t,e)=>new De(t,e))),Ae.prototype.visitUnion=Fe(((t,e)=>t.type.mode===r.Dense?Xe(t,e):qe(t,e))),Ae.prototype.visitDenseUnion=Fe(Xe),Ae.prototype.visitSparseUnion=Fe(qe),Ae.prototype.visitDictionary=Fe(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),Ae.prototype.visitInterval=Fe(((t,e)=>t.type.unit===a.DAY_TIME?ti(t,e):ei(t,e))),Ae.prototype.visitIntervalDayTime=Fe(ti),Ae.prototype.visitIntervalYearMonth=Fe(ei),Ae.prototype.visitFixedSizeList=Fe(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Qi([r])})),Ae.prototype.visitMap=Fe(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new si(o.slice(r,s-r))}));const ii=new Ae,ni=Symbol.for("keys"),ri=Symbol.for("vals");class si{constructor(t){return this[ni]=new Qi([t.children[0]]).memoize(),this[ri]=t.children[1],new Proxy(this,new li)}[Symbol.iterator](){return new oi(this[ni],this[ri])}get size(){return this[ni].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ni],e=this[ri],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=ii.visit(e,n);return i}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${F(e)}: ${F(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oi{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ii.visit(this.vals,t)]})}}class li{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ni].toArray().map(String)}has(t,e){return t[ni].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ni].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ni].indexOf(e);if(-1!==i){const n=ii.visit(Reflect.get(t,ri),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[ni].indexOf(e);return-1!==n?(Ee.visit(Reflect.get(t,ri),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ai;function hi(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(ai=s,s=o,o=ai),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(si.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ni]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ri]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const ui=t=>t!==t;function ci(t){if("object"!==typeof t||null===t)return ui(t)?ui:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=ci(n);return di(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t[i]);return di(e)}(t):t instanceof Qi?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t.get(i));return di(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=ci(t[i[r]]);return di(n,i)}(t,!0)}function di(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return fi(t,i,i.keys());case si:case De:case Object:case void 0:return fi(t,i,e||Object.keys(i))}return i instanceof Qi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function fi(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const l=t.length;let a=s.next(),h=n.next(),u=r.next();for(;o<l&&!h.done&&!u.done&&!a.done&&(h.value===u.value&&t[o](a.value));++o,h=n.next(),u=r.next(),a=s.next());return!!(o===l&&h.done&&u.done&&a.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class pi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function mi(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function yi(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function gi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],l=e[s],{length:a}=o;if(l>=n)break;if(i>=l+a)continue;if(l>=i&&l+a<=n){r.push(o);continue}const h=Math.max(0,i-l),u=Math.min(n-l,a);r.push(o.slice(h,u-h))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function bi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function vi(t,e){return t.getValid(e)}function wi(t){function e(e,i,n){return t(e[i],n)}return function(t){return bi(this.data,this._offsets,t,e)}}function _i(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=bi(r,this._offsets,t,i);return e=void 0,s}}function Si(t){let e;function i(i,n,r){let s=r,o=0,l=0;for(let a=n-1,h=i.length;++a<h;){const n=i[a];if(~(o=t(n,e,s)))return l+o;s=0,l+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):bi(r,this._offsets,n,i);return e=void 0,s}}function xi(t,e,i,n){return 0!==(i&1<<n)}function Mi(t,e,i,n){return(i&1<<n)>>n}function Ti(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Ci(new Ii(i,t,e,null,xi)).subarray(0,n)),r}return i}function Ci(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ii{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function ki(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new Ii(t,e,i-e,t,Mi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return ki(t,e,r)+ki(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Ei(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Ei(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Ei(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Ei(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Bi extends ie{}function Ni(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new Ii(i,t.offset+(e||0),t.length,i,xi)){if(!r)return n;++n}return-1}(t,i);const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function Di(t,e,i){const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Bi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Bi.prototype.visitBool=Ni,Bi.prototype.visitInt=Ni,Bi.prototype.visitInt8=Ni,Bi.prototype.visitInt16=Ni,Bi.prototype.visitInt32=Ni,Bi.prototype.visitInt64=Ni,Bi.prototype.visitUint8=Ni,Bi.prototype.visitUint16=Ni,Bi.prototype.visitUint32=Ni,Bi.prototype.visitUint64=Ni,Bi.prototype.visitFloat=Ni,Bi.prototype.visitFloat16=Ni,Bi.prototype.visitFloat32=Ni,Bi.prototype.visitFloat64=Ni,Bi.prototype.visitUtf8=Ni,Bi.prototype.visitBinary=Ni,Bi.prototype.visitFixedSizeBinary=Ni,Bi.prototype.visitDate=Ni,Bi.prototype.visitDateDay=Ni,Bi.prototype.visitDateMillisecond=Ni,Bi.prototype.visitTimestamp=Ni,Bi.prototype.visitTimestampSecond=Ni,Bi.prototype.visitTimestampMillisecond=Ni,Bi.prototype.visitTimestampMicrosecond=Ni,Bi.prototype.visitTimestampNanosecond=Ni,Bi.prototype.visitTime=Ni,Bi.prototype.visitTimeSecond=Ni,Bi.prototype.visitTimeMillisecond=Ni,Bi.prototype.visitTimeMicrosecond=Ni,Bi.prototype.visitTimeNanosecond=Ni,Bi.prototype.visitDecimal=Ni,Bi.prototype.visitList=Ni,Bi.prototype.visitStruct=Ni,Bi.prototype.visitUnion=Ni,Bi.prototype.visitDenseUnion=Di,Bi.prototype.visitSparseUnion=Di,Bi.prototype.visitDictionary=Ni,Bi.prototype.visitInterval=Ni,Bi.prototype.visitIntervalDayTime=Ni,Bi.prototype.visitIntervalYearMonth=Ni,Bi.prototype.visitFixedSizeList=Ni,Bi.prototype.visitMap=Ni;const Oi=new Bi;class Pi extends ie{}function Ai(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===u.Timestamp||e instanceof At&&64!==e.bitWidth||e instanceof Wt&&64!==e.bitWidth||e instanceof Rt&&e.precision!==s.HALF))return new pi(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new pi(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Fi(r)}))}class Fi{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pi.prototype.visitNull=Ai,Pi.prototype.visitBool=Ai,Pi.prototype.visitInt=Ai,Pi.prototype.visitInt8=Ai,Pi.prototype.visitInt16=Ai,Pi.prototype.visitInt32=Ai,Pi.prototype.visitInt64=Ai,Pi.prototype.visitUint8=Ai,Pi.prototype.visitUint16=Ai,Pi.prototype.visitUint32=Ai,Pi.prototype.visitUint64=Ai,Pi.prototype.visitFloat=Ai,Pi.prototype.visitFloat16=Ai,Pi.prototype.visitFloat32=Ai,Pi.prototype.visitFloat64=Ai,Pi.prototype.visitUtf8=Ai,Pi.prototype.visitBinary=Ai,Pi.prototype.visitFixedSizeBinary=Ai,Pi.prototype.visitDate=Ai,Pi.prototype.visitDateDay=Ai,Pi.prototype.visitDateMillisecond=Ai,Pi.prototype.visitTimestamp=Ai,Pi.prototype.visitTimestampSecond=Ai,Pi.prototype.visitTimestampMillisecond=Ai,Pi.prototype.visitTimestampMicrosecond=Ai,Pi.prototype.visitTimestampNanosecond=Ai,Pi.prototype.visitTime=Ai,Pi.prototype.visitTimeSecond=Ai,Pi.prototype.visitTimeMillisecond=Ai,Pi.prototype.visitTimeMicrosecond=Ai,Pi.prototype.visitTimeNanosecond=Ai,Pi.prototype.visitDecimal=Ai,Pi.prototype.visitList=Ai,Pi.prototype.visitStruct=Ai,Pi.prototype.visitUnion=Ai,Pi.prototype.visitDenseUnion=Ai,Pi.prototype.visitSparseUnion=Ai,Pi.prototype.visitDictionary=Ai,Pi.prototype.visitInterval=Ai,Pi.prototype.visitIntervalDayTime=Ai,Pi.prototype.visitIntervalYearMonth=Ai,Pi.prototype.visitFixedSizeList=Ai,Pi.prototype.visitMap=Ai;const Ri=new Pi,zi=(t,e)=>t+e;class Li extends ie{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===l.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Yi.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Yi.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Vi=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Yi.visit(n[o],s[e])},Ui=(t,e)=>{let{children:i}=t;return 4+Yi.visitMany(i,i.map((()=>e))).reduce(zi,0)};Li.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Li.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Li.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:l}=i,a=Yi.getVisitFn(s.type),h=s.slice(o,l-o);let u=8;for(let c=-1,d=l-o;++c<d;)u+=a(h,c);return u},Li.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Yi.getVisitFn(r.type);let l=0;for(let a=-1,h=s.length;++a<h;)l+=o(s,a);return l},Li.prototype.visitUnion=(t,e)=>t.type.mode===r.Dense?Vi(t,e):Ui(t,e),Li.prototype.visitDenseUnion=Vi,Li.prototype.visitSparseUnion=Ui;const Yi=new Li;var Wi;const ji={},$i={};class Qi{constructor(t){var e,i,n;const r=t[0]instanceof Qi?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Ji))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=ji[s.typeId],o=r[0];this.isValid=t=>vi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,$i[s.typeId]),this._offsets=yi(r)}this.data=r,this.type=s,this.stride=ee(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${u[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Ri.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Qi(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Qi(hi(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return gi(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case u.Int:case u.Float:case u.Decimal:case u.Time:case u.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Qi(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!Ot.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Ot.isDictionary(this.type)){const t=new Hi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Qi(e)}return new Hi(this)}unmemoize(){if(Ot.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Qi(e)}return this}}Wi=Symbol.toStringTag,Qi[Wi]=(t=>{t.type=Ot.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(u).map((t=>u[t])).filter((t=>"number"===typeof t&&t!==u.NONE));for(const i of e){const e=ii.getVisitFnByTypeId(i),n=Ee.getVisitFnByTypeId(i),r=Oi.getVisitFnByTypeId(i),s=Yi.getVisitFnByTypeId(i);ji[i]={get:e,set:n,indexOf:r,byteLength:s},$i[i]=Object.create(t,{isValid:{value:wi(vi)},get:{value:wi(ii.getVisitFnByTypeId(i))},set:{value:_i(Ee.getVisitFnByTypeId(i))},indexOf:{value:Si(Oi.getVisitFnByTypeId(i))},getByteLength:{value:wi(Yi.getVisitFnByTypeId(i))}})}return"Vector"})(Qi.prototype);class Hi extends Qi{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Hi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Qi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Ji{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Ji?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ee(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-ki(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Ji(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,l=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,l,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===u.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Ti(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[c.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[c.TYPE])&&(s[c.TYPE]=r.subarray(t,t+e)),(r=s[c.OFFSET])&&(s[c.OFFSET]=r.subarray(t,t+e+1))||(r=s[c.DATA])&&(s[c.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Ji.prototype.children=Object.freeze([]);class Ki extends ie{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Ji(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=X(t.data),r=X(t.nullBitmap),s=Z(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=X(t.data),r=X(t.nullBitmap),s=Z(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=X(t.nullBitmap),s=Z(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=X(t.nullBitmap),{length:s=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=X(t.nullBitmap),s=G(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:l=(t.nullBitmap?-1:0)}=t;if(Ot.isSparseUnion(e))return new Ji(e,i,o,l,[void 0,void 0,r,s],n);const a=Z(t.valueOffsets);return new Ji(e,i,o,l,[a,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.indices.ArrayType,t.data),{dictionary:s=new Qi([(new Ki).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=X(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Ki).visit({type:e.valueType})}=t,r=X(t.nullBitmap),{length:s=n.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Ki).visit({type:e.childType})}=t,r=X(t.nullBitmap),s=Z(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,void 0,r],[n])}}function Gi(t){return(new Ki).visit(t)}class Zi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=tn(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new Zi(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Zi(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Zi?e[0]:Array.isArray(e[0])?new Zi(e[0]):new Zi(e),r=[...this.fields],s=qi(qi(new Map,this.metadata),n.metadata),o=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:qi(qi(new Map,r[e].metadata),t.metadata)}))&&!1})),l=tn(o,new Map);return new Zi([...r,...o],s,new Map([...this.dictionaries,...l]))}}Zi.prototype.fields=null,Zi.prototype.metadata=null,Zi.prototype.dictionaries=null;class Xi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Xi(`${n}`,r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Xi.new(n,r,s,o)}}function qi(t,e){return new Map([...t||new Map,...e||new Map])}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Ot.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&tn(n.children,e)}return e}Xi.prototype.type=null,Xi.prototype.name=null,Xi.prototype.nullable=null,Xi.prototype.metadata=null;class en extends ie{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function nn(t,e){return e instanceof t.constructor}function rn(t,e){return t===e||nn(t,e)}function sn(t,e){return t===e||nn(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function on(t,e){return t===e||nn(t,e)&&t.precision===e.precision}function ln(t,e){return t===e||nn(t,e)&&t.unit===e.unit}function an(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function hn(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function un(t,e){return t===e||nn(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&dn.compareManyFields(t.children,e.children)}function cn(t,e){return t===e||nn(t,e)&&t.unit===e.unit}en.prototype.visitNull=rn,en.prototype.visitBool=rn,en.prototype.visitInt=sn,en.prototype.visitInt8=sn,en.prototype.visitInt16=sn,en.prototype.visitInt32=sn,en.prototype.visitInt64=sn,en.prototype.visitUint8=sn,en.prototype.visitUint16=sn,en.prototype.visitUint32=sn,en.prototype.visitUint64=sn,en.prototype.visitFloat=on,en.prototype.visitFloat16=on,en.prototype.visitFloat32=on,en.prototype.visitFloat64=on,en.prototype.visitUtf8=rn,en.prototype.visitBinary=rn,en.prototype.visitFixedSizeBinary=function(t,e){return t===e||nn(t,e)&&t.byteWidth===e.byteWidth},en.prototype.visitDate=ln,en.prototype.visitDateDay=ln,en.prototype.visitDateMillisecond=ln,en.prototype.visitTimestamp=an,en.prototype.visitTimestampSecond=an,en.prototype.visitTimestampMillisecond=an,en.prototype.visitTimestampMicrosecond=an,en.prototype.visitTimestampNanosecond=an,en.prototype.visitTime=hn,en.prototype.visitTimeSecond=hn,en.prototype.visitTimeMillisecond=hn,en.prototype.visitTimeMicrosecond=hn,en.prototype.visitTimeNanosecond=hn,en.prototype.visitDecimal=rn,en.prototype.visitList=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitStruct=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitUnion=un,en.prototype.visitDenseUnion=un,en.prototype.visitSparseUnion=un,en.prototype.visitDictionary=function(t,e){return t===e||nn(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&dn.visit(t.indices,e.indices)&&dn.visit(t.dictionary,e.dictionary)},en.prototype.visitInterval=cn,en.prototype.visitIntervalDayTime=cn,en.prototype.visitIntervalYearMonth=cn,en.prototype.visitFixedSizeList=function(t,e){return t===e||nn(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitMap=function(t,e){return t===e||nn(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)};const dn=new en;function fn(t,e){return dn.compareSchemas(t,e)}var pn,mn;class yn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Zi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Gi({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map((t=>Gi({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Ji))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=gn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Xi.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new Zi(i),o=Gi({type:new Ht(i),length:r,children:n,nullCount:0});[this.schema,this.data]=gn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=bn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ii.visit(this.data,t)}set(t,e){return Ee.visit(this.data,t,e)}indexOf(t,e){return Oi.visit(this.data,t,e)}getByteLength(t){return Yi.visit(this.data,t)}[Symbol.iterator](){return Ri.visit(new Qi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Sn(this.schema,[this,...e])}slice(t,e){const[i]=new Qi([this.data]).slice(t,e).data;return new yn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Qi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Qi([Gi({type:new Pt,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Zi(r,new Map(this.schema.metadata)),n=Gi({type:new Ht(r),children:s})}return new yn(i,n)}select(t){const e=this.schema.select(t),i=new Ht(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new yn(e,Gi({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Gi({type:new Ht(e.fields),length:this.numRows,children:i});return new yn(e,n)}}function gn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[l,a]of t.fields.entries()){const t=e[l];t&&t.length===i||(r[l]=a.clone({nullable:!0}),s[l]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Gi({type:a.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Gi({type:new Ht(r),length:i,children:s})]}function bn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(Ot.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&bn(r.children,s.children,i)}return i}pn=Symbol.toStringTag,yn[pn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(yn.prototype);class vn extends yn{constructor(t){const e=t.fields.map((t=>Gi({type:t.type})));super(t,Gi({type:new Ht(t.fields),nullCount:0,children:e}))}}function wn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,l=-1;const a=e.length;let h,u=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)u[l]=h=e[l].shift(),o=Math.min(o,h?h.length:o);Number.isFinite(o)&&(u=_n(i,o,u,e,r),o>0&&(n[s++]=Gi({type:new Ht(i),length:o,nullCount:0,children:u.slice()})))}return[t=t.assign(i),n.map((e=>new yn(t,e)))]}(t,e.map((t=>t.data.concat())))}function _n(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const a=i[l],h=null===a||void 0===a?void 0:a.length;if(h>=e)h===e?i[l]=a:(i[l]=a.slice(0,e),r.numBatches=Math.max(r.numBatches,n[l].unshift(a.slice(e,h-e))));else{const n=t[l];t[l]=n.clone({nullable:!0}),i[l]=null!==(s=null===a||void 0===a?void 0:a._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Gi({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class Sn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Zi([]),this._offsets=[0],this;let s,o;n[0]instanceof Zi&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const l=t=>{if(t){if(t instanceof yn)return[t];if(t instanceof Sn)return t.batches;if(t instanceof Ji){if(t.type instanceof Ht)return[new yn(new Zi(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>l(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>l(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Qi([t[e]]))),n=new Zi(e.map(((t,e)=>new Xi(String(t),i[e].type)))),[,r]=wn(n,i);return 0===r.length?[new yn(t)]:r}}}return[]},a=n.flatMap((t=>l(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=a[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Zi([]),!(s instanceof Zi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const h of a){if(!(h instanceof yn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!fn(s,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=null!==o&&void 0!==o?o:yi(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Ri.visit(new Qi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new Sn(t,r.map((e=>new yn(t,e))))}slice(t,e){const i=this.schema;[t,e]=hi({length:this.numRows},t,e);const n=gi(this.data,this._offsets,t,e);return new Sn(i,n.map((t=>new yn(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Gi({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Qi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Qi([Gi({type:new Pt,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],o[t]]=[s,e],[i,n]=wn(i,o)}return new Sn(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new Sn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new Sn(...wn(r,s))}}mn=Symbol.toStringTag,Sn[mn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=wi(vi),t.get=wi(ii.getVisitFn(u.Struct)),t.set=_i(Ee.getVisitFn(u.Struct)),t.indexOf=Si(Oi.getVisitFn(u.Struct)),t.getByteLength=wi(Yi.getVisitFn(u.Struct)),"Table"))(Sn.prototype);class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const Mn=new Int32Array(2),Tn=new Float32Array(Mn.buffer),Cn=new Float64Array(Mn.buffer),In=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class kn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?kn.ZERO:new kn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var En,Bn,Nn,Dn,On;kn.ZERO=new kn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(En||(En={}));class Pn{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Pn(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new kn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new kn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Mn[0]=this.readInt32(t),Tn[0]}readFloat64(t){return Mn[In?0:1]=this.readInt32(t),Mn[In?1:0]=this.readInt32(t+4),Cn[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Tn[0]=e,this.writeInt32(t,Mn[0])}writeFloat64(t,e){Cn[0]=e,this.writeInt32(t,Mn[In?0:1]),this.writeInt32(t+4,Mn[In?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===En.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return kn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class An{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Pn.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=An.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=Pn.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return kn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Fn.startKeyValue(t),Fn.addKey(t,e),Fn.addValue(t,i),Fn.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Bn||(Bn={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Nn||(Nn={})),function(t){t[t.DenseArray=0]="DenseArray"}(Dn||(Dn={}));class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Rn.startInt(t),Rn.addBitWidth(t,e),Rn.addIsSigned(t,i),Rn.endInt(t)}}class zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Rn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Dn.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Dn.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(On||(On={}));class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):On.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new zn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,On.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Nn.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Vn.startSchema(t),Vn.addEndianness(t,e),Vn.addFields(t,i),Vn.addCustomMetadata(t,n),Vn.addFeatures(t,r),Vn.endSchema(t)}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bn.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Vn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Bn.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Yn=kn,Wn=An,jn=Pn;class $n{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}static decode(t){t=new jn(X(t));const e=Un.getRootAsFooter(t),i=Zi.decode(e.schema());return new Qn(i,e)}static encode(t){const e=new Wn,i=Zi.encode(e,t.schema);Un.startRecordBatchesVector(e,t.numRecordBatches);for(const n of[...t.recordBatches()].slice().reverse())Hn.encode(e,n);const r=e.endVector();Un.startDictionariesVector(e,t.numDictionaries);for(const n of[...t.dictionaryBatches()].slice().reverse())Hn.encode(e,n);const s=e.endVector();return Un.startFooter(e),Un.addSchema(e,i),Un.addVersion(e,n.V4),Un.addRecordBatches(e,r),Un.addDictionaries(e,s),Un.finishFooterBuffer(e,Un.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Qn extends $n{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hn.decode(e)}return null}}class Hn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new Yn(e.offset,0),r=new Yn(e.bodyLength,0);return xn.createBlock(t,n,i,r)}}const Jn={fromIterable:t=>Kn(function*(t){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?K(o,r)[0]:([i,o,l]=K(o,r),i)}({cmd:n,size:r}=yield null);const h=(u=t,tt(Uint8Array,u))[Symbol.iterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?h.next():h.next(r-l)),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield a())}while(r<l)}while(!e)}catch(yo){(s=!0)&&"function"===typeof h.throw&&h.throw(yo)}finally{!1===s&&"function"===typeof h.return&&h.return(null)}return null}(t)),fromAsyncIterable:t=>Kn(function(t){return V(this,arguments,(function*(){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?K(o,r)[0]:([i,o,l]=K(o,r),i)}({cmd:n,size:r}=yield yield L(null));const h=(u=t,et(Uint8Array,u))[Symbol.asyncIterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?yield L(h.next()):yield L(h.next(r-l))),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield yield L(a()))}while(r<l)}while(!e)}catch(yo){(s=!0)&&"function"===typeof h.throw&&(yield L(h.throw(yo)))}finally{!1===s&&"function"===typeof h.return&&(yield L(h.return(new Uint8Array(0))))}return yield L(null)}))}(t)),fromDOMStream:t=>Kn(function(t){return V(this,arguments,(function*(){let e,i,n,r=!1,s=!1,o=[],l=0;function a(){return"peek"===i?K(o,n)[0]:([e,o,l]=K(o,n),e)}({cmd:i,size:n}=yield yield L(null));const h=new Gn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-l)?yield L(h.read()):yield L(h.read(n-l))),!r&&e.byteLength>0&&(o.push(X(e)),l+=e.byteLength),r||n<=l)do{({cmd:i,size:n}=yield yield L(a()))}while(n<l)}while(!r)}catch(yo){(s=!0)&&(yield L(h.cancel(yo)))}finally{!1===s?yield L(h.cancel()):t.locked&&h.releaseLock()}return yield L(null)}))}(t)),fromNodeStream:t=>Kn(function(t){return V(this,arguments,(function*(){const e=[];let i,n,r,s="error",o=!1,l=null,a=0,h=[];function u(){return"peek"===i?K(h,n)[0]:([r,h,a]=K(h,n),r)}if(({cmd:i,size:n}=yield yield L(null)),t.isTTY)return yield yield L(new Uint8Array(0)),yield L(null);try{e[0]=Zn(t,"end"),e[1]=Zn(t,"error");do{if(e[2]=Zn(t,"readable"),[s,l]=yield L(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-a)?(r=X(t.read(n-a)),r.byteLength<n-a&&(r=X(t.read()))):r=X(t.read()),r.byteLength>0&&(h.push(r),a+=r.byteLength)),o||n<=a)do{({cmd:i,size:n}=yield yield L(u()))}while(n<a)}while(!o)}finally{yield L(c(e,"error"===s?l:null))}return yield L(null);function c(e,i){return r=h=null,new Promise(((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(yo){i=yo||i}finally{null!=i?r(i):n()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Kn=t=>(t.next(),t);class Gn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return R(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return R(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=X(e)),e}))}}const Zn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise((r=>(n=r)&&t.once(e,i)))]};const Xn=Object.freeze({done:!0,value:void 0});class qn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class tr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class er extends tr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return R(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Xn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Jn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Jn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return R(this,void 0,void 0,(function*(){return yield this.abort(t),Xn}))}return(t){return R(this,void 0,void 0,(function*(){return yield this.close(),Xn}))}read(t){return R(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return R(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Xn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ir extends er{write(t){if((t=X(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?j(this.toUint8Array(!0)):this.toUint8Array(!1).then(j)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?K(this._values)[0]:(()=>R(this,void 0,void 0,(function*(){var t,e;const i=[];let n=0;try{for(var r,s=Y(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return K(i,n)[0]})))()}}class nr{constructor(t){t&&(this.source=new sr(Jn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof ir?this.source=new or(Jn.fromAsyncIterable(t)):A(t)?this.source=new or(Jn.fromNodeStream(t)):P(t)?this.source=new or(Jn.fromDOMStream(t)):D(t)?this.source=new or(Jn.fromDOMStream(t.body)):I(t)?this.source=new or(Jn.fromIterable(t)):(C(t)||k(t))&&(this.source=new or(Jn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class sr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Xn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Xn)}}class or{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return R(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return R(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return R(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return R(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return R(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Xn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return R(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Xn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class lr extends nr{constructor(t,e){super(),this.position=0,this.buffer=X(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ar extends rr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>R(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return R(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return R(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return R(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const l=Math.min(i,r+Math.min(i-r,t)),a=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=o)<l&&(s+=o)<a.byteLength;)({bytesRead:o}=yield e.read(a,s,a.byteLength-s,r));return a}return null}))}readAt(t,e){return R(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return R(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return R(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return R(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function hr(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const ur=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class cr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${hr(this.buffer[1])} ${hr(this.buffer[0])}`}}class dr extends cr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new dr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new dr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new dr(new Uint32Array([ur[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)dr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}}class fr extends cr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new fr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new fr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new fr(new Uint32Array([ur[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)fr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr{constructor(t){this.buffer=t}high(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new dr(new Uint32Array([this.buffer[3],0])),i=new dr(new Uint32Array([this.buffer[2],0])),n=new dr(new Uint32Array([this.buffer[1],0])),r=new dr(new Uint32Array([this.buffer[0],0])),s=new dr(new Uint32Array([t.buffer[3],0])),o=new dr(new Uint32Array([t.buffer[2],0])),l=new dr(new Uint32Array([t.buffer[1],0])),a=new dr(new Uint32Array([t.buffer[0],0]));let h=dr.multiply(r,a);this.buffer[0]=h.low();const u=new dr(new Uint32Array([h.high(),0]));h=dr.multiply(n,a),u.plus(h),h=dr.multiply(r,l),u.plus(h),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(h)?1:0,this.buffer[2]=u.high();return new dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(dr.multiply(i,a)).plus(dr.multiply(n,l)).plus(dr.multiply(r,o)),this.buffer[3]+=dr.multiply(e,a).plus(dr.multiply(i,l)).plus(dr.multiply(n,o)).plus(dr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${hr(this.buffer[3])} ${hr(this.buffer[2])} ${hr(this.buffer[1])} ${hr(this.buffer[0])}`}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new pr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new pr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new pr(new Uint32Array([ur[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)pr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class mr extends ie{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Xi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===r.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class yr extends mr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Ci(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return G(Uint8Array,G(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return G(Uint8Array,G(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Ot.isTimestamp(t)||(Ot.isInt(t)||Ot.isTime(t))&&64===t.bitWidth||Ot.isDate(t)&&t.unit===o.MILLISECOND?G(Uint8Array,fr.convertArray(i[e])):Ot.isDecimal(t)?G(Uint8Array,pr.convertArray(i[e])):Ot.isBinary(t)||Ot.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):Ot.isBool(t)?Ci(i[e]):Ot.isUtf8(t)?Q(i[e].join("")):G(Uint8Array,G(t.ArrayType,i[e].map((t=>+t))))}}var gr,br,vr,wr,_r,Sr,xr,Mr;!function(t){t[t.BUFFER=0]="BUFFER"}(gr||(gr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(br||(br={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):br.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):gr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,br.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,gr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return Tr.startBodyCompression(t),Tr.addCodec(t,e),Tr.addMethod(t,i),Tr.endBodyCompression(t)}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ir).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Cr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Tr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new kr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(vr||(vr={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,vr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Br.startFloatingPoint(t),Br.addPrecision(t,e),Br.endFloatingPoint(t)}}class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Nr.startDecimal(t),Nr.addPrecision(t,e),Nr.addScale(t,i),Nr.addBitWidth(t,n),Nr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(wr||(wr={}));class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Dr.startDate(t),Dr.addUnit(t,e),Dr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_r||(_r={}));class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Or.startTime(t),Or.addUnit(t,e),Or.addBitWidth(t,i),Or.endTime(t)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Pr.startTimestamp(t),Pr.addUnit(t,e),Pr.addTimezone(t,i),Pr.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(Sr||(Sr={}));class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Sr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Ar.startInterval(t),Ar.addUnit(t,e),Ar.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(xr||(xr={}));class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,xr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Fr.startUnion(t),Fr.addMode(t,e),Fr.addTypeIds(t,i),Fr.endUnion(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Rr.startFixedSizeBinary(t),Rr.addByteWidth(t,e),Rr.endFixedSizeBinary(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return zr.startFixedSizeList(t),zr.addListSize(t,e),zr.endFixedSizeList(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Lr.startMap(t),Lr.addKeysSorted(t,e),Lr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Mr||(Mr={}));class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Bn.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Mr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Bn.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Mr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Vr.startMessage(t),Vr.addVersion(t,e),Vr.addHeaderType(t,i),Vr.addHeader(t,n),Vr.addBodyLength(t,r),Vr.addCustomMetadata(t,s),Vr.endMessage(t)}}class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Ur.startNull(t),Ur.endNull(t)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Yr.startBinary(t),Yr.endBinary(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Wr.startBool(t),Wr.endBool(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return jr.startUtf8(t),jr.endUtf8(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return $r.startList(t),$r.endList(t)}}class Qr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Qr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Qr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Qr.startStruct_(t),Qr.endStruct_(t)}}var Hr=kn;const Jr=new class extends ie{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Ur.startNull(e),Ur.endNull(e)}visitInt(t,e){return Rn.startInt(e),Rn.addBitWidth(e,t.bitWidth),Rn.addIsSigned(e,t.isSigned),Rn.endInt(e)}visitFloat(t,e){return Br.startFloatingPoint(e),Br.addPrecision(e,t.precision),Br.endFloatingPoint(e)}visitBinary(t,e){return Yr.startBinary(e),Yr.endBinary(e)}visitBool(t,e){return Wr.startBool(e),Wr.endBool(e)}visitUtf8(t,e){return jr.startUtf8(e),jr.endUtf8(e)}visitDecimal(t,e){return Nr.startDecimal(e),Nr.addScale(e,t.scale),Nr.addPrecision(e,t.precision),Nr.addBitWidth(e,t.bitWidth),Nr.endDecimal(e)}visitDate(t,e){return Dr.startDate(e),Dr.addUnit(e,t.unit),Dr.endDate(e)}visitTime(t,e){return Or.startTime(e),Or.addUnit(e,t.unit),Or.addBitWidth(e,t.bitWidth),Or.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Pr.startTimestamp(e),Pr.addUnit(e,t.unit),void 0!==i&&Pr.addTimezone(e,i),Pr.endTimestamp(e)}visitInterval(t,e){return Ar.startInterval(e),Ar.addUnit(e,t.unit),Ar.endInterval(e)}visitList(t,e){return $r.startList(e),$r.endList(e)}visitStruct(t,e){return Qr.startStruct_(e),Qr.endStruct_(e)}visitUnion(t,e){Fr.startTypeIdsVector(e,t.typeIds.length);const i=Fr.createTypeIdsVector(e,t.typeIds);return Fr.startUnion(e),Fr.addMode(e,t.mode),Fr.addTypeIds(e,i),Fr.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return zn.startDictionaryEncoding(e),zn.addId(e,new Hr(t.id,0)),zn.addIsOrdered(e,t.isOrdered),void 0!==i&&zn.addIndexType(e,i),zn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Rr.startFixedSizeBinary(e),Rr.addByteWidth(e,t.byteWidth),Rr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return zr.startFixedSizeList(e),zr.addListSize(e,t.listSize),zr.endFixedSizeList(e)}visitMap(t,e){return Lr.startMap(e),Lr.addKeysSorted(e,t.keysSorted),Lr.endMap(e)}};function Kr(t){return new os(t.count,Zr(t.columns),Xr(t.columns))}function Gr(t,e){return(t.children||[]).filter(Boolean).map((t=>Xi.fromJSON(t,e)))}function Zr(t){return(t||[]).reduce(((t,e)=>{return[...t,new hs(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Zr(e.children)];var i}),[])}function Xr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new as(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new as(e.length,n.TYPE.length)),n.OFFSET&&e.push(new as(e.length,n.OFFSET.length)),n.DATA&&e.push(new as(e.length,n.DATA.length)),e=Xr(n.children,e)}return e}function qr(t){return new Map(Object.entries(t||{}))}function ts(t){return new At(t.isSigned,t.bitWidth)}function es(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Pt;case"binary":return new zt;case"utf8":return new Lt;case"bool":return new Vt;case"list":return new Qt((e||[])[0]);case"struct":case"struct_":return new Ht(e||[])}switch(i){case"int":{const e=t.type;return new At(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Rt(s[e.precision])}case"decimal":{const e=t.type;return new Ut(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Yt(o[e.unit])}case"time":{const e=t.type;return new Wt(l[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new jt(l[e.unit],e.timezone)}case"interval":{const e=t.type;return new $t(a[e.unit])}case"union":{const i=t.type;return new Jt(r[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Kt(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Gt(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Zt((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var is=kn,ns=An,rs=Pn;class ss{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new ss(0,n.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Zi.fromJSON(t);case h.RecordBatch:return os.fromJSON(t);case h.DictionaryBatch:return ls.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(t,e),i}static decode(t){t=new rs(X(t));const e=Vr.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ss(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Zi.decode(t.header(new Vn));case h.RecordBatch:return os.decode(t.header(new kr),t.version());case h.DictionaryBatch:return ls.decode(t.header(new Er),t.version())}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(e,r),s}static encode(t){const e=new ns;let i=-1;return t.isSchema()?i=Zi.encode(e,t.header()):t.isRecordBatch()?i=os.encode(e,t.header()):t.isDictionaryBatch()&&(i=ls.encode(e,t.header())),Vr.startMessage(e),Vr.addVersion(e,n.V4),Vr.addHeader(e,i),Vr.addHeaderType(e,t.headerType),Vr.addBodyLength(e,new is(t.bodyLength,0)),Vr.finishMessageBuffer(e,Vr.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Zi)return new ss(0,n.V4,h.Schema,t);if(t instanceof os)return new ss(e,n.V4,h.RecordBatch,t);if(t instanceof ls)return new ss(e,n.V4,h.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===h.Schema}isRecordBatch(){return this.headerType===h.RecordBatch}isDictionaryBatch(){return this.headerType===h.DictionaryBatch}}class os{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ls{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class as{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class hs{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function us(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Xi.decode(n,e));return i}function cs(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ds(t){return new At(t.isSigned(),t.bitWidth())}function fs(t,e){const i=t.typeType();switch(i){case On.NONE:case On.Null:return new Pt;case On.Binary:return new zt;case On.Utf8:return new Lt;case On.Bool:return new Vt;case On.List:return new Qt((e||[])[0]);case On.Struct_:return new Ht(e||[])}switch(i){case On.Int:{const e=t.type(new Rn);return new At(e.isSigned(),e.bitWidth())}case On.FloatingPoint:{const e=t.type(new Br);return new Rt(e.precision())}case On.Decimal:{const e=t.type(new Nr);return new Ut(e.scale(),e.precision(),e.bitWidth())}case On.Date:{const e=t.type(new Dr);return new Yt(e.unit())}case On.Time:{const e=t.type(new Or);return new Wt(e.unit(),e.bitWidth())}case On.Timestamp:{const e=t.type(new Pr);return new jt(e.unit(),e.timezone())}case On.Interval:{const e=t.type(new Ar);return new $t(e.unit())}case On.Union:{const i=t.type(new Fr);return new Jt(i.mode(),i.typeIdsArray()||[],e||[])}case On.FixedSizeBinary:{const e=t.type(new Rr);return new Kt(e.byteWidth())}case On.FixedSizeList:{const i=t.type(new zr);return new Gt(i.listSize(),(e||[])[0])}case On.Map:{const i=t.type(new Lr);return new Zt((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${On[i]}" (${i})`)}Xi.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;Ot.isDictionary(s)?(o=s.dictionary.typeId,r=Jr.visit(s,t),n=Jr.visit(s.dictionary,t)):n=Jr.visit(s,t);const l=(s.children||[]).map((e=>Xi.encode(t,e))),a=Ln.createChildrenVector(t,l),h=e.metadata&&e.metadata.size>0?Ln.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Fn.startKeyValue(t),Fn.addKey(t,r),Fn.addValue(t,s),Fn.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));Ln.startField(t),Ln.addType(t,n),Ln.addTypeType(t,o),Ln.addChildren(t,a),Ln.addNullable(t,!!e.nullable),-1!==i&&Ln.addName(t,i);-1!==r&&Ln.addDictionary(t,r);-1!==h&&Ln.addCustomMetadata(t,h);return Ln.endField(t)},Xi.decode=function(t,e){let i,n,r,s,o,l;e&&(l=t.dictionary())?e.has(i=l.id().low)?(s=(s=l.indexType())?ds(s):new Ft,o=new te(e.get(i),s,i,l.isOrdered()),n=new Xi(t.name(),o,t.nullable(),cs(t))):(s=(s=l.indexType())?ds(s):new Ft,e.set(i,r=fs(t,us(t,e))),o=new te(r,s,i,l.isOrdered()),n=new Xi(t.name(),o,t.nullable(),cs(t))):(r=fs(t,us(t,e)),n=new Xi(t.name(),r,t.nullable(),cs(t)));return n||null},Xi.fromJSON=function(t,e){let i,n,r,s,o,l;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?ts(n):new Ft,l=new te(e.get(i),n,i,s.isOrdered),r=new Xi(t.name,l,t.nullable,qr(t.customMetadata))):(n=(n=s.indexType)?ts(n):new Ft,e.set(i,o=es(t,Gr(t,e))),l=new te(o,n,i,s.isOrdered),r=new Xi(t.name,l,t.nullable,qr(t.customMetadata))):(o=es(t,Gr(t,e)),r=new Xi(t.name,o,t.nullable,qr(t.customMetadata))),r||null},Zi.encode=function(t,e){const i=e.fields.map((e=>Xi.encode(t,e)));Vn.startFieldsVector(t,i.length);const n=Vn.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Vn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Fn.startKeyValue(t),Fn.addKey(t,r),Fn.addValue(t,s),Fn.endKeyValue(t)}))):-1;Vn.startSchema(t),Vn.addFields(t,n),Vn.addEndianness(t,ps?Nn.Little:Nn.Big),-1!==r&&Vn.addCustomMetadata(t,r);return Vn.endSchema(t)},Zi.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Xi.decode(n,e));return i}(t,e);return new Zi(i,cs(t),e)},Zi.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Zi(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Xi.fromJSON(t,e)))}(t,e),qr(t.customMetadata),e)},os.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];kr.startNodesVector(t,i.length);for(const o of i.slice().reverse())hs.encode(t,o);const r=t.endVector();kr.startBuffersVector(t,n.length);for(const o of n.slice().reverse())as.encode(t,o);const s=t.endVector();return kr.startRecordBatch(t),kr.addLength(t,new is(e.length,0)),kr.addNodes(t,r),kr.addBuffers(t,s),kr.endRecordBatch(t)},os.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;if(null!==t.compression())throw new Error("Record batch compression not implemented");return new os(t.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=hs.decode(i));return e}(t),function(t,e){const i=[];for(let r,s=-1,o=-1,l=t.buffersLength();++s<l;)(r=t.buffers(s))&&(e<n.V4&&(r.bb_pos+=8*(s+1)),i[++o]=as.decode(r));return i}(t,e))},os.fromJSON=Kr,ls.encode=function(t,e){const i=os.encode(t,e.data);return Er.startDictionaryBatch(t),Er.addId(t,new is(e.id,0)),Er.addIsDelta(t,e.isDelta),Er.addData(t,i),Er.endDictionaryBatch(t)},ls.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;return new ls(os.decode(t.data(),e),t.id(),t.isDelta())},ls.fromJSON=function(t){return new ls(Kr(t.data),t.id,t.isDelta)},hs.encode=function(t,e){return Ir.createFieldNode(t,new is(e.length,0),new is(e.nullCount,0))},hs.decode=function(t){return new hs(t.length(),t.nullCount())},as.encode=function(t,e){return Cr.createBuffer(t,new is(e.offset,0),new is(e.length,0))},as.decode=function(t){return new as(t.offset(),t.length())};const ps=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ms=t=>`Expected ${h[t]} Message in stream, but was null or length 0.`,ys=t=>`Header pointer of flatbuffer-encoded ${h[t]} Message is null or length 0.`,gs=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,bs=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class vs{constructor(t){this.source=t instanceof nr?t:new nr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Xn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=X(this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=h.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n}readMetadataLength(){const t=this.source.read(Ss),e=t&&new Pn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Xn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}}}class ws{constructor(t,e){this.source=t instanceof rr?t:N(t)?new ar(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return R(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Xn:t}))}throw(t){return R(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return R(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return R(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}))}readMessageBody(t){return R(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=X(yield this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return R(this,void 0,void 0,(function*(){const e=h.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n}))}readMetadataLength(){return R(this,void 0,void 0,(function*(){const t=yield this.source.read(Ss),e=t&&new Pn(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return R(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Xn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}}))}}class _s extends vs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof qn?t:new qn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ss.fromJSON(t.schema,h.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ss.fromJSON(e,h.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ss.fromJSON(e,h.RecordBatch)}}return this._body=[],Xn}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readSchema(){const t=h.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(ys(t));return i}}const Ss=4,xs="ARROW1",Ms=new Uint8Array(6);for(let Hc=0;Hc<6;Hc+=1)Ms[Hc]=xs.codePointAt(Hc);function Ts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ms.length;++i<n;)if(Ms[i]!==t[e+i])return!1;return!0}const Cs=Ms.length,Is=Cs+Ss,ks=2*Cs+Ss;class Es extends tr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return C(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Jn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Jn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Es?t:E(t)?function(t){return new Bs(new Ls(t))}(t):N(t)?function(t){return R(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new ar(t,e);return e>=ks&&Ts(yield i.readAt(0,Cs+7&-8))?new Os(new zs(i)):new Ns(new Fs(i))}))}(t):C(t)?(()=>R(this,void 0,void 0,(function*(){return yield Es.from(yield t)})))():D(t)||P(t)||A(t)||k(t)?function(t){return R(this,void 0,void 0,(function*(){const e=yield t.peek(Cs+7&-8);return e&&e.byteLength>=4?Ts(e)?new Ds(new Rs(yield t.read())):new Ns(new Fs(t)):new Ns(new Fs(function(){return V(this,arguments,(function*(){}))}()))}))}(new rr(t)):function(t){const e=t.peek(Cs+7&-8);return e&&e.byteLength>=4?Ts(e)?new Ds(new Rs(t.read())):new Bs(new As(t)):new Bs(new As(function*(){}()))}(new nr(t))}static readAll(t){return t instanceof Es?t.isSync()?Us(t):Ys(t):E(t)||ArrayBuffer.isView(t)||I(t)||B(t)?Us(t):Ys(t)}}class Bs extends Es{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return V(this,arguments,(function*(){yield L(yield*U(Y(this[Symbol.iterator]())))}))}}class Ns extends Es{constructor(t){super(t),this._impl=t}readAll(){var t,e;return R(this,void 0,void 0,(function*(){const i=new Array;try{for(var n,r=Y(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Ds extends Bs{constructor(t){super(t),this._impl=t}}class Os extends Ns{constructor(t){super(t),this._impl=t}}class Ps{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Gi({type:new Ht(this.schema.fields),length:t.length,children:i});return new yn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),l=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Qi(l)):new Qi(l)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new mr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class As extends Ps{constructor(t,e){super(e),this._reader=E(t)?new _s(this._handle=t):new vs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Vs(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Xn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Xn}next(){if(this.closed)return Xn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Fs extends Ps{constructor(t,e){super(e),this._reader=new ws(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return R(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return R(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Vs(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return R(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Xn}))}return(t){return R(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Xn}))}next(){return R(this,void 0,void 0,(function*(){if(this.closed)return Xn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return R(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Rs extends As{constructor(t,e){super(t instanceof lr?t:new lr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Is,i=t.readInt32(e),n=t.readAt(e-i,i);return $n.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class zs extends Fs{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof ar?t:new ar(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return R(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return R(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return R(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}))}_readFooter(){return R(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Is,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return $n.decode(n)}))}_readNextMessageAndValidate(t){return R(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Ls extends As{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new yr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Vs(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Us(t){const e=Es.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Ys(t){return V(this,arguments,(function*(){const e=yield L(Es.from(t));try{if(!(yield L(e.open({autoDestroy:!1}))).closed)do{yield yield L(e)}while(!(yield L(e.reset().open())).closed)}finally{yield L(e.cancel())}}))}class Ws extends ie{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof yn?e.data.children:e.data)),e=new Ws;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Qi)return this.visitMany(t.data),this;const{type:e}=t;if(!Ot.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ot.isNull(e)||js.call(this,n<=0?new Uint8Array(0):Ti(t.offset,i,t.nullBitmap)),this.nodes.push(new hs(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function js(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new as(this._byteLength,e)),this._byteLength+=e,this}function $s(t){return js.call(this,t.values.subarray(0,t.length*t.stride))}function Qs(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return js.call(this,it(-n[0],e,n)),js.call(this,i.subarray(r,r+o)),this}function Hs(t){const{length:e,valueOffsets:i}=t;return i&&js.call(this,it(i[0],e,i)),this.visit(t.children[0])}function Js(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}Ws.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?js.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?js.call(this,Ti(t.offset,t.length,e)):js.call(this,Ci(t.values))},Ws.prototype.visitInt=$s,Ws.prototype.visitFloat=$s,Ws.prototype.visitUtf8=Qs,Ws.prototype.visitBinary=Qs,Ws.prototype.visitFixedSizeBinary=$s,Ws.prototype.visitDate=$s,Ws.prototype.visitTimestamp=$s,Ws.prototype.visitTime=$s,Ws.prototype.visitDecimal=$s,Ws.prototype.visitList=Hs,Ws.prototype.visitStruct=Js,Ws.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:s}=t;if(js.call(this,n),e.mode===r.Sparse)return Js.call(this,t);if(e.mode===r.Dense){if(t.offset<=0)return js.call(this,s),Js.call(this,t);{const r=n.reduce(((t,e)=>Math.max(t,e)),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(i),h=it(-s[0],i,s);for(let t,e,s=-1;++s<i;)-1===(e=l[t=n[s]])&&(e=l[t]=h[t]),a[s]=h[s]-e,++o[t];js.call(this,a);for(let n,s=-1,u=e.children.length;++s<u;)if(n=t.children[s]){const t=e.typeIds[s],r=Math.min(i,o[t]);this.visit(n.slice(l[t],r))}}}return this},Ws.prototype.visitInterval=$s,Ws.prototype.visitFixedSizeList=Hs,Ws.prototype.visitMap=Hs;class Ks extends tr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ir,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,T(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return C(t)?t.then((t=>this.writeAll(t))):k(t)?qs(this,t):Xs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof ir?this._sink=t:(this._sink=new ir,t&&(t=>T(t)&&M(t.abort)&&M(t.getWriter)&&!O(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>T(t)&&M(t.end)&&M(t.write)&&x(t.writable)&&!O(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&fn(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof Sn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof yn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!fn(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof yn?t instanceof vn||this._writeRecordBatch(t):t instanceof Sn?this.writeAll(t.batches):I(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ss.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===h.RecordBatch?this._recordBatchBlocks.push(new Hn(s,t.bodyLength,this._position)):t.headerType===h.DictionaryBatch&&this._dictionaryBlocks.push(new Hn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=X(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ss.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ms)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=Ws.assemble(t),s=new os(t.numRows,i,n),o=ss.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=Ws.assemble(new Qi([t])),l=new os(t.length,r,s),a=new ls(l,e,i),h=ss.from(a,n);return this._writeMessage(h)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Gs extends Ks{static writeAll(t,e){const i=new Gs(e);return C(t)?t.then((t=>i.writeAll(t))):k(t)?qs(i,t):Xs(i,t)}}class Zs extends Ks{static writeAll(t){const e=new Zs;return C(t)?t.then((t=>e.writeAll(t))):k(t)?qs(e,t):Xs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=$n.encode(new $n(t,n.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Xs(t,e){let i=e;e instanceof Sn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function qs(t,e){var i,n,r,s;return R(this,void 0,void 0,(function*(){try{for(i=Y(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()}))}function to(t){const e=Es.from(t);return C(e)?e.then((t=>to(t))):e.isAsync()?e.readAll().then((t=>new Sn(t))):new Sn(e.readAll())}function eo(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Gs:Zs).writeAll(t).toUint8Array(!0)}var io,no=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(a=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,a,t)};if(n){o=["row_heading","level"+e,"row"+(l=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(l),classNames:o.join(" "),content:r.getContent(r.indexTable,l,e)}}o=["data","row"+(l=t-r.headerRows),"col"+(a=e-r.headerColumns)];var l,a,h=r.styler?r.getContent(r.styler.displayValuesTable,l,a):r.getContent(r.dataTable,l,a);return{type:"data",id:"T_".concat(r.uuid,"row").concat(l,"_col").concat(a),classNames:o.join(" "),content:h}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===u.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=to(t),this.indexTable=to(e),this.columnsTable=to(i),this.styler=n?{caption:n.caption,displayValuesTable:to(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:eo(this.dataTable),index:eo(this.indexTable),columns:eo(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ro=function(){return ro=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ro.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(io||(io={}));var so=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(io.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(io.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof no?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(yo){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(io.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=ro(ro({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&oo(s);var o={disabled:r,args:i,theme:s},l=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(l)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new no(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(ro({isStreamlitMessage:!0,type:t},e),"*")},t}(),oo=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var lo=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}lo(e,t),e.prototype.componentDidMount=function(){so.setFrameHeight()},e.prototype.componentDidUpdate=function(){so.setFrameHeight()}}(d.PureComponent);function ao(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function ho(t,e){return t.width===e.width&&t.height===e.height}var uo=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var co=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=ao({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(n=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ao({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=ao(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;ho(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=ao(this._transformBitmapSize(t,this._canvasElementClientSize)),n=ho(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&ho(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=fo(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new uo(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=fo(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,r=this._canvasElement.getClientRects(),s=void 0!==r[0]?function(t,e){return ao({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],n):ao({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],r=ao({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function fo(t){return t.ownerDocument.defaultView}var po=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function mo(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new po(r,i,n)}const yo={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var go,bo,vo;function wo(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function _o(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function So(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function xo(t){if(void 0===t)throw new Error("Value is undefined");return t}function Mo(t){if(null===t)throw new Error("Value is null");return t}function To(t){return Mo(xo(t))}(vo=go||(go={}))[vo.Simple=0]="Simple",vo[vo.WithSteps=1]="WithSteps",vo[vo.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(bo||(bo={}));class Co{constructor(){this.t=[]}i(t,e,i){const n={h:t,l:e,o:!0===i};this.t.push(n)}_(t){const e=this.t.findIndex((e=>t===e.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const n=[...this.t];this.t=this.t.filter((t=>!t.o)),n.forEach((n=>n.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function Io(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:Io(t[e],r[e]));return t}function ko(t){return"number"==typeof t&&isFinite(t)}function Eo(t){return"number"==typeof t&&t%1==0}function Bo(t){return"string"==typeof t}function No(t){return"boolean"==typeof t}function Do(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?Do(r):r);return i}function Oo(t){return null!==t}function Po(t){return null===t?void 0:t}const Ao="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Fo(t,e,i){return void 0===e&&(e=Ao),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class Ro{constructor(t){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",V:0,I:0,A:0,B:0,L:0},this.O=t}N(){const t=this.M,e=this.W(),i=this.F();return t.k===e&&t.T===i||(t.k=e,t.T=i,t.P=Fo(e,i),t.B=2.5/12*e,t.V=t.B,t.I=e/12*t.C,t.A=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}W(){return this.O.N().layout.fontSize}F(){return this.O.N().layout.fontFamily}}function zo(t){return t<0?0:t>255?255:Math.round(t)||0}function Lo(t){return.199*t[0]+.687*t[1]+.114*t[2]}class Vo{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if("transparent"===t)return t;const i=this.Z(t),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*n})`}K(t){const e=this.Z(t);return{X:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:Lo(e)>160?"black":"white"}}J(t){return Lo(this.Z(t))}tt(t,e,i){const[n,r,s,o]=this.Z(t),[l,a,h,u]=this.Z(e),c=[zo(n+i*(l-n)),zo(r+i*(a-r)),zo(s+i*(h-s)),(d=o+i*(u-o),d<=0||d>1?Math.min(Math.max(d,0),1):Math.round(1e4*d)/1e4)];var d;return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}Z(t){const e=this.q.get(t);if(e)return e;const i=function(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),e.style.color=t;const i=window.getComputedStyle(e).color;return document.body.removeChild(e),i}(t),n=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const e of this.Y){const i=e(t);if(i)return this.q.set(t,i),i}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}}class Uo{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((n=>{n.nt(t,e,i)}))}}class Yo{nt(t,e,i){t.useBitmapCoordinateSpace((t=>this.et(t,e,i)))}}class Wo extends Yo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(i))%2/2,l=t=>{e.beginPath();for(let l=r.to-1;l>=r.from;--l){const r=s.ot[l],a=Math.round(r._t*i)+o,h=r.ut*n,u=t*n+o;e.moveTo(a,h),e.arc(a,h,u,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,l(s.ft+s.ct)),e.fillStyle=s.vt,l(s.ft)}}function jo(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const $o={from:0,to:1};class Qo{constructor(t,e,i){this.Mt=new Uo,this.bt=[],this.xt=[],this.St=!0,this.O=t,this.Ct=e,this.yt=i,this.Mt.st(this.bt)}kt(t){this.Pt(),this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Mt}Pt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.xt=t.map(jo),this.bt=this.xt.map((t=>{const e=new Wo;return e.ht(t),e})),this.Mt.st(this.bt))}Rt(){const t=2===this.Ct.N().mode||!this.Ct.Vt(),e=this.yt.It(),i=this.Ct.At(),n=this.O.Bt();this.Pt(),e.forEach(((e,r)=>{const s=this.xt[r],o=e.Et(i),l=e.zt();!t&&null!==o&&e.Vt()&&null!==l?(s.vt=o.Lt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=e.Wt().Nt(o.gt,l.Ft),s.dt=o.Ht??this.O.Ut(s.ot[0].ut/e.Wt().$t()),s.ot[0].wt=i,s.ot[0]._t=n.qt(i),s.lt=$o):s.lt=null}))}}class Ho extends Yo{constructor(t){super(),this.Yt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;const s=this.Yt.jt.Vt,o=this.Yt.Zt.Vt;if(!s&&!o)return;const l=Math.round(this.Yt._t*n),a=Math.round(this.Yt.ut*r);e.lineCap="butt",s&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*n),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,wo(e,this.Yt.jt.Kt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(e,l,0,i.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.Yt.Zt.ct*r),e.strokeStyle=this.Yt.Zt.R,e.fillStyle=this.Yt.Zt.R,wo(e,this.Yt.Zt.Kt),_o(e,a,0,i.width))}}class Jo{constructor(t,e){this.St=!0,this.Xt={jt:{ct:1,Kt:0,R:"",Vt:!1},Zt:{ct:1,Kt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new Ho(this.Xt),this.Jt=t,this.yt=e}kt(){this.St=!0}Tt(t){return this.St&&(this.Rt(),this.St=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.yt.Qt().N().crosshair,i=this.Xt;if(2===e.mode)return i.Zt.Vt=!1,void(i.jt.Vt=!1);i.Zt.Vt=t&&this.Jt.ti(this.yt),i.jt.Vt=t&&this.Jt.ii(),i.Zt.ct=e.horzLine.width,i.Zt.Kt=e.horzLine.style,i.Zt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Kt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function Ko(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function Go(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function Zo(t,e,i,n,r,s){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,s):(t.lineTo(e+n-s[1],i),0!==s[1]&&t.arcTo(e+n,i,e+n,i+s[1],s[1]),t.lineTo(e+n,i+r-s[2]),0!==s[2]&&t.arcTo(e+n,i+r,e+n-s[2],i+r,s[2]),t.lineTo(e+s[3],i+r),0!==s[3]&&t.arcTo(e,i+r,e,i+r-s[3],s[3]),t.lineTo(e,i+s[0]),0!==s[0]&&t.arcTo(e,i,e+s[0],i,s[0]))}function Xo(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!o||!a||a===s)return Zo(t,e,i,n,r,l),t.fillStyle=s,t.fill(),void t.restore();const h=o/2;var u;Zo(t,e+h,i+h,n-o,r-o,(u=-h,l.map((t=>0===t?t:t+u)))),"transparent"!==s&&(t.fillStyle=s,t.fill()),"transparent"!==a&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function qo(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,s),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,i,n,r),t.restore()}class tl{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.k+t.B+t.V:0}nt(t,e,i,n){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const r=this.Yt.R,s=this.ei.X,o=t.useBitmapCoordinateSpace((t=>{const o=t.context;o.font=e.P;const l=this.hi(t,e,i,n),a=l.ai;return l.li?Xo(o,a.oi,a._i,a.ui,a.ci,s,a.di,[a.ft,0,0,a.ft],s):Xo(o,a.fi,a._i,a.ui,a.ci,s,a.di,[0,a.ft,a.ft,0],s),this.Yt.pi&&(o.fillStyle=r,o.fillRect(a.fi,a.mi,a.wi-a.fi,a.gi)),this.Yt.Mi&&(o.fillStyle=e.D,o.fillRect(l.li?a.bi-a.di:0,a._i,a.di,a.xi-a._i)),l}));t.useMediaCoordinateSpace((t=>{let{context:i}=t;const n=o.Si;i.font=e.P,i.textAlign=o.li?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this.Yt.ri,n.Ci,(n._i+n.xi)/2+n.yi)}))}hi(t,e,i,n){const{context:r,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:a}=t,h=this.Yt.pi||!this.Yt.ki?e.C:0,u=this.Yt.Pi?e.S:0,c=e.B+this.ei.Ti,d=e.V+this.ei.Ri,f=e.I,p=e.A,m=this.Yt.ri,y=e.k,g=i.Di(r,m),b=Math.ceil(i.Vi(r,m)),v=y+c+d,w=e.S+f+p+b+h,_=Math.max(1,Math.floor(a));let S=Math.round(v*a);S%2!=_%2&&(S+=1);const x=u>0?Math.max(1,Math.floor(u*l)):0,M=Math.round(w*l),T=Math.round(h*l),C=this.ei.Ii??this.ei.Ai,I=Math.round(C*a)-Math.floor(.5*a),k=Math.floor(I+_/2-S/2),E=k+S,B="right"===n,N=B?o.width-u:u,D=B?s.width-x:x;let O,P,A;return B?(O=D-M,P=D-T,A=N-h-f-u):(O=D+M,P=D+T,A=N+h+f),{li:B,ai:{_i:k,mi:I,xi:E,ui:M,ci:S,ft:2*l,di:x,oi:O,fi:D,wi:P,gi:_,bi:s.width},Si:{_i:k/a,xi:E/a,Ci:A,yi:g}}}}class el{constructor(t){this.Bi={Ai:0,X:"#000",Ri:0,Ti:0},this.Ei={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.St=!0,this.Li=new(t||tl)(this.Ei,this.Bi),this.Oi=new(t||tl)(this.zi,this.Bi)}ri(){return this.Ni(),this.Ei.ri}Ai(){return this.Ni(),this.Bi.Ai}kt(){this.St=!0}$t(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Wi(){return this.Bi.Ii||0}Fi(t){this.Bi.Ii=t}Hi(){return this.Ni(),this.Ei.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ei.Vt}Tt(t){return this.Ni(),this.Ei.pi=this.Ei.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ei,this.Bi),this.Oi.ht(this.zi,this.Bi),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ei,this.Bi),this.Oi.ht(this.zi,this.Bi),this.Oi}Ni(){this.St&&(this.Ei.pi=!0,this.zi.pi=!1,this.qi(this.Ei,this.zi,this.Bi))}}class il extends el{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,2===this.Jt.N().mode)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Zi()||null===r)return;const s=this.Yi.Ki().K(n.labelBackgroundColor);i.X=s.X,t.R=s.G;const o=2/12*this.Yi.k();i.Ti=o,i.Ri=o;const l=this.ji(this.Yi);i.Ai=l.Ai,t.ri=this.Yi.Xi(l.gt,r),t.Vt=!0}}const nl=/[1-9]/g;class rl{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const i=t.useMediaCoordinateSpace((t=>{let{context:i}=t;return i.font=e.P,Math.round(e.Gi.Vi(i,Mo(this.Yt).ri,nl))}));if(i<=0)return;const n=e.Ji,r=i+2*n,s=r/2,o=this.Yt.Qi;let l=this.Yt.Ai,a=Math.floor(l-s)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-s)+.5):a+r>o&&(l-=Math.abs(o-(a+r)),a=Math.floor(l-s)+.5);const h=a+r,u=Math.ceil(0+e.S+e.C+e.B+e.k+e.V);t.useBitmapCoordinateSpace((t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const s=Mo(this.Yt);i.fillStyle=s.X;const o=Math.round(a*n),l=Math.round(0*r),c=Math.round(h*n),d=Math.round(u*r),f=Math.round(2*n);if(i.beginPath(),i.moveTo(o,l),i.lineTo(o,d-f),i.arcTo(o,d,o+f,d,f),i.lineTo(c-f,d),i.arcTo(c,d,c,d-f,f),i.lineTo(c,l),i.fill(),s.pi){const t=Math.round(s.Ai*n),o=l,a=Math.round((o+e.C)*r);i.fillStyle=s.R;const h=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);i.fillRect(t-u,o,h,a-o)}})),t.useMediaCoordinateSpace((t=>{let{context:i}=t;const r=Mo(this.Yt),s=0+e.S+e.C+e.B+e.k/2;i.font=e.P,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r.R;const o=e.Gi.Di(i,"Apr0");i.translate(a+n,s+o),i.fillText(r.ri,0,0)}))}}class sl{constructor(t,e,i){this.St=!0,this.Gt=new rl,this.Xt={Vt:!1,X:"#4c525e",R:"white",ri:"",Qi:0,Ai:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}kt(){this.St=!0}Tt(){return this.St&&(this.Rt(),this.St=!1),this.Gt.ht(this.Xt),this.Gt}Rt(){const t=this.Xt;if(t.Vt=!1,2===this.Ct.N().mode)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Bt();if(i.Zi())return;t.Qi=i.Qi();const n=this.ji();if(null===n)return;t.Ai=n.Ai;const r=i.ss(this.Ct.At());t.ri=i.ns(Mo(r)),t.Vt=!0;const s=this.ts.Ki().K(e.labelBackgroundColor);t.X=s.X,t.R=s.G,t.pi=i.N().ticksVisible}}class ol{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Wt(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var ll;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"}(ll||(ll={}));class al extends ol{constructor(t,e){super(),this.yt=null,this.ds=NaN,this.fs=0,this.ps=!0,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.xs=NaN,this.Ss=NaN,this.Cs=NaN,this.ts=t,this.ys=e,this.ks=((t,e)=>i=>{const n=e(),r=t();if(i===Mo(this.yt).Ps())return{gt:r,Ai:n};{const t=Mo(i.zt());return{gt:i.Ts(n,t),Ai:n}}})((()=>this.ds),(()=>this.xs));const i=((t,e)=>()=>{const i=this.ts.Bt().Rs(t()),n=e();return i&&Number.isFinite(n)?{wt:i,Ai:n}:null})((()=>this.fs),(()=>this.si()));this.Ds=new sl(this,t,i)}N(){return this.ys}Vs(t,e){this.Ss=t,this.Cs=e}Is(){this.Ss=NaN,this.Cs=NaN}As(){return this.Ss}Bs(){return this.Cs}Es(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}At(){return this.fs}si(){return this.bs}ni(){return this.xs}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.xs=NaN,this.yt=null,this.Is(),this.Ns()}Ws(t){let e=this.gs.get(t);e||(e=new Jo(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new Qo(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.yt&&this.ys.horzLine.visible}ii(){return this.ys.vertLine.visible}Fs(t,e){this.ps&&this.yt===t||this.vs.clear();const i=[];return this.yt===t&&i.push(this.Hs(this.vs,e,this.ks)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.yt}Ns(){this.ts.$s().forEach((t=>{this.gs.get(t)?.kt(),this.Ms.get(t)?.kt()})),this.vs.forEach((t=>t.kt())),this.Ds.kt()}qs(t){return t&&!t.Ps().Zi()?t.Ps():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const n=this.bs,r=this.xs,s=this.ds,o=this.fs,l=this.yt,a=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Bt().qt(t),this.yt=i;const h=null!==a?a.zt():null;return null!==a&&null!==h?(this.ds=e,this.xs=a.Nt(e,h)):(this.ds=NaN,this.xs=NaN),n!==this.bs||r!==this.xs||o!==this.fs||s!==this.ds||l!==this.yt}Os(){const t=this.ts.js().map((t=>t.Ks().Zs())).filter(Oo),e=0===t.length?null:Math.max(...t);this.fs=null!==e?e:NaN}Hs(t,e,i){let n=t.get(e);return void 0===n&&(n=new il(this,e,i),t.set(e,n)),n}}function hl(t){return"left"===t||"right"===t}class ul{constructor(t){this.Xs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=function(t,e){return void 0===t?e:{tn:Math.max(t.tn,e.tn),sn:t.sn||e.sn}}(this.Xs.get(t),e);this.Xs.set(t,i)}nn(){return this.Js}en(t){const e=this.Xs.get(t);return void 0===e?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Ft:t}]}_n(t){this.un(),this.Gs.push({an:5,Ft:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Ft:t})}fn(t){this.hn(),this.Gs.push({an:3,Ft:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Xs.forEach(((t,e)=>{this.Qs(e,t)}))}static wn(){return new ul(2)}static gn(){return new ul(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Ft);break;case 2:this.dn(t.Ft);break;case 3:this.fn(t.Ft);break;case 4:this.cn();break;case 5:this._n(t.Ft);break;case 6:this.un()}}un(){const t=this.Gs.findIndex((t=>5===t.an));-1!==t&&this.Gs.splice(t,1)}}function cl(t,e){if(!ko(t))return"n/a";if(!Eo(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class dl{constructor(t,e){if(e||(e=1),ko(t)&&Eo(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.xn(t)}bn(){if(this.Sn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.Sn++}}xn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),n="";const r=void 0!==this.Sn?this.Sn:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this.Sn);s>=e&&(s-=e,i+=1),n="."+cl(+s.toFixed(this.Sn)*this.Mn,r)}else i=Math.round(i*e)/e,r>0&&(n="."+cl(0,r));return i.toFixed(0)+n}}class fl extends dl{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return`${super.format(t)}%`}}class pl{constructor(t){this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.yn(t):t<999995?e+this.yn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.yn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.yn(t/1e9)+"B")}yn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}const ml=/[2-9]/g;class yl{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.kn=0,this.Pn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.Pn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.An(t,e,i).width}Di(t,e,i){const n=this.An(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}An(t,e,i){const n=i||ml,r=String(e).replace(n,"0");if(this.Dn.has(r))return xo(this.Dn.get(r)).Bn;if(this.kn===this.Vn){const t=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(t),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const s=t.measureText(r);return t.restore(),0===s.width&&e.length||(this.Dn.set(r,{Bn:s,En:this.Pn}),this.Rn[this.Pn]=r,this.kn++,this.Pn++),s}}class gl{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){null!==this.M&&null!==this.zn&&this.zn.nt(t,this.M,this.On,this.Ln)}}class bl{constructor(t,e,i){this.Wn=t,this.On=new yl(50),this.Fn=e,this.O=i,this.W=-1,this.Gt=new gl(this.On)}Tt(){const t=this.O.Hn(this.Fn);if(null===t)return null;const e=t.Un(this.Fn)?t.$n():this.Fn.Wt();if(null===e)return null;const i=t.qn(e);if("overlay"===i)return null;const n=this.O.Yn();return n.k!==this.W&&(this.W=n.k,this.On.In()),this.Gt.Nn(this.Wn.$i(),n,i),this.Gt}}class vl extends Yo{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:n,Zn:r}=this.Yt;return e>=i-n-7&&e<=i+n+7?{Kn:this.Yt,Zn:r}:null}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const s=Math.round(this.Yt.ut*r);s<0||s>i.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*n),wo(e,this.Yt.Kt),_o(e,s,0,i.width))}}class wl{constructor(t){this.Xn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Kt:0,Vt:!1},this.Gn=new vl,this.St=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Xn)}kt(){this.St=!0}Tt(){return this.Jn.Vt()?(this.St&&(this.te(),this.St=!1),this.Gn):null}}class _l extends wl{constructor(t){super(t)}te(){this.Xn.Vt=!1;const t=this.Jn.Wt(),e=t.ie().ie;if(2!==e&&3!==e)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();null!==n&&(this.Xn.Vt=!0,this.Xn.ut=t.Nt(n.Ft,n.Ft),this.Xn.R=i.baseLineColor,this.Xn.ct=i.baseLineWidth,this.Xn.Kt=i.baseLineStyle)}}class Sl extends Yo{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this.Yt;if(null===r)return;const s=Math.max(1,Math.floor(i)),o=s%2/2,l=Math.round(r.ne.x*i)+o,a=r.ne.y*n;e.fillStyle=r.ee,e.beginPath();const h=Math.max(2,1.5*r.re)*i;e.arc(l,a,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.he,e.beginPath(),e.arc(l,a,r.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=r.ae,e.beginPath(),e.arc(l,a,r.ft*i+s/2,0,2*Math.PI,!1),e.stroke()}}const xl=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class Ml{constructor(t){this.Gt=new Sl,this.St=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),2===this.ge.N().lastPriceAnimation){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.St=!0}xe(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}Se(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.St?(this.Rt(),this.St=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Bt(),e=t.ye(),i=this.ge.zt();if(null===e||null===i)return;const n=this.ge.ke(!0);if(n.Pe||!e.Te(n.Re))return;const r={x:t.qt(n.Re),y:this.ge.Wt().Nt(n.gt,i.Ft)},s=n.R,o=this.ge.N().lineWidth,l=this.De(this.Ve(),s);this.Gt.ht({ee:s,re:o,he:l.he,ae:l.ae,ft:l.ft,ne:r})}Ce(){const t=this.Gt.se();if(null!==t){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.Se()?performance.now()-this.me:2599}Ie(t,e,i,n){const r=i+(n-i)*e;return this.ge.Qt().Ki().j(t,r)}De(t,e){const i=t%2600/2600;let n;for(const a of xl)if(i>=a.le&&i<=a.oe){n=a;break}So(void 0!==n,"Last price animation internal logic error");const r=(i-n.le)/(n.oe-n.le);return{he:this.Ie(e,r,n.ce,n.de),ae:this.Ie(e,r,n.fe,n.pe),ft:(s=r,o=n._e,l=n.ue,o+(l-o)*s)};var s,o,l}}class Tl extends wl{constructor(t){super(t)}te(){const t=this.Xn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ke(0===e.priceLineSource);i.Pe||(t.Vt=!0,t.ut=i.Ai,t.R=this.Jn.Ae(i.R),t.ct=e.priceLineWidth,t.Kt=e.priceLineStyle)}}class Cl extends el{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),s=r.lastValueVisible,o=""!==n.Be(),l=0===r.seriesLastValueMode,a=n.ke(!1);if(a.Pe)return;s&&(t.ri=this.Ee(a,s,l),t.Vt=0!==t.ri.length),(o||l)&&(e.ri=this.ze(a,s,o,l),e.Vt=e.ri.length>0);const h=n.Ae(a.R),u=this.Jt.Qt().Ki().K(h);i.X=u.X,i.Ai=a.Ai,e.Ht=n.Qt().Ut(a.Ai/n.Wt().$t()),t.Ht=h,t.R=u.G,e.R=u.G}ze(t,e,i,n){let r="";const s=this.Jt.Be();return i&&0!==s.length&&(r+=`${s} `),e&&n&&(r+=this.Jt.Wt().Le()?t.Oe:t.Ne),r.trim()}Ee(t,e,i){return e?i?this.Jt.Wt().Le()?t.Ne:t.Oe:t.ri:""}}function Il(t,e,i,n){const r=Number.isFinite(e),s=Number.isFinite(i);return r&&s?t(e,i):r||s?r?e:i:n}class kl{constructor(t,e){this.We=t,this.Fe=e}He(t){return null!==t&&this.We===t.We&&this.Fe===t.Fe}Ue(){return new kl(this.We,this.Fe)}$e(){return this.We}qe(){return this.Fe}Ye(){return this.Fe-this.We}Zi(){return this.Fe===this.We||Number.isNaN(this.Fe)||Number.isNaN(this.We)}vn(t){return null===t?this:new kl(Il(Math.min,this.$e(),t.$e(),-1/0),Il(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!ko(t))return;if(0===this.Fe-this.We)return;const e=.5*(this.Fe+this.We);let i=this.Fe-e,n=this.We-e;i*=t,n*=t,this.Fe=e+i,this.We=e+n}Ze(t){ko(t)&&(this.Fe+=t,this.We+=t)}Ke(){return{minValue:this.We,maxValue:this.Fe}}static Xe(t){return null===t?null:new kl(t.minValue,t.maxValue)}}class El{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Ke(){return{priceRange:null===this.Ge?null:this.Ge.Ke(),margins:this.Je||void 0}}static Xe(t){return null===t?null:new El(kl.Xe(t.priceRange),t.margins)}}class Bl extends wl{constructor(t,e){super(t),this.ir=e}te(){const t=this.Xn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();null!==i&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Kt=e.lineStyle,t.Zn=this.ir.N().id)}}class Nl extends el{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,s=""!==n.title,o=this.ge;if(!r||!o.Vt())return;const l=this.ir.sr();if(null===l)return;s&&(e.ri=n.title,e.Vt=!0),e.Ht=o.Qt().Ut(l/o.Wt().$t()),t.ri=this.nr(n.price),t.Vt=!0;const a=this.ge.Qt().Ki().K(n.axisLabelColor||n.color);i.X=a.X;const h=n.axisLabelTextColor||a.G;t.R=h,e.R=h,i.Ai=l}nr(t){const e=this.ge.zt();return null===e?"":this.ge.Wt().Xi(t,e.Ft)}}class Dl{constructor(t,e){this.ge=t,this.ys=e,this.er=new Bl(t,this),this.Wn=new Nl(t,this),this.rr=new bl(this.Wn,t,t.Qt())}hr(t){Io(this.ys,t),this.kt(),this.ge.Qt().ar()}N(){return this.ys}lr(){return this.er}_r(){return this.rr}ur(){return this.Wn}kt(){this.er.kt(),this.Wn.kt()}sr(){const t=this.ge,e=t.Wt();if(t.Qt().Bt().Zi()||e.Zi())return null;const i=t.zt();return null===i?null:e.Nt(this.ys.price,i.Ft)}}class Ol extends ol{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Pl={Bar:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=Mo(t(i,n)),l=To(o.Ft[0])<=To(o.Ft[3]);return{cr:o.R??(l?r:s)}},Candlestick:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=e.borderUpColor,l=e.borderDownColor,a=e.wickUpColor,h=e.wickDownColor,u=Mo(t(i,n)),c=To(u.Ft[0])<=To(u.Ft[3]);return{cr:u.R??(c?r:s),dr:u.Ht??(c?o:l),pr:u.vr??(c?a:h)}},Custom:(t,e,i,n)=>({cr:Mo(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const r=Mo(t(i,n));return{cr:r.vt??e.lineColor,vt:r.vt??e.lineColor,mr:r.mr??e.topColor,wr:r.wr??e.bottomColor}},Baseline:(t,e,i,n)=>{const r=Mo(t(i,n));return{cr:r.Ft[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:r.gr??e.topLineColor,Mr:r.Mr??e.bottomLineColor,br:r.br??e.topFillColor1,Sr:r.Sr??e.topFillColor2,Cr:r.Cr??e.bottomFillColor1,yr:r.yr??e.bottomFillColor2}},Line:(t,e,i,n)=>{const r=Mo(t(i,n));return{cr:r.R??e.color,vt:r.R??e.color}},Histogram:(t,e,i,n)=>({cr:Mo(t(i,n)).R??e.color})};class Al{constructor(t){this.kr=(t,e)=>void 0!==e?e.Ft:this.ge.Ks().Pr(t),this.ge=t,this.Tr=Pl[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Fl(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;for(;0<s;){const o=s>>1,l=r+o;n(e[l],i)===t?(r=l+1,s-=o+1):s=o}return r}const Rl=Fl.bind(null,!0),zl=Fl.bind(null,!1);var Ll;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Ll||(Ll={}));const Vl=30;class Ul{constructor(){this.Vr=[],this.Ir=new Map,this.Ar=new Map,this.Br=[]}Er(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Zs(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Zi(){return 0===this.zr()}Te(t){return null!==this.Nr(t,0)}Pr(t){return this.Wr(t)}Wr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.Nr(t,e);return null===i?null:{...this.Fr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Zi())return null;let n=null;for(const r of i)n=Yl(n,this.$r(t,e,r));return n}ht(t){this.Ar.clear(),this.Ir.clear(),this.Vr=t,this.Br=t.map((t=>t.Re))}qr(){return this.Br}Or(t){return this.Vr[t].Re}Fr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(null===i&&0!==e)switch(e){case-1:return this.jr(t);case 1:return this.Zr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Kr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Zr(t){const e=this.Xr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Kr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Kr(t){return Rl(this.Vr,t,((t,e)=>t.Re<e))}Xr(t){return zl(this.Vr,t,((t,e)=>t.Re>e))}Gr(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.Vr[r].Ft[i];Number.isNaN(t)||(null===n?n={Jr:t,Qr:t}:(t<n.Jr&&(n.Jr=t),t>n.Qr&&(n.Qr=t)))}return n}$r(t,e,i){if(this.Zi())return null;let n=null;const r=Mo(this.Lr()),s=Mo(this.Zs()),o=Math.max(t,r),l=Math.min(e,s),a=Math.ceil(o/Vl)*Vl,h=Math.max(a,Math.floor(l/Vl)*Vl);{const t=this.Kr(o),r=this.Xr(Math.min(l,a,e));n=Yl(n,this.Gr(t,r,i))}let u=this.Ir.get(i);void 0===u&&(u=new Map,this.Ir.set(i,u));for(let c=Math.max(a+1,o);c<h;c+=Vl){const t=Math.floor(c/Vl);let e=u.get(t);if(void 0===e){const n=this.Kr(t*Vl),r=this.Xr((t+1)*Vl-1);e=this.Gr(n,r,i),u.set(t,e)}n=Yl(n,e)}{const t=this.Kr(h),e=this.Xr(l);n=Yl(n,this.Gr(t,e,i))}return n}}function Yl(t,e){return null===t?e:null===e?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}class Wl{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class jl{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Wl(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class $l{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Ws(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map((t=>new jl(t)));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let Ql=class extends $l{us(){return[]}};class Hl{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class Jl{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Hl(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Kl(t){return{ri:t.text(),Ai:t.coordinate(),Ii:t.fixedCoordinate?.(),R:t.textColor(),X:t.backColor(),Vt:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class Gl{constructor(t,e){this.Gt=new rl,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Kl(this._h)}),this.Gt}}class Zl extends el{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const n=Kl(this._h);i.X=n.X,t.R=n.R;const r=2/12*this.Yi.k();i.Ti=r,i.Ri=r,i.Ai=n.Ai,i.Ii=n.Ii,t.ri=n.ri,t.Vt=n.Vt,t.pi=n.pi}}class Xl extends $l{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().Bt(),i=t.map((t=>new Gl(t,e)));return this.dh={nh:t,eh:i},i}Fs(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Wt(),i=t.map((t=>new Zl(t,e)));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map((t=>new Jl(t)));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map((t=>new Jl(t)));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function ql(t,e,i,n){t.forEach((t=>{e(t).forEach((t=>{t.rh()===i&&n.push(t)}))}))}function ta(t){return t.Ws()}function ea(t){return t.wh()}function ia(t){return t.gh()}const na=["Area","Line","Baseline"];class ra extends Ol{constructor(t,e,i,n,r){super(t),this.Yt=new Ul,this.er=new Tl(this),this.bh=[],this.xh=new _l(this),this.Sh=null,this.Ch=null,this.yh=null,this.kh=[],this.ys=i,this.Ph=e;const s=new Cl(this);this.vs=[s],this.rr=new bl(s,this,t),na.includes(this.Ph)&&(this.Sh=new Ml(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){null!==this.yh&&clearTimeout(this.yh)}Ae(t){return this.ys.priceLineColor||t}ke(t){const e={Pe:!0},i=this.Wt();if(this.Qt().Bt().Zi()||i.Zi()||this.Yt.Zi())return e;const n=this.Qt().Bt().ye(),r=this.zt();if(null===n||null===r)return e;let s,o;if(t){const t=this.Yt.Er();if(null===t)return e;s=t,o=t.Re}else{const t=this.Yt.Wr(n.bi(),-1);if(null===t)return e;if(s=this.Yt.Pr(t.Re),null===s)return e;o=t.Re}const l=s.Ft[3],a=this.Rh().Dr(o,{Ft:s}),h=i.Nt(l,r.Ft);return{Pe:!1,gt:l,ri:i.Xi(l,r.Ft),Oe:i.Dh(l),Ne:i.Vh(l,r.Ft),R:a.cr,Ai:h,Re:o}}Rh(){return null!==this.Ch||(this.Ch=new Al(this)),this.Ch}N(){return this.ys}hr(t){const e=t.priceScaleId;void 0!==e&&e!==this.ys.priceScaleId&&this.Qt().Ih(this,e),Io(this.ys,t),void 0!==t.priceFormat&&(this.Th(),this.Qt().Ah()),this.Qt().Bh(this),this.Qt().Eh(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),null!==this.Sh&&(e&&e.zh?this.Sh.be():0===t.length&&this.Sh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Bh(this),this.Qt().Eh(),this.Qt().ar()}Oh(t){const e=new Dl(this,t);return this.bh.push(e),this.Qt().Bh(this),e}Nh(t){const e=this.bh.indexOf(t);-1!==e&&this.bh.splice(e,1),this.Qt().Bh(this)}Wh(){return this.bh}Rr(){return this.Ph}zt(){const t=this.Fh();return null===t?null:{Ft:t.Ft[3],Hh:t.wt}}Fh(){const t=this.Qt().Bt().ye();if(null===t)return null;const e=t.Uh();return this.Yt.Wr(e,1)}Ks(){return this.Yt}$h(t){const e=this.Yt.Pr(t);return null===e?null:"Bar"===this.Ph||"Candlestick"===this.Ph||"Custom"===this.Ph?{qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Zh:e.Ft[3]}:e.Ft[3]}Kh(t){const e=[];ql(this.kh,ta,"top",e);const i=this.Sh;return null!==i&&i.Vt()?(null===this.yh&&i.Se()&&(this.yh=setTimeout((()=>{this.yh=null,this.Qt().Xh()}),0)),i.xe(),e.unshift(i),e):e}Ws(){const t=[];this.Gh()||t.push(this.xh),t.push(this.sh,this.er);const e=this.bh.map((t=>t.lr()));return t.push(...e),ql(this.kh,ta,"normal",t),t}Jh(){return this.Qh(ta,"bottom")}ta(t){return this.Qh(ea,t)}ia(t){return this.Qh(ia,t)}sa(t,e){return this.kh.map((i=>i.jn(t,e))).filter((t=>null!==t))}us(){return[this.rr,...this.bh.map((t=>t._r()))]}Fs(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const n of this.bh)i.push(n.ur());return this.kh.forEach((t=>{i.push(...t.Fs())})),i}cs(){const t=[];return this.kh.forEach((e=>{t.push(...e.cs())})),t}Mh(t,e){if(void 0!==this.ys.autoscaleInfoProvider){const i=this.ys.autoscaleInfoProvider((()=>{const i=this.na(t,e);return null===i?null:i.Ke()}));return El.Xe(i)}return this.na(t,e)}ea(){return this.ys.priceFormat.minMove}ra(){return this.ha}Ns(){this.sh.kt();for(const t of this.vs)t.kt();for(const t of this.bh)t.kt();this.er.kt(),this.xh.kt(),this.Sh?.kt(),this.kh.forEach((t=>t.Ns()))}Wt(){return Mo(super.Wt())}Et(t){if("Line"!==this.Ph&&"Area"!==this.Ph&&"Baseline"!==this.Ph||!this.ys.crosshairMarkerVisible)return null;const e=this.Yt.Pr(t);return null===e?null:{gt:e.Ft[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Be(){return this.ys.title}Vt(){return this.ys.visible}ua(t){this.kh.push(new Xl(t,this))}ca(t){this.kh=this.kh.filter((e=>e.oh()!==t))}da(){if("Custom"===this.Ph)return t=>this.sh.fa(t)}pa(){if("Custom"===this.Ph)return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!hl(this.Wt().wa())}na(t,e){if(!Eo(t)||!Eo(e)||this.Yt.Zi())return null;const i="Line"===this.Ph||"Area"===this.Ph||"Baseline"===this.Ph||"Histogram"===this.Ph?[3]:[2,1],n=this.Yt.Ur(t,e,i);let r=null!==n?new kl(n.Jr,n.Qr):null,s=null;if("Histogram"===this.Rr()){const t=this.ys.base,e=new kl(t,t);r=null!==r?r.vn(e):e}return this.kh.forEach((i=>{const n=i.Mh(t,e);if(n?.priceRange){const t=new kl(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.vn(t):t}n?.margins&&(s=n.margins)})),new El(r,s)}aa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerRadius}return 0}la(){switch(this.Ph){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}oa(){switch(this.Ph){case"Line":case"Area":case"Baseline":return this.ys.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.Ph){case"Line":case"Area":case"Baseline":{const t=this.ys.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Rh().Dr(t).cr}Th(){switch(this.ys.priceFormat.type){case"custom":this.ha={format:this.ys.priceFormat.formatter};break;case"volume":this.ha=new pl(this.ys.priceFormat.precision);break;case"percent":this.ha=new fl(this.ys.priceFormat.precision);break;default:{const t=Math.pow(10,this.ys.priceFormat.precision);this.ha=new dl(t,this.ys.priceFormat.minMove*t)}}null!==this.es&&this.es.ga()}Qh(t,e){const i=[];return ql(this.kh,t,e,i),i}}class sa{constructor(t){this.ys=t}Ma(t,e,i){let n=t;if(0===this.ys.mode)return n;const r=i.Ps(),s=r.zt();if(null===s)return n;const o=r.Nt(t,s),l=i.ba().filter((t=>t instanceof ra)).reduce(((t,n)=>{if(i.Un(n)||!n.Vt())return t;const r=n.Wt(),s=n.Ks();if(r.Zi()||!s.Te(e))return t;const o=s.Pr(e);if(null===o)return t;const l=To(n.zt());return t.concat([r.Nt(o.Ft[3],l.Ft)])}),[]);if(0===l.length)return n;l.sort(((t,e)=>Math.abs(t-o)-Math.abs(e-o)));const a=l[0];return n=r.Ts(a,s),n}}class oa extends Yo{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,(()=>{const t=Mo(this.Yt);if(t.xa){e.strokeStyle=t.Sa,wo(e,t.Ca),e.beginPath();for(const r of t.ya){const t=Math.round(r.ka*n);e.moveTo(t,-s),e.lineTo(t,i.height+s)}e.stroke()}if(t.Pa){e.strokeStyle=t.Ta,wo(e,t.Ra),e.beginPath();for(const n of t.Da){const t=Math.round(n.ka*r);e.moveTo(-s,t),e.lineTo(i.width+s,t)}e.stroke()}}))}}class la{constructor(t){this.Gt=new oa,this.St=!0,this.yt=t}kt(){this.St=!0}Tt(){if(this.St){const t=this.yt.Qt().N().grid,e={Pa:t.horzLines.visible,xa:t.vertLines.visible,Ta:t.horzLines.color,Sa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.yt.Ps().Va(),ya:(this.yt.Qt().Bt().Va()||[]).map((t=>({ka:t.coord})))};this.Gt.ht(e),this.St=!1}return this.Gt}}class aa{constructor(t){this.sh=new la(t)}lr(){return this.sh}}const ha={Ia:4,Aa:1e-4};function ua(t,e){const i=100*(t-e)/e;return e<0?-i:i}function ca(t,e){const i=ua(t.$e(),e),n=ua(t.qe(),e);return new kl(i,n)}function da(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function fa(t,e){const i=da(t.$e(),e),n=da(t.qe(),e);return new kl(i,n)}function pa(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Aa)+e.Ia;return t<0?-n:n}function ma(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Ia)-e.Aa;return t<0?-n:n}function ya(t,e){if(null===t)return null;const i=pa(t.$e(),e),n=pa(t.qe(),e);return new kl(i,n)}function ga(t,e){if(null===t)return null;const i=ma(t.$e(),e),n=ma(t.qe(),e);return new kl(i,n)}function ba(t){if(null===t)return ha;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return ha;const i=Math.ceil(Math.abs(Math.log10(e))),n=ha.Ia+i;return{Ia:n,Aa:1/Math.pow(10,n)}}function va(t,e,i){return Math.min(Math.max(t,e),i)}function wa(t,e,i){return e-t<=i}function _a(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Sa{constructor(t,e){if(this.Ba=t,this.Ea=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Ba))this.za=[2,2.5,2];else{this.za=[];for(let t=this.Ba;1!==t;){if(t%2==0)this.za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),t/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,i){const n=0===this.Ba?0:1/this.Ba;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Ea[0];for(;;){const t=wa(r,n,1e-14)&&r>n+1e-14,e=wa(r,i*o,1e-14),l=wa(r,1,1e-14);if(!(t&&e&&l))break;r/=o,o=this.Ea[++s%this.Ea.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.za.length>0&&(l=r,Math.abs(l-1)<1e-14))for(s=0,o=this.za[0];wa(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.za[++s%this.za.length];var l;return r}}class xa{constructor(t,e,i,n){this.Oa=[],this.Yi=t,this.Ba=e,this.Na=i,this.Wa=n}La(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),n=(t-e)*this.Fa()/i,r=new Sa(this.Ba,[2,2.5,2]),s=new Sa(this.Ba,[2,2,2.5]),o=new Sa(this.Ba,[2.5,2,2]),l=[];return l.push(r.La(t,e,n),s.La(t,e,n),o.La(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}Ha(){const t=this.Yi,e=t.zt();if(null===e)return void(this.Oa=[]);const i=t.$t(),n=this.Na(i-1,e),r=this.Na(0,e),s=this.Yi.N().entireTextOnly?this.Ua()/2:0,o=s,l=i-1-s,a=Math.max(n,r),h=Math.min(n,r);if(a===h)return void(this.Oa=[]);let u=this.La(a,h),c=a%u;c+=c<0?u:0;const d=a>=h?1:-1;let f=null,p=0;for(let m=a-c;m>h;m-=u){const i=this.Wa(m,e,!0);null!==f&&Math.abs(i-f)<this.Fa()||i<o||i>l||(p<this.Oa.length?(this.Oa[p].ka=i,this.Oa[p].$a=t.qa(m)):this.Oa.push({ka:i,$a:t.qa(m)}),p++,f=i,t.Ya()&&(u=this.La(m*d,h)))}this.Oa.length=p}Va(){return this.Oa}Ua(){return this.Yi.k()}Fa(){return Math.ceil(2.5*this.Ua())}}function Ma(t){return t.slice().sort(((t,e)=>Mo(t.hs())-Mo(e.hs())))}var Ta;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Ta||(Ta={}));const Ca=new fl,Ia=new dl(100,1);class ka{constructor(t,e,i,n,r){this.ja=0,this.Za=null,this.Ge=null,this.Ka=null,this.Xa={Ga:!1,Ja:null},this.Qa=0,this.tl=0,this.il=new Co,this.sl=new Co,this.nl=[],this.el=null,this.rl=null,this.hl=null,this.al=null,this.ha=Ia,this.ll=ba(null),this.ol=t,this.ys=e,this._l=i,this.ul=n,this.cl=r,this.dl=new xa(this,100,this.fl.bind(this),this.pl.bind(this))}wa(){return this.ol}N(){return this.ys}hr(t){if(Io(this.ys,t),this.ga(),void 0!==t.mode&&this.vl({ie:t.mode}),void 0!==t.scaleMargins){const e=xo(t.scaleMargins.top),i=xo(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.ml(),this.rl=null}}wl(){return this.ys.autoScale}Ya(){return 1===this.ys.mode}Le(){return 2===this.ys.mode}gl(){return 3===this.ys.mode}ie(){return{sn:this.ys.autoScale,Ml:this.ys.invertScale,ie:this.ys.mode}}vl(t){const e=this.ie();let i=null;void 0!==t.sn&&(this.ys.autoScale=t.sn),void 0!==t.ie&&(this.ys.mode=t.ie,2!==t.ie&&3!==t.ie||(this.ys.autoScale=!0),this.Xa.Ga=!1),1===e.ie&&t.ie!==e.ie&&(function(t,e){if(null===t)return!1;const i=ma(t.$e(),e),n=ma(t.qe(),e);return isFinite(i)&&isFinite(n)}(this.Ge,this.ll)?(i=ga(this.Ge,this.ll),null!==i&&this.bl(i)):this.ys.autoScale=!0),1===t.ie&&t.ie!==e.ie&&(i=ya(this.Ge,this.ll),null!==i&&this.bl(i));const n=e.ie!==this.ys.mode;n&&(2===e.ie||this.Le())&&this.ga(),n&&(3===e.ie||this.gl())&&this.ga(),void 0!==t.Ml&&e.Ml!==t.Ml&&(this.ys.invertScale=t.Ml,this.xl()),this.sl.p(e,this.ie())}Sl(){return this.sl}k(){return this._l.fontSize}$t(){return this.ja}Cl(t){this.ja!==t&&(this.ja=t,this.ml(),this.rl=null)}yl(){if(this.Za)return this.Za;const t=this.$t()-this.kl()-this.Pl();return this.Za=t,t}Qe(){return this.Tl(),this.Ge}bl(t,e){const i=this.Ge;(e||null===i&&null!==t||null!==i&&!i.He(t))&&(this.rl=null,this.Ge=t)}Zi(){return this.Tl(),0===this.ja||!this.Ge||this.Ge.Zi()}Rl(t){return this.Ml()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=ua(t,e):this.gl()&&(t=da(t,e)),this.pl(t,e)}Dl(t,e,i){this.Tl();const n=this.Pl(),r=Mo(this.Qe()),s=r.$e(),o=r.qe(),l=this.yl()-1,a=this.Ml(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Vl();for(let f=u;f<c;f++){const i=t[f],r=i.gt;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i.gt,e));const l=n+h*(o-s),u=a?l:this.ja-1-l;i.ut=u}}Il(t,e,i){this.Tl();const n=this.Pl(),r=Mo(this.Qe()),s=r.$e(),o=r.qe(),l=this.yl()-1,a=this.Ml(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Vl();for(let f=u;f<c;f++){const i=t[f];let r=i.qh,o=i.Yh,l=i.jh,u=i.Zh;null!==d&&(r=d(i.qh,e),o=d(i.Yh,e),l=d(i.jh,e),u=d(i.Zh,e));let c=n+h*(r-s),p=a?c:this.ja-1-c;i.Al=p,c=n+h*(o-s),p=a?c:this.ja-1-c,i.Bl=p,c=n+h*(l-s),p=a?c:this.ja-1-c,i.El=p,c=n+h*(u-s),p=a?c:this.ja-1-c,i.zl=p}}Ts(t,e){const i=this.fl(t,e);return this.Ll(i,e)}Ll(t,e){let i=t;return this.Le()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.gl()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}ba(){return this.nl}Dt(){if(this.el)return this.el;let t=[];for(let e=0;e<this.nl.length;e++){const i=this.nl[e];null===i.hs()&&i.ls(e+1),t.push(i)}return t=Ma(t),this.el=t,this.el}Ol(t){-1===this.nl.indexOf(t)&&(this.nl.push(t),this.ga(),this.Nl())}Wl(t){const e=this.nl.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.nl.splice(e,1),0===this.nl.length&&(this.vl({sn:!0}),this.bl(null)),this.ga(),this.Nl()}zt(){let t=null;for(const e of this.nl){const i=e.zt();null!==i&&(null===t||i.Hh<t.Hh)&&(t=i)}return null===t?null:t.Ft}Ml(){return this.ys.invertScale}Va(){const t=null===this.zt();if(null!==this.rl&&(t||this.rl.Fl===t))return this.rl.Va;this.dl.Ha();const e=this.dl.Va();return this.rl={Va:e,Fl:t},this.il.p(),e}Hl(){return this.il}Ul(t){this.Le()||this.gl()||null===this.hl&&null===this.Ka&&(this.Zi()||(this.hl=this.ja-t,this.Ka=Mo(this.Qe()).Ue()))}$l(t){if(this.Le()||this.gl())return;if(null===this.hl)return;this.vl({sn:!1}),(t=this.ja-t)<0&&(t=0);let e=(this.hl+.2*(this.ja-1))/(t+.2*(this.ja-1));const i=Mo(this.Ka).Ue();e=Math.max(e,.1),i.je(e),this.bl(i)}ql(){this.Le()||this.gl()||(this.hl=null,this.Ka=null)}Yl(t){this.wl()||null===this.al&&null===this.Ka&&(this.Zi()||(this.al=t,this.Ka=Mo(this.Qe()).Ue()))}jl(t){if(this.wl())return;if(null===this.al)return;const e=Mo(this.Qe()).Ye()/(this.yl()-1);let i=t-this.al;this.Ml()&&(i*=-1);const n=i*e,r=Mo(this.Ka).Ue();r.Ze(n),this.bl(r,!0),this.rl=null}Zl(){this.wl()||null!==this.al&&(this.al=null,this.Ka=null)}ra(){return this.ha||this.ga(),this.ha}Xi(t,e){switch(this.ys.mode){case 2:return this.Kl(ua(t,e));case 3:return this.ra().format(da(t,e));default:return this.nr(t)}}qa(t){switch(this.ys.mode){case 2:return this.Kl(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Dh(t){return this.nr(t,Mo(this.Xl()).ra())}Vh(t,e){return t=ua(t,e),this.Kl(t,Ca)}Gl(){return this.nl}Jl(t){this.Xa={Ja:t,Ga:!1}}Ns(){this.nl.forEach((t=>t.Ns()))}ga(){this.rl=null;const t=this.Xl();let e=100;null!==t&&(e=Math.round(1/t.ea())),this.ha=Ia,this.Le()?(this.ha=Ca,e=100):this.gl()?(this.ha=new dl(100,1),e=100):null!==t&&(this.ha=t.ra()),this.dl=new xa(this,e,this.fl.bind(this),this.pl.bind(this)),this.dl.Ha()}Nl(){this.el=null}Ki(){return this.cl}Xl(){return this.nl[0]||null}kl(){return this.Ml()?this.ys.scaleMargins.bottom*this.$t()+this.tl:this.ys.scaleMargins.top*this.$t()+this.Qa}Pl(){return this.Ml()?this.ys.scaleMargins.top*this.$t()+this.Qa:this.ys.scaleMargins.bottom*this.$t()+this.tl}Tl(){this.Xa.Ga||(this.Xa.Ga=!0,this.Ql())}ml(){this.Za=null}pl(t,e){if(this.Tl(),this.Zi())return 0;t=this.Ya()&&t?pa(t,this.ll):t;const i=Mo(this.Qe()),n=this.Pl()+(this.yl()-1)*(t-i.$e())/i.Ye();return this.Rl(n)}fl(t,e){if(this.Tl(),this.Zi())return 0;const i=this.Rl(t),n=Mo(this.Qe()),r=n.$e()+n.Ye()*((i-this.Pl())/(this.yl()-1));return this.Ya()?ma(r,this.ll):r}xl(){this.rl=null,this.dl.Ha()}Ql(){const t=this.Xa.Ja;if(null===t)return;let e=null;const i=this.Gl();let n=0,r=0;for(const l of i){if(!l.Vt())continue;const i=l.zt();if(null===i)continue;const s=l.Mh(t.Uh(),t.bi());let o=s&&s.Qe();if(null!==o){switch(this.ys.mode){case 1:o=ya(o,this.ll);break;case 2:o=ca(o,i.Ft);break;case 3:o=fa(o,i.Ft)}if(e=null===e?o:e.vn(Mo(o)),null!==s){const t=s.tr();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(n===this.Qa&&r===this.tl||(this.Qa=n,this.tl=r,this.rl=null,this.ml()),null!==e){if(e.$e()===e.qe()){const t=this.Xl(),i=5*(null===t||this.Le()||this.gl()?1:t.ea());this.Ya()&&(e=ga(e,this.ll)),e=new kl(e.$e()-i,e.qe()+i),this.Ya()&&(e=ya(e,this.ll))}if(this.Ya()){const t=ga(e,this.ll),i=ba(t);if(s=i,o=this.ll,s.Ia!==o.Ia||s.Aa!==o.Aa){const n=null!==this.Ka?ga(this.Ka,this.ll):null;this.ll=i,e=ya(t,i),null!==n&&(this.Ka=ya(n,i))}}this.bl(e)}else null===this.Ge&&(this.bl(new kl(-.5,.5)),this.ll=ba(null));var s,o;this.Xa.Ga=!0}Vl(){return this.Le()?ua:this.gl()?da:this.Ya()?t=>pa(t,this.ll):null}io(t,e,i){return void 0===e?(void 0===i&&(i=this.ra()),i.format(t)):e(t)}nr(t,e){return this.io(t,this.ul.priceFormatter,e)}Kl(t,e){return this.io(t,this.ul.percentageFormatter,e)}}function Ea(t){return t instanceof ra}class Ba{constructor(t,e){this.nl=[],this.so=new Map,this.ja=0,this.no=0,this.eo=1e3,this.el=null,this.ro=new Co,this.kh=[],this.uh=t,this.ts=e,this.ho=new aa(this);const i=e.N();this.ao=this.lo("left",i.leftPriceScale),this.oo=this.lo("right",i.rightPriceScale),this.ao.Sl().i(this._o.bind(this,this.ao),this),this.oo.Sl().i(this._o.bind(this,this.oo),this),this.uo(i)}uo(t){if(t.leftPriceScale&&this.ao.hr(t.leftPriceScale),t.rightPriceScale&&this.oo.hr(t.rightPriceScale),t.localization&&(this.ao.ga(),this.oo.ga()),t.overlayPriceScales){const e=Array.from(this.so.values());for(const i of e){const e=Mo(i[0].Wt());e.hr(t.overlayPriceScales),t.localization&&e.ga()}}}co(t){switch(t){case"left":return this.ao;case"right":return this.oo}return this.so.has(t)?xo(this.so.get(t))[0].Wt():null}m(){this.Qt().do().u(this),this.ao.Sl().u(this),this.oo.Sl().u(this),this.nl.forEach((t=>{t.m&&t.m()})),this.kh=this.kh.filter((t=>{const e=t.oh();return e.detached&&e.detached(),!1})),this.ro.p()}fo(){return this.eo}po(t){this.eo=t}Qt(){return this.ts}Qi(){return this.no}$t(){return this.ja}vo(t){this.no=t,this.mo()}Cl(t){this.ja=t,this.ao.Cl(t),this.oo.Cl(t),this.nl.forEach((e=>{if(this.Un(e)){const i=e.Wt();null!==i&&i.Cl(t)}})),this.mo()}wo(){return this.nl.filter(Ea)}ba(){return this.nl}Un(t){const e=t.Wt();return null===e||this.ao!==e&&this.oo!==e}Ol(t,e,i){const n=void 0!==i?i:this.bo().Mo+1;this.xo(t,e,n)}Wl(t){const e=this.nl.indexOf(t);So(-1!==e,"removeDataSource: invalid data source"),this.nl.splice(e,1);const i=Mo(t.Wt()).wa();if(this.so.has(i)){const e=xo(this.so.get(i)),n=e.indexOf(t);-1!==n&&(e.splice(n,1),0===e.length&&this.so.delete(i))}const n=t.Wt();n&&n.ba().indexOf(t)>=0&&n.Wl(t),null!==n&&(n.Nl(),this.So(n)),this.el=null}qn(t){return t===this.ao?"left":t===this.oo?"right":"overlay"}Co(){return this.ao}yo(){return this.oo}ko(t,e){t.Ul(e)}Po(t,e){t.$l(e),this.mo()}To(t){t.ql()}Ro(t,e){t.Yl(e)}Do(t,e){t.jl(e),this.mo()}Vo(t){t.Zl()}mo(){this.nl.forEach((t=>{t.Ns()}))}Ps(){let t=null;return this.ts.N().rightPriceScale.visible&&0!==this.oo.ba().length?t=this.oo:this.ts.N().leftPriceScale.visible&&0!==this.ao.ba().length?t=this.ao:0!==this.nl.length&&(t=this.nl[0].Wt()),null===t&&(t=this.oo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.oo:this.ts.N().leftPriceScale.visible&&(t=this.ao),t}So(t){null!==t&&t.wl()&&this.Io(t)}Ao(t){const e=this.uh.ye();t.vl({sn:!0}),null!==e&&t.Jl(e),this.mo()}Bo(){this.Io(this.ao),this.Io(this.oo)}Eo(){this.So(this.ao),this.So(this.oo),this.nl.forEach((t=>{this.Un(t)&&this.So(t.Wt())})),this.mo(),this.ts.ar()}Dt(){return null===this.el&&(this.el=Ma(this.nl)),this.el}It(){return this.Dt().filter(Ea)}zo(){return this.ro}Lo(){return this.ho}ua(t){this.kh.push(new Ql(t))}ca(t){this.kh=this.kh.filter((e=>e.oh()!==t)),t.detached&&t.detached(),this.ts.ar()}Oo(){return this.kh}sa(t,e){return this.kh.map((i=>i.jn(t,e))).filter((t=>null!==t))}Io(t){const e=t.Gl();if(e&&e.length>0&&!this.uh.Zi()){const e=this.uh.ye();null!==e&&t.Jl(e)}t.Ns()}bo(){const t=this.Dt();if(0===t.length)return{No:0,Mo:0};let e=0,i=0;for(let n=0;n<t.length;n++){const r=t[n].hs();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{No:e,Mo:i}}xo(t,e,i){let n=this.co(e);if(null===n&&(n=this.lo(e,this.ts.N().overlayPriceScales)),this.nl.push(t),!hl(e)){const i=this.so.get(e)||[];i.push(t),this.so.set(e,i)}n.Ol(t),t._s(n),t.ls(i),this.So(n),this.el=null}_o(t,e,i){e.ie!==i.ie&&this.Io(t)}lo(t,e){const i={visible:!0,autoScale:!0,...Do(e)},n=new ka(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Ki());return n.Cl(this.$t()),n}}function Na(t){return{Wo:t.Wo,Fo:{Zn:t.Ho.externalId},Uo:t.Ho.cursorStyle}}function Da(t,e,i,n){for(const r of t){const t=r.Tt(n);if(null!==t&&t.jn){const n=t.jn(e,i);if(null!==n)return{$o:r,Fo:n}}}return null}function Oa(t){return void 0!==t.Ws}function Pa(t,e,i){const n=[t,...t.Dt()],r=function(t,e,i){let n,r;for(const l of t){const t=l.sa?.(e,i)??[];for(const e of t)s=e.zOrder,o=n?.zOrder,(!o||"top"===s&&"top"!==o||"normal"===s&&"bottom"===o)&&(n=e,r=l)}var s,o;return n&&r?{Ho:n,Wo:r}:null}(n,e,i);if("top"===r?.Ho.zOrder)return Na(r);for(const s of n){if(r&&r.Wo===s&&"bottom"!==r.Ho.zOrder&&!r.Ho.isBackground)return Na(r);if(Oa(s)){const n=Da(s.Ws(t),e,i,t);if(null!==n)return{Wo:s,$o:n.$o,Fo:n.Fo}}if(r&&r.Wo===s&&"bottom"!==r.Ho.zOrder&&r.Ho.isBackground)return Na(r)}return r?.Ho?Na(r):null}class Aa{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.kn=0,this.Pn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.qo=t,this.Yo=e,this.Vn=i}jo(t){const e=t.time,i=this.Yo.cacheKey(e),n=this.Dn.get(i);if(void 0!==n)return n.Zo;if(this.kn===this.Vn){const t=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(xo(t)),this.Tn++,this.kn--}const r=this.qo(t);return this.Dn.set(i,{Zo:r,En:this.Pn}),this.Rn.set(this.Pn,i),this.kn++,this.Pn++,r}}class Fa{constructor(t,e){So(t<=e,"right should be >= left"),this.Ko=t,this.Xo=e}Uh(){return this.Ko}bi(){return this.Xo}Go(){return this.Xo-this.Ko+1}Te(t){return this.Ko<=t&&t<=this.Xo}He(t){return this.Ko===t.Uh()&&this.Xo===t.bi()}}function Ra(t,e){return null===t||null===e?t===e:t.He(e)}class za{constructor(){this.Jo=new Map,this.Dn=null,this.Qo=!1}t_(t){this.Qo=t,this.Dn=null}i_(t,e){this.s_(e),this.Dn=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.Jo.get(e.timeWeight);void 0===n&&(n=[],this.Jo.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}n_(t,e,i,n,r){const s=Math.ceil(e/t);return null!==this.Dn&&this.Dn.e_===s&&r===this.Dn.r_&&i===this.Dn.h_||(this.Dn={r_:r,h_:i,Va:this.a_(s,i,n),e_:s}),this.Dn.Va}s_(t){if(0===t)return void this.Jo.clear();const e=[];this.Jo.forEach(((i,n)=>{t<=i[0].index?e.push(n):i.splice(Rl(i,t,(e=>e.index<t)),1/0)}));for(const i of e)this.Jo.delete(i)}a_(t,e,i){let n=[];const r=t=>!e||i.has(t.index);for(const s of Array.from(this.Jo.keys()).sort(((t,e)=>e-t))){if(!this.Jo.get(s))continue;const e=n;n=[];const i=e.length;let o=0;const l=xo(this.Jo.get(s)),a=l.length;let h=1/0,u=-1/0;for(let s=0;s<a;s++){const a=l[s],c=a.index;for(;o<i;){const t=e[o],i=t.index;if(!(i<c&&r(t))){h=i;break}o++,n.push(t),u=i,h=1/0}if(h-c>=t&&c-u>=t&&r(a))n.push(a),u=c;else if(this.Qo)return e}for(;o<i;o++)r(e[o])&&n.push(e[o])}return n}}class La{constructor(t){this.l_=t}o_(){return null===this.l_?null:new Fa(Math.floor(this.l_.Uh()),Math.ceil(this.l_.bi()))}__(){return this.l_}static u_(){return new La(null)}}function Va(t,e){return t.weight>e.weight?t:e}class Ua{constructor(t,e,i,n){this.no=0,this.c_=null,this.d_=[],this.al=null,this.hl=null,this.f_=new za,this.p_=new Map,this.v_=La.u_(),this.m_=!0,this.w_=new Co,this.g_=new Co,this.M_=new Co,this.b_=null,this.x_=null,this.S_=new Map,this.C_=-1,this.y_=[],this.ys=e,this.ul=i,this.k_=e.rightOffset,this.P_=e.barSpacing,this.ts=t,this.Yo=n,this.T_(),this.f_.t_(e.uniformDistribution),this.R_()}N(){return this.ys}D_(t){Io(this.ul,t),this.V_(),this.T_()}hr(t,e){Io(this.ys,t),this.ys.fixLeftEdge&&this.I_(),this.ys.fixRightEdge&&this.A_(),void 0!==t.barSpacing&&this.ts.dn(t.barSpacing),void 0!==t.rightOffset&&this.ts.fn(t.rightOffset),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ts.dn(t.barSpacing??this.P_),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.ys.ignoreWhitespaceIndices&&this.R_(),this.V_(),this.T_(),this.M_.p()}Rs(t){return this.d_[t]?.time??null}ss(t){return this.d_[t]??null}B_(t,e){if(this.d_.length<1)return null;if(this.Yo.key(t)>this.Yo.key(this.d_[this.d_.length-1].time))return e?this.d_.length-1:null;const i=Rl(this.d_,this.Yo.key(t),((t,e)=>this.Yo.key(t.time)<e));return this.Yo.key(t)<this.Yo.key(this.d_[i].time)?e?i:null:i}Zi(){return 0===this.no||0===this.d_.length||null===this.c_}E_(){return this.d_.length>0}ye(){return this.z_(),this.v_.o_()}L_(){return this.z_(),this.v_.__()}O_(){const t=this.ye();if(null===t)return null;const e={from:t.Uh(),to:t.bi()};return this.N_(e)}N_(t){const e=Math.round(t.from),i=Math.round(t.to),n=Mo(this.W_()),r=Mo(this.F_());return{from:Mo(this.ss(Math.max(n,e))),to:Mo(this.ss(Math.min(r,i)))}}H_(t){return{from:Mo(this.B_(t.from,!0)),to:Mo(this.B_(t.to,!0))}}Qi(){return this.no}vo(t){if(!isFinite(t)||t<=0)return;if(this.no===t)return;const e=this.L_(),i=this.no;if(this.no=t,this.m_=!0,this.ys.lockVisibleTimeRangeOnResize&&0!==i){const e=this.P_*t/i;this.P_=e}if(this.ys.fixLeftEdge&&null!==e&&e.Uh()<=0){const e=i-t;this.k_-=Math.round(e/this.P_)+1,this.m_=!0}this.U_(),this.q_()}qt(t){if(this.Zi()||!Eo(t))return 0;const e=this.Y_()+this.k_-t;return this.no-(e+.5)*this.P_-1}j_(t,e){const i=this.Y_(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].wt,n=i+this.k_-e,r=this.no-(n+.5)*this.P_-1;t[s]._t=r}}Z_(t,e){const i=Math.ceil(this.K_(t));return e&&this.ys.ignoreWhitespaceIndices&&!this.X_(i)?this.G_(i):i}fn(t){this.m_=!0,this.k_=t,this.q_(),this.ts.J_(),this.ts.ar()}Q_(){return this.P_}dn(t){this.tu(t),this.q_(),this.ts.J_(),this.ts.ar()}iu(){return this.k_}Va(){if(this.Zi())return null;if(null!==this.x_)return this.x_;const t=this.P_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.ys.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=Mo(this.ye()),r=Math.max(n.Uh(),n.Uh()-i),s=Math.max(n.bi(),n.bi()-i),o=this.f_.n_(t,e,this.ys.ignoreWhitespaceIndices,this.S_,this.C_),l=this.W_()+i,a=this.F_()-i,h=this.su(),u=this.ys.fixLeftEdge||h,c=this.ys.fixRightEdge||h;let d=0;for(const f of o){if(!(r<=f.index&&f.index<=s))continue;let t;d<this.y_.length?(t=this.y_[d],t.coord=this.qt(f.index),t.label=this.nu(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.nu(f),weight:f.weight},this.y_.push(t)),this.P_>e/2&&!h?t.needAlignCoordinate=!1:t.needAlignCoordinate=u&&f.index<=l||c&&f.index>=a,d++}return this.y_.length=d,this.x_=this.y_,this.y_}eu(){this.m_=!0,this.dn(this.ys.barSpacing),this.fn(this.ys.rightOffset)}ru(t){this.m_=!0,this.c_=t,this.q_(),this.I_()}hu(t,e){const i=this.K_(t),n=this.Q_(),r=n+e*(n/10);this.dn(r),this.ys.rightBarStaysOnScroll||this.fn(this.iu()+(i-this.K_(t)))}Ul(t){this.al&&this.Zl(),null===this.hl&&null===this.b_&&(this.Zi()||(this.hl=t,this.au()))}$l(t){if(null===this.b_)return;const e=va(this.no-t,0,this.no),i=va(this.no-Mo(this.hl),0,this.no);0!==e&&0!==i&&this.dn(this.b_.Q_*e/i)}ql(){null!==this.hl&&(this.hl=null,this.lu())}Yl(t){null===this.al&&null===this.b_&&(this.Zi()||(this.al=t,this.au()))}jl(t){if(null===this.al)return;const e=(this.al-t)/this.Q_();this.k_=Mo(this.b_).iu+e,this.m_=!0,this.q_()}Zl(){null!==this.al&&(this.al=null,this.lu())}ou(){this._u(this.ys.rightOffset)}_u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.k_,n=performance.now();this.ts._n({uu:t=>(t-n)/e>=1,cu:r=>{const s=(r-n)/e;return s>=1?t:i+(t-i)*s}})}kt(t,e){this.m_=!0,this.d_=t,this.f_.i_(t,e),this.q_()}du(){return this.w_}fu(){return this.g_}pu(){return this.M_}Y_(){return this.c_||0}vu(t){const e=t.Go();this.tu(this.no/e),this.k_=t.bi()-this.Y_(),this.q_(),this.m_=!0,this.ts.J_(),this.ts.ar()}mu(){const t=this.W_(),e=this.F_();null!==t&&null!==e&&this.vu(new Fa(t,e+this.ys.rightOffset))}wu(t){const e=new Fa(t.from,t.to);this.vu(e)}ns(t){return void 0!==this.ul.timeFormatter?this.ul.timeFormatter(t.originalTime):this.Yo.formatHorzItem(t.time)}R_(){if(!this.ys.ignoreWhitespaceIndices)return;this.S_.clear();const t=this.ts.js();for(const e of t)for(const t of e.ma())this.S_.set(t,!0);this.C_++}su(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}W_(){return 0===this.d_.length?null:0}F_(){return 0===this.d_.length?null:this.d_.length-1}gu(t){return(this.no-1-t)/this.P_}K_(t){const e=this.gu(t),i=this.Y_()+this.k_-e;return Math.round(1e6*i)/1e6}tu(t){const e=this.P_;this.P_=t,this.U_(),e!==this.P_&&(this.m_=!0,this.Mu())}z_(){if(!this.m_)return;if(this.m_=!1,this.Zi())return void this.bu(La.u_());const t=this.Y_(),e=this.no/this.P_,i=this.k_+t,n=new Fa(i-e+1,i);this.bu(new La(n))}U_(){const t=va(this.P_,this.xu(),this.Su());this.P_!==t&&(this.P_=t,this.m_=!0)}Su(){return this.ys.maxBarSpacing>0?this.ys.maxBarSpacing:.5*this.no}xu(){return this.ys.fixLeftEdge&&this.ys.fixRightEdge&&0!==this.d_.length?this.no/this.d_.length:this.ys.minBarSpacing}q_(){const t=this.Cu();null!==t&&this.k_<t&&(this.k_=t,this.m_=!0);const e=this.yu();this.k_>e&&(this.k_=e,this.m_=!0)}Cu(){const t=this.W_(),e=this.c_;return null===t||null===e?null:t-e-1+(this.ys.fixLeftEdge?this.no/this.P_:Math.min(2,this.d_.length))}yu(){return this.ys.fixRightEdge?0:this.no/this.P_-Math.min(2,this.d_.length)}au(){this.b_={Q_:this.Q_(),iu:this.iu()}}lu(){this.b_=null}nu(t){let e=this.p_.get(t.weight);return void 0===e&&(e=new Aa((t=>this.ku(t)),this.Yo),this.p_.set(t.weight,e)),e.jo(t)}ku(t){return this.Yo.formatTickmark(t,this.ul)}bu(t){const e=this.v_;this.v_=t,Ra(e.o_(),this.v_.o_())||this.w_.p(),Ra(e.__(),this.v_.__())||this.g_.p(),this.Mu()}Mu(){this.x_=null}V_(){this.Mu(),this.p_.clear()}T_(){this.Yo.updateFormatter(this.ul)}I_(){if(!this.ys.fixLeftEdge)return;const t=this.W_();if(null===t)return;const e=this.ye();if(null===e)return;const i=e.Uh()-t;if(i<0){const t=this.k_-i-1;this.fn(t)}this.U_()}A_(){this.q_(),this.U_()}X_(t){return!this.ys.ignoreWhitespaceIndices||this.S_.get(t)||!1}G_(t){const e=function*(t){const e=Math.round(t),i=e<t;let n=1;for(;;)i?(yield e+n,yield e-n):(yield e-n,yield e+n),n++}(t),i=this.F_();for(;i;){const t=e.next().value;if(this.S_.get(t))return t;if(t<0||t>i)break}return t}}var Ya,Wa,ja,$a,Qa;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Ya||(Ya={}));class Ha{constructor(t,e,i){this.Pu=[],this.Tu=[],this.no=0,this.Ru=null,this.Du=new Co,this.Vu=new Co,this.Iu=null,this.Au=t,this.ys=e,this.Yo=i,this.cl=new Vo(this.ys.layout.colorParsers),this.Bu=new Ro(this),this.uh=new Ua(this,e.timeScale,this.ys.localization,i),this.Ct=new al(this,e.crosshair),this.Eu=new sa(e.crosshair),this.zu(0),this.Pu[0].po(2e3),this.Lu=this.Ou(0),this.Nu=this.Ou(1)}Ah(){this.Wu(ul.gn())}ar(){this.Wu(ul.wn())}Xh(){this.Wu(new ul(1))}Bh(t){const e=this.Fu(t);this.Wu(e)}Hu(){return this.Ru}Uu(t){if(this.Ru?.Wo===t?.Wo&&this.Ru?.Fo?.Zn===t?.Fo?.Zn)return;const e=this.Ru;this.Ru=t,null!==e&&this.Bh(e.Wo),null!==t&&t.Wo!==e?.Wo&&this.Bh(t.Wo)}N(){return this.ys}hr(t){Io(this.ys,t),this.Pu.forEach((e=>e.uo(t))),void 0!==t.timeScale&&this.uh.hr(t.timeScale),void 0!==t.localization&&this.uh.D_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Du.p(),this.Lu=this.Ou(0),this.Nu=this.Ou(1),this.Ah()}$u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.Pu[i];if(void 0===n)return;if("left"===t)return Io(this.ys,{leftPriceScale:e}),n.uo({leftPriceScale:e}),this.Du.p(),void this.Ah();if("right"===t)return Io(this.ys,{rightPriceScale:e}),n.uo({rightPriceScale:e}),this.Du.p(),void this.Ah();const r=this.qu(t,i);null!==r&&(r.Wt.hr(e),this.Du.p())}qu(t,e){const i=this.Pu[e];if(void 0===i)return null;const n=i.co(t);return null!==n?{Us:i,Wt:n}:null}Bt(){return this.uh}$s(){return this.Pu}Yu(){return this.Ct}ju(){return this.Vu}Zu(t,e){t.Cl(e),this.J_()}vo(t){this.no=t,this.uh.vo(this.no),this.Pu.forEach((e=>e.vo(t))),this.J_()}Ku(t){1!==this.Pu.length&&(So(t>=0&&t<this.Pu.length,"Invalid pane index"),this.Pu.splice(t,1),this.Ah())}Xu(t,e){if(this.Pu.length<2)return;So(t>=0&&t<this.Pu.length,"Invalid pane index");const i=this.Pu[t],n=this.Pu.reduce(((t,e)=>t+e.fo()),0),r=this.Pu.reduce(((t,e)=>t+e.$t()),0),s=r-30*(this.Pu.length-1);e=Math.min(s,Math.max(30,e));const o=n/r,l=i.$t();i.po(e*o);let a=e-l,h=this.Pu.length-1;for(const u of this.Pu)if(u!==i){const t=Math.min(s,Math.max(30,u.$t()-a/h));a-=u.$t()-t,h-=1;const e=t*o;u.po(e)}this.Ah()}Gu(t,e){So(t>=0&&t<this.Pu.length&&e>=0&&e<this.Pu.length,"Invalid pane index");const i=this.Pu[t],n=this.Pu[e];this.Pu[t]=n,this.Pu[e]=i,this.Ah()}ko(t,e,i){t.ko(e,i)}Po(t,e,i){t.Po(e,i),this.Eh(),this.Wu(this.Ju(t,2))}To(t,e){t.To(e),this.Wu(this.Ju(t,2))}Ro(t,e,i){e.wl()||t.Ro(e,i)}Do(t,e,i){e.wl()||(t.Do(e,i),this.Eh(),this.Wu(this.Ju(t,2)))}Vo(t,e){e.wl()||(t.Vo(e),this.Wu(this.Ju(t,2)))}Ao(t,e){t.Ao(e),this.Wu(this.Ju(t,2))}Qu(t){this.uh.Ul(t)}tc(t,e){const i=this.Bt();if(i.Zi()||0===e)return;const n=i.Qi();t=Math.max(1,Math.min(t,n)),i.hu(t,e),this.J_()}sc(t){this.nc(0),this.ec(t),this.rc()}hc(t){this.uh.$l(t),this.J_()}ac(){this.uh.ql(),this.ar()}nc(t){this.uh.Yl(t)}ec(t){this.uh.jl(t),this.J_()}rc(){this.uh.Zl(),this.ar()}js(){return this.Tu}lc(t,e,i,n,r){this.Ct.Vs(t,e);let s=NaN,o=this.uh.Z_(t,!0);const l=this.uh.ye();null!==l&&(o=Math.min(Math.max(l.Uh(),o),l.bi()));const a=n.Ps(),h=a.zt();if(null!==h&&(s=a.Ts(e,h)),s=this.Eu.Ma(s,o,n),this.Ct.Es(o,s,n),this.Xh(),!r){const r=Pa(n,t,e);this.Uu(r&&{Wo:r.Wo,Fo:r.Fo,Uo:r.Uo||null}),this.Vu.p(this.Ct.At(),{x:t,y:e},i)}}oc(t,e,i){const n=i.Ps(),r=n.zt(),s=n.Nt(t,Mo(r)),o=this.uh.B_(e,!0),l=this.uh.qt(Mo(o));this.lc(l,s,null,i,!0)}_c(t){this.Yu().Ls(),this.Xh(),t||this.Vu.p(null,null,null)}Eh(){const t=this.Ct.Us();if(null!==t){const e=this.Ct.As(),i=this.Ct.Bs();this.lc(e,i,null,t)}this.Ct.Ns()}uc(t,e,i){const n=this.uh.Rs(0);void 0!==e&&void 0!==i&&this.uh.kt(e,i);const r=this.uh.Rs(0),s=this.uh.Y_(),o=this.uh.ye();if(null!==o&&null!==n&&null!==r){const e=o.Te(s),l=this.Yo.key(n)>this.Yo.key(r),a=null!==t&&t>s&&!l,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(!(void 0===i)||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(a&&!u){const e=t-s;this.uh.fn(this.uh.iu()-e)}}this.uh.ru(t)}Lh(t){null!==t&&t.Eo()}Hn(t){if(function(t){return t instanceof Ba}(t))return t;const e=this.Pu.find((e=>e.Dt().includes(t)));return void 0===e?null:e}J_(){this.Pu.forEach((t=>t.Eo())),this.Eh()}m(){this.Pu.forEach((t=>t.m())),this.Pu.length=0,this.ys.localization.priceFormatter=void 0,this.ys.localization.percentageFormatter=void 0,this.ys.localization.timeFormatter=void 0}cc(){return this.Bu}Yn(){return this.Bu.N()}do(){return this.Du}dc(t,e){const i=this.zu(e);this.fc(t,i),this.Tu.push(t),1===this.Tu.length?this.Ah():this.ar()}vc(t){const e=this.Hn(t),i=this.Tu.indexOf(t);So(-1!==i,"Series not found");const n=Mo(e);this.Tu.splice(i,1),n.Wl(t),t.m&&t.m(),this.uh.R_(),this.mc(n)}Ih(t,e){const i=Mo(this.Hn(t));i.Wl(t),i.Ol(t,e,Mo(t.hs()))}mu(){const t=ul.wn();t.rn(),this.Wu(t)}wc(t){const e=ul.wn();e.ln(t),this.Wu(e)}cn(){const t=ul.wn();t.cn(),this.Wu(t)}dn(t){const e=ul.wn();e.dn(t),this.Wu(e)}fn(t){const e=ul.wn();e.fn(t),this.Wu(e)}_n(t){const e=ul.wn();e._n(t),this.Wu(e)}hn(){const t=ul.wn();t.hn(),this.Wu(t)}gc(){return this.ys.rightPriceScale.visible?"right":"left"}Mc(t,e){if(So(e>=0,"Index should be greater or equal to 0"),e===this.bc(t))return;const i=Mo(this.Hn(t));i.Wl(t);const n=this.zu(e);this.fc(t,n),0===i.ba().length&&this.mc(i)}xc(){return this.Nu}$(){return this.Lu}Ut(t){const e=this.Nu,i=this.Lu;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Iu||this.Iu.mr!==i||this.Iu.wr!==e)this.Iu={mr:i,wr:e,Sc:new Map};else{const e=this.Iu.Sc.get(t);if(void 0!==e)return e}const n=this.cl.tt(i,e,t/100);return this.Iu.Sc.set(t,n),n}Cc(t){return this.Pu.indexOf(t)}Ki(){return this.cl}zu(t){if(So(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.Pu.length,t))<this.Pu.length)return this.Pu[t];const e=new Ba(this.uh,this);this.Pu.push(e);const i=ul.gn();return i.Qs(t,{tn:0,sn:!0}),this.Wu(i),e}bc(t){return this.Pu.findIndex((e=>e.wo().includes(t)))}Ju(t,e){const i=new ul(e);if(null!==t){const n=this.Pu.indexOf(t);i.Qs(n,{tn:e})}return i}Fu(t,e){return void 0===e&&(e=2),this.Ju(this.Hn(t),e)}Wu(t){this.Au&&this.Au(t),this.Pu.forEach((t=>t.Lo().lr().kt()))}fc(t,e){const i=t.N().priceScaleId,n=void 0!==i?i:this.gc();e.Ol(t,n),hl(n)||t.hr(t.N())}Ou(t){const e=this.ys.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}mc(t){0===t.ba().length&&this.Pu.length>1&&(this.Pu.splice(this.Cc(t),1),this.Ah())}}function Ja(t){return!ko(t)&&!Bo(t)}function Ka(t){return ko(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Wa||(Wa={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(ja||(ja={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}($a||($a={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Qa||(Qa={}));const Ga=t=>t.getUTCFullYear();class Za{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.yc=t,this.kc=e}jo(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>cl(Ga(t),4))(t)).replace(/yy/g,(t=>cl(Ga(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>cl((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>cl((t=>t.getUTCDate())(t),2))(t))}(t,this.yc,this.kc)}}class Xa{constructor(t){this.Pc=t||"%h:%m:%s"}jo(t){return this.Pc.replace("%h",cl(t.getUTCHours(),2)).replace("%m",cl(t.getUTCMinutes(),2)).replace("%s",cl(t.getUTCSeconds(),2))}}const qa={Tc:"yyyy-MM-dd",Rc:"%h:%m:%s",Dc:" ",Vc:"default"};class th{constructor(){const t={...qa,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};this.Ic=new Za(t.Tc,t.Vc),this.Ac=new Xa(t.Rc),this.Bc=t.Dc}jo(t){return`${this.Ic.jo(t)}${this.Bc}${this.Ac.jo(t)}`}}function eh(t){return 60*t*60*1e3}function ih(t){return 60*t*1e3}const nh=[{Ec:1e3,zc:10},{Ec:ih(1),zc:20},{Ec:ih(5),zc:21},{Ec:ih(30),zc:22},{Ec:eh(1),zc:30},{Ec:eh(3),zc:31},{Ec:eh(6),zc:32},{Ec:eh(12),zc:33}];function rh(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=nh.length-1;i>=0;--i)if(Math.floor(e.getTime()/nh[i].Ec)!==Math.floor(t.getTime()/nh[i].Ec))return nh[i].zc;return 0}function sh(t){let e=t;if(Bo(t)&&(e=lh(t)),!Ja(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Lc:Math.round(i.getTime()/1e3),Oc:e}}function oh(t){if(!Ka(t))throw new Error("time must be of type isUTCTimestamp");return{Lc:t}}function lh(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function ah(t){Bo(t.time)&&(t.time=lh(t.time))}class hh{options(){return this.ys}setOptions(t){this.ys=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(ah)}(t):ah(t)}createConverterToInternalObj(t){return Mo(function(t){return 0===t.length?null:Ja(t[0].time)||Bo(t[0].time)?sh:oh}(t))}key(t){return"object"==typeof t&&"Lc"in t?t.Lc:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.Oc?new Date(1e3*e.Lc).getTime():new Date(Date.UTC(e.Oc.year,e.Oc.month-1,e.Oc.day)).getTime()}convertHorzItemToInternal(t){return Ka(e=t)?oh(e):Ja(e)?sh(e):sh(lh(e));var e}updateFormatter(t){if(!this.ys)return;const e=t.dateFormat;this.ys.timeScale.timeVisible?this.Nc=new th({Tc:e,Rc:this.ys.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Dc:"   ",Vc:t.locale}):this.Nc=new Za(e,t.locale)}formatHorzItem(t){const e=t;return this.Nc.jo(new Date(1e3*e.Lc))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.ys.timeScale.timeVisible,this.ys.timeScale.secondsVisible),n=this.ys.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.Oc?new Date(1e3*t.Lc):new Date(Date.UTC(t.Oc.year,t.Oc.month-1,t.Oc.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Va,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time.Lc,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.time.Lc);null!==n&&(e.timeWeight=rh(o,n)),r+=e.time.Lc-(i||e.time.Lc),i=e.time.Lc,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.Lc-e));t[0].timeWeight=rh(new Date(1e3*t[0].time.Lc),i)}}(t,e)}static Wc(t){return Io({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const uh="undefined"!=typeof window;function ch(){return!!uh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function dh(){return!!uh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function fh(t){return t+t%2}class ph{constructor(t,e,i){this.Fc=0,this.Hc=null,this.Uc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.$c=0,this.qc=null,this.Yc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.jc=null,this.Zc=!1,this.Kc=null,this.Xc=null,this.Gc=!1,this.Jc=!1,this.Qc=!1,this.td=null,this.sd=null,this.nd=null,this.ed=null,this.rd=null,this.hd=null,this.ad=null,this.ld=0,this.od=!1,this._d=!1,this.ud=!1,this.dd=0,this.fd=null,this.pd=!dh(),this.vd=t=>{this.md(t)},this.wd=t=>{if(this.gd(t)){const e=this.Md(t);if(++this.$c,this.qc&&this.$c>1){const{bd:i}=this.xd(gh(t),this.Yc);i<30&&!this.Qc&&this.Sd(e,this.yd.Cd),this.kd()}}else{const e=this.Md(t);if(++this.Fc,this.Hc&&this.Fc>1){const{bd:i}=this.xd(gh(t),this.Uc);i<5&&!this.Jc&&this.Pd(e,this.yd.Td),this.Rd()}}},this.Dd=t,this.yd=e,this.ys=i,this.Vd()}m(){null!==this.td&&(this.td(),this.td=null),null!==this.sd&&(this.sd(),this.sd=null),null!==this.ed&&(this.ed(),this.ed=null),null!==this.rd&&(this.rd(),this.rd=null),null!==this.hd&&(this.hd(),this.hd=null),null!==this.nd&&(this.nd(),this.nd=null),this.Id(),this.Rd()}Ad(t){this.ed&&this.ed();const e=this.Bd.bind(this);if(this.ed=()=>{this.Dd.removeEventListener("mousemove",e)},this.Dd.addEventListener("mousemove",e),this.gd(t))return;const i=this.Md(t);this.Pd(i,this.yd.Ed),this.pd=!0}Rd(){null!==this.Hc&&clearTimeout(this.Hc),this.Fc=0,this.Hc=null,this.Uc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}kd(){null!==this.qc&&clearTimeout(this.qc),this.$c=0,this.qc=null,this.Yc={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Bd(t){if(this.ud||null!==this.Xc)return;if(this.gd(t))return;const e=this.Md(t);this.Pd(e,this.yd.zd),this.pd=!0}Ld(t){const e=vh(t.changedTouches,Mo(this.fd));if(null===e)return;if(this.dd=bh(t),null!==this.ad)return;if(this._d)return;this.od=!0;const i=this.xd(gh(e),Mo(this.Xc)),{Od:n,Nd:r,bd:s}=i;if(this.Gc||!(s<5)){if(!this.Gc){const t=.5*n,e=r>=t&&!this.ys.Wd(),i=t>r&&!this.ys.Fd();e||i||(this._d=!0),this.Gc=!0,this.Qc=!0,this.Id(),this.kd()}if(!this._d){const i=this.Md(t,e);this.Sd(i,this.yd.Hd),yh(t)}}}Ud(t){if(0!==t.button)return;const e=this.xd(gh(t),Mo(this.Kc)),{bd:i}=e;if(i>=5&&(this.Jc=!0,this.Rd()),this.Jc){const e=this.Md(t);this.Pd(e,this.yd.$d)}}xd(t,e){const i=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{Od:i,Nd:n,bd:i+n}}qd(t){let e=vh(t.changedTouches,Mo(this.fd));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.fd=null,this.dd=bh(t),this.Id(),this.Xc=null,this.hd&&(this.hd(),this.hd=null);const i=this.Md(t,e);if(this.Sd(i,this.yd.Yd),++this.$c,this.qc&&this.$c>1){const{bd:t}=this.xd(gh(e),this.Yc);t<30&&!this.Qc&&this.Sd(i,this.yd.Cd),this.kd()}else this.Qc||(this.Sd(i,this.yd.jd),this.yd.jd&&yh(t));0===this.$c&&yh(t),0===t.touches.length&&this.Zc&&(this.Zc=!1,yh(t))}md(t){if(0!==t.button)return;const e=this.Md(t);if(this.Kc=null,this.ud=!1,this.rd&&(this.rd(),this.rd=null),ch()&&this.Dd.ownerDocument.documentElement.removeEventListener("mouseleave",this.vd),!this.gd(t))if(this.Pd(e,this.yd.Zd),++this.Fc,this.Hc&&this.Fc>1){const{bd:i}=this.xd(gh(t),this.Uc);i<5&&!this.Jc&&this.Pd(e,this.yd.Td),this.Rd()}else this.Jc||this.Pd(e,this.yd.Kd)}Id(){null!==this.jc&&(clearTimeout(this.jc),this.jc=null)}Xd(t){if(null!==this.fd)return;const e=t.changedTouches[0];this.fd=e.identifier,this.dd=bh(t);const i=this.Dd.ownerDocument.documentElement;this.Qc=!1,this.Gc=!1,this._d=!1,this.Xc=gh(e),this.hd&&(this.hd(),this.hd=null);{const e=this.Ld.bind(this),n=this.qd.bind(this);this.hd=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Id(),this.jc=setTimeout(this.Gd.bind(this,t),240)}const n=this.Md(t,e);this.Sd(n,this.yd.Jd),this.qc||(this.$c=0,this.qc=setTimeout(this.kd.bind(this),500),this.Yc=gh(e))}Qd(t){if(0!==t.button)return;const e=this.Dd.ownerDocument.documentElement;ch()&&e.addEventListener("mouseleave",this.vd),this.Jc=!1,this.Kc=gh(t),this.rd&&(this.rd(),this.rd=null);{const t=this.Ud.bind(this),i=this.md.bind(this);this.rd=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.ud=!0,this.gd(t))return;const i=this.Md(t);this.Pd(i,this.yd.tf),this.Hc||(this.Fc=0,this.Hc=setTimeout(this.Rd.bind(this),500),this.Uc=gh(t))}Vd(){this.Dd.addEventListener("mouseenter",this.Ad.bind(this)),this.Dd.addEventListener("touchcancel",this.Id.bind(this));{const t=this.Dd.ownerDocument,e=t=>{this.yd.if&&(t.composed&&this.Dd.contains(t.composedPath()[0])||t.target&&this.Dd.contains(t.target)||this.yd.if())};this.sd=()=>{t.removeEventListener("touchstart",e)},this.td=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}dh()&&(this.nd=()=>{this.Dd.removeEventListener("dblclick",this.wd)},this.Dd.addEventListener("dblclick",this.wd)),this.Dd.addEventListener("mouseleave",this.sf.bind(this)),this.Dd.addEventListener("touchstart",this.Xd.bind(this),{passive:!0}),function(t){uh&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.Dd),this.Dd.addEventListener("mousedown",this.Qd.bind(this)),this.nf(),this.Dd.addEventListener("touchmove",(()=>{}),{passive:!1})}nf(){void 0===this.yd.ef&&void 0===this.yd.rf&&void 0===this.yd.hf||(this.Dd.addEventListener("touchstart",(t=>this.af(t.touches)),{passive:!0}),this.Dd.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.ad&&void 0!==this.yd.rf){const e=mh(t.touches[0],t.touches[1])/this.ld;this.yd.rf(this.ad,e),yh(t)}}),{passive:!1}),this.Dd.addEventListener("touchend",(t=>{this.af(t.touches)})))}af(t){1===t.length&&(this.od=!1),2!==t.length||this.od||this.Zc?this.lf():this._f(t)}_f(t){const e=this.Dd.getBoundingClientRect()||{left:0,top:0};this.ad={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.ld=mh(t[0],t[1]),void 0!==this.yd.ef&&this.yd.ef(),this.Id()}lf(){null!==this.ad&&(this.ad=null,void 0!==this.yd.hf&&this.yd.hf())}sf(t){if(this.ed&&this.ed(),this.gd(t))return;if(!this.pd)return;const e=this.Md(t);this.Pd(e,this.yd.uf),this.pd=!dh()}Gd(t){const e=vh(t.touches,Mo(this.fd));if(null===e)return;const i=this.Md(t,e);this.Sd(i,this.yd.cf),this.Qc=!0,this.Zc=!0}gd(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:bh(t)<this.dd+500}Sd(t,e){e&&e.call(this.yd,t)}Pd(t,e){e&&e.call(this.yd,t)}Md(t,e){const i=e||t,n=this.Dd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,df:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,ff:t.type,pf:i.target,$o:t.view,vf:()=>{"touchstart"!==t.type&&yh(t)}}}}function mh(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function yh(t){t.cancelable&&t.preventDefault()}function gh(t){return{_t:t.pageX,ut:t.pageY}}function bh(t){return t.timeStamp||performance.now()}function vh(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class wh{constructor(t,e,i){this.mf=null,this.wf=null,this.gf=!0,this.Mf=null,this.bf=t,this.xf=t.Sf()[e],this.Cf=t.Sf()[i],this.yf=document.createElement("tr"),this.yf.style.height="1px",this.kf=document.createElement("td"),this.kf.style.position="relative",this.kf.style.padding="0",this.kf.style.margin="0",this.kf.setAttribute("colspan","3"),this.Pf(),this.yf.appendChild(this.kf),this.gf=this.bf.N().layout.panes.enableResize,this.gf?this.Tf():(this.mf=null,this.wf=null)}m(){null!==this.wf&&this.wf.m()}Rf(){return this.yf}Df(){return ao({width:this.xf.Df().width,height:1})}Vf(){return ao({width:this.xf.Vf().width,height:1*window.devicePixelRatio})}If(t,e,i){const n=this.Vf();t.fillStyle=this.bf.N().layout.panes.separatorColor,t.fillRect(e,i,n.width,n.height)}kt(){this.Pf(),this.bf.N().layout.panes.enableResize!==this.gf&&(this.gf=this.bf.N().layout.panes.enableResize,this.gf?this.Tf():(null!==this.mf&&(this.kf.removeChild(this.mf.Af),this.kf.removeChild(this.mf.Bf),this.mf=null),null!==this.wf&&(this.wf.m(),this.wf=null)))}Tf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.kf.appendChild(t);const i=document.createElement("div"),n=i.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.kf.appendChild(i);const r={Ed:this.Ef.bind(this),uf:this.zf.bind(this),tf:this.Lf.bind(this),Jd:this.Lf.bind(this),$d:this.Of.bind(this),Hd:this.Of.bind(this),Zd:this.Nf.bind(this),Yd:this.Nf.bind(this)};this.wf=new ph(i,r,{Wd:()=>!1,Fd:()=>!0}),this.mf={Bf:i,Af:t}}Pf(){this.kf.style.background=this.bf.N().layout.panes.separatorColor}Ef(t){null!==this.mf&&(this.mf.Bf.style.backgroundColor=this.bf.N().layout.panes.separatorHoverColor)}zf(t){null!==this.mf&&null===this.Mf&&(this.mf.Bf.style.backgroundColor="")}Lf(t){if(null===this.mf)return;const e=this.xf.Wf().fo()+this.Cf.Wf().fo(),i=e/(this.xf.Df().height+this.Cf.Df().height),n=30*i;e<=2*n||(this.Mf={Ff:t.pageY,Hf:this.xf.Wf().fo(),Uf:e-n,$f:e,qf:i,Yf:n},this.mf.Af.style.display="block")}Of(t){const e=this.Mf;if(null===e)return;const i=(t.pageY-e.Ff)*e.qf,n=va(e.Hf+i,e.Yf,e.Uf);this.xf.Wf().po(n),this.Cf.Wf().po(e.$f-n),this.bf.Qt().Ah()}Nf(t){null!==this.Mf&&null!==this.mf&&(this.Mf=null,this.mf.Af.style.display="none")}}function _h(t,e){return t.jf-e.jf}function Sh(t,e,i){const n=(t.jf-e.jf)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class xh{constructor(t,e,i,n){this.Zf=null,this.Kf=null,this.Xf=null,this.Gf=null,this.Jf=null,this.Qf=0,this.tp=0,this.ip=t,this.sp=e,this.np=i,this.Mn=n}ep(t,e){if(null!==this.Zf){if(this.Zf.wt===e)return void(this.Zf.jf=t);if(Math.abs(this.Zf.jf-t)<this.Mn)return}this.Gf=this.Xf,this.Xf=this.Kf,this.Kf=this.Zf,this.Zf={wt:e,jf:t}}le(t,e){if(null===this.Zf||null===this.Kf)return;if(e-this.Zf.wt>50)return;let i=0;const n=Sh(this.Zf,this.Kf,this.sp),r=_h(this.Zf,this.Kf),s=[n],o=[r];if(i+=r,null!==this.Xf){const t=Sh(this.Kf,this.Xf,this.sp);if(Math.sign(t)===Math.sign(n)){const e=_h(this.Kf,this.Xf);if(s.push(t),o.push(e),i+=e,null!==this.Gf){const t=Sh(this.Xf,this.Gf,this.sp);if(Math.sign(t)===Math.sign(n)){const e=_h(this.Xf,this.Gf);s.push(t),o.push(e),i+=e}}}}let l=0;for(let a=0;a<s.length;++a)l+=o[a]/i*s[a];Math.abs(l)<this.ip||(this.Jf={jf:t,wt:e},this.tp=l,this.Qf=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this.np))}cu(t){const e=Mo(this.Jf),i=t-e.wt;return e.jf+this.tp*(Math.pow(this.np,i)-1)/Math.log(this.np)}uu(t){return null===this.Jf||this.rp(t)===this.Qf}rp(t){const e=t-Mo(this.Jf).wt;return Math.min(e,this.Qf)}}class Mh{constructor(t,e){this.hp=void 0,this.ap=void 0,this.lp=void 0,this.ps=!1,this.op=t,this._p=e,this.up()}kt(){this.up()}cp(){this.hp&&this.op.removeChild(this.hp),this.ap&&this.op.removeChild(this.ap),this.hp=void 0,this.ap=void 0}dp(){return this.ps!==this.fp()||this.lp!==this.pp()}pp(){return this._p.Qt().Ki().J(this._p.N().layout.textColor)>160?"dark":"light"}fp(){return this._p.N().layout.attributionLogo}vp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}up(){this.dp()&&(this.cp(),this.ps=this.fp(),this.ps&&(this.lp=this.pp(),this.ap=document.createElement("style"),this.ap.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.hp=document.createElement("a"),this.hp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.vp()}`,this.hp.title="Charting by TradingView",this.hp.id="tv-attr-logo",this.hp.target="_blank",this.hp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.hp.toggleAttribute("data-dark","dark"===this.lp),this.op.appendChild(this.ap),this.op.appendChild(this.hp)))}}function Th(t,e){const i=Mo(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new co(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function Ch(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function Ih(t,e,i,n){t.ih&&t.ih(e,i,n)}function kh(t,e,i,n){t.nt(e,i,n)}function Eh(t,e,i,n){const r=t(i,n);for(const s of r){const t=s.Tt(n);null!==t&&e(t)}}function Bh(t,e){return i=>function(t){return void 0!==t.Wt}(i)?(i.Wt()?.wa()??"")!==e?[]:i.ta?.(t)??[]:[]}function Nh(t,e,i,n){if(!t.length)return;let r=0;const s=t[0].$t(n,!0);let o=1===e?i/2-(t[0].Wi()-s/2):t[0].Wi()-s/2-i/2;o=Math.max(0,o);for(let l=1;l<t.length;l++){const s=t[l],a=t[l-1],h=a.$t(n,!1),u=s.Wi(),c=a.Wi();if(1===e?u>c-h:u<c+h){const n=c-h*e;s.Fi(n);const l=n-e*h/2;if((1===e?l<0:l>i)&&o>0){const n=1===e?-1-l:l-i,s=Math.min(n,o);for(let i=r;i<t.length;i++)t[i].Fi(t[i].Wi()+e*s);o-=s}}else r=l,o=1===e?c-h-u:u-(c+h)}}class Dh{constructor(t,e,i,n){this.Yi=null,this.mp=null,this.wp=!1,this.gp=new yl(200),this.Mp=null,this.bp=0,this.xp=!1,this.Sp=()=>{this.xp||this.yt.Cp().Qt().ar()},this.yp=()=>{this.xp||this.yt.Cp().Qt().ar()},this.yt=t,this.ys=e,this._l=e.layout,this.Bu=i,this.kp="left"===n,this.Pp=Bh("normal",n),this.Tp=Bh("top",n),this.Rp=Bh("bottom",n),this.kf=document.createElement("div"),this.kf.style.height="100%",this.kf.style.overflow="hidden",this.kf.style.width="25px",this.kf.style.left="0",this.kf.style.position="relative",this.Dp=Th(this.kf,ao({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const r=this.Dp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Vp=Th(this.kf,ao({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const s=this.Vp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={tf:this.Lf.bind(this),Jd:this.Lf.bind(this),$d:this.Of.bind(this),Hd:this.Of.bind(this),if:this.Ip.bind(this),Zd:this.Nf.bind(this),Yd:this.Nf.bind(this),Td:this.Ap.bind(this),Cd:this.Ap.bind(this),Ed:this.Bp.bind(this),uf:this.zf.bind(this)};this.wf=new ph(this.Vp.canvasElement,o,{Wd:()=>!this.ys.handleScroll.vertTouchDrag,Fd:()=>!0})}m(){this.wf.m(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),Ch(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),Ch(this.Dp.canvasElement),this.Dp.dispose(),null!==this.Yi&&this.Yi.Hl().u(this),this.Yi=null}Rf(){return this.kf}k(){return this._l.fontSize}Ep(){const t=this.Bu.N();return this.Mp!==t.P&&(this.gp.In(),this.Mp=t.P),t}zp(){if(null===this.Yi)return 0;let t=0;const e=this.Ep(),i=Mo(this.Dp.canvasElement.getContext("2d",{colorSpace:this.yt.Cp().N().layout.colorSpace}));i.save();const n=this.Yi.Va();i.font=this.Lp(),n.length>0&&(t=Math.max(this.gp.Vi(i,n[0].$a),this.gp.Vi(i,n[n.length-1].$a)));const r=this.Op();for(let a=r.length;a--;){const e=this.gp.Vi(i,r[a].ri());e>t&&(t=e)}const s=this.Yi.zt();if(null!==s&&null!==this.mp&&2!==(o=this.ys.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Yi.Ts(1,s),n=this.Yi.Ts(this.mp.height-2,s);t=Math.max(t,this.gp.Vi(i,this.Yi.Xi(Math.floor(Math.min(e,n))+.11111111111111,s)),this.gp.Vi(i,this.Yi.Xi(Math.ceil(Math.max(e,n))-.11111111111111,s)))}var o;i.restore();const l=t||34;return fh(Math.ceil(e.S+e.C+e.I+e.A+5+l))}Np(t){null!==this.mp&&ho(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.kf.style.width=`${t.width}px`,this.kf.style.height=`${t.height}px`)}Wp(){return Mo(this.mp).width}_s(t){this.Yi!==t&&(null!==this.Yi&&this.Yi.Hl().u(this),this.Yi=t,t.Hl().i(this.il.bind(this),this))}Wt(){return this.Yi}In(){const t=this.yt.Wf();this.yt.Cp().Qt().Ao(t,Mo(this.Wt()))}Fp(t){if(null===this.mp)return;const e={colorSpace:this.yt.Cp().N().layout.colorSpace};if(1!==t){this.Hp(),this.Dp.applySuggestedBitmapSize();const t=mo(this.Dp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t)})),this.yt.qp(t,this.Rp),this.Yp(t),this.yt.qp(t,this.Pp),this.jp(t))}this.Vp.applySuggestedBitmapSize();const i=mo(this.Vp,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this.Zp(i),this.yt.qp(i,this.Tp))}Vf(){return this.Dp.bitmapSize}If(t,e,i){const n=this.Vf();n.width>0&&n.height>0&&t.drawImage(this.Dp.canvasElement,e,i)}kt(){this.Yi?.Va()}Lf(t){if(null===this.Yi||this.Yi.Zi()||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),i=this.yt.Wf();this.wp=!0,e.ko(i,this.Yi,t.localY)}Of(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),i=this.yt.Wf(),n=this.Yi;e.Po(i,n,t.localY)}Ip(){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Cp().Qt(),e=this.yt.Wf(),i=this.Yi;this.wp&&(this.wp=!1,t.To(e,i))}Nf(t){if(null===this.Yi||!this.ys.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Cp().Qt(),i=this.yt.Wf();this.wp=!1,e.To(i,this.Yi)}Ap(t){this.ys.handleScale.axisDoubleClickReset.price&&this.In()}Bp(t){null!==this.Yi&&(!this.yt.Cp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.gl()||this.Kp(1))}zf(t){this.Kp(0)}Op(){const t=[],e=null===this.Yi?void 0:this.Yi;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Fs(this.yt.Wf(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.yt.Wf().Dt()),t}Up(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.yt.Wf().Qt(),o=s.$(),l=s.xc();o===l?Go(e,0,0,n,r,o):qo(e,0,0,n,r,o,l)}$p(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this.mp||null===this.Yi||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.Ep().S*n));let s;s=this.kp?i.width-r:0,e.fillRect(s,0,r,i.height)}Yp(t){if(null===this.mp||null===this.Yi)return;const e=this.Yi.Va(),i=this.Yi.N(),n=this.Ep(),r=this.kp?this.mp.width-n.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((t=>{let{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=t;s.fillStyle=i.borderColor;const a=Math.max(1,Math.floor(l)),h=Math.floor(.5*l),u=Math.round(n.C*o);s.beginPath();for(const i of e)s.rect(Math.floor(r*o),Math.round(i.ka*l)-h,u,a);s.fill()})),t.useMediaCoordinateSpace((t=>{let{context:s}=t;s.font=this.Lp(),s.fillStyle=i.textColor??this._l.textColor,s.textAlign=this.kp?"right":"left",s.textBaseline="middle";const o=this.kp?Math.round(r-n.I):Math.round(r+n.C+n.I),l=e.map((t=>this.gp.Di(s,t.$a)));for(let i=e.length;i--;){const t=e[i];s.fillText(t.$a,o,t.ka+l[i])}}))}Hp(){if(null===this.mp||null===this.Yi)return;let t=this.mp.height/2;const e=[],i=this.Yi.Dt().slice(),n=this.yt.Wf(),r=this.Ep();this.Yi===n.$n()&&this.yt.Wf().Dt().forEach((t=>{n.Un(t)&&i.push(t)}));const s=this.Yi.ba()[0],o=this.Yi;i.forEach((i=>{const r=i.Fs(n,o);r.forEach((t=>{t.Fi(null),t.Hi()&&e.push(t)})),s===i&&r.length>0&&(t=r[0].Ai())})),e.forEach((t=>t.Fi(t.Ai()))),this.Yi.N().alignLabels&&this.Xp(e,r,t)}Xp(t,e,i){if(null===this.mp)return;const n=t.filter((t=>t.Ai()<=i)),r=t.filter((t=>t.Ai()>i));n.sort(((t,e)=>e.Ai()-t.Ai())),n.length&&r.length&&r.push(n[0]),r.sort(((t,e)=>t.Ai()-e.Ai()));for(const s of t){const t=Math.floor(s.$t(e)/2),i=s.Ai();i>-t&&i<t&&s.Fi(t),i>this.mp.height-t&&i<this.mp.height+t&&s.Fi(this.mp.height-t)}Nh(n,1,this.mp.height,e),Nh(r,-1,this.mp.height,e)}jp(t){if(null===this.mp)return;const e=this.Op(),i=this.Ep(),n=this.kp?"right":"left";e.forEach((e=>{e.Ui()&&e.Tt(Mo(this.Yi)).nt(t,i,this.gp,n)}))}Zp(t){if(null===this.mp||null===this.Yi)return;const e=this.yt.Cp().Qt(),i=[],n=this.yt.Wf(),r=e.Yu().Fs(n,this.Yi);r.length&&i.push(r);const s=this.Ep(),o=this.kp?"right":"left";i.forEach((e=>{e.forEach((e=>{e.Tt(Mo(this.Yi)).nt(t,s,this.gp,o)}))}))}Kp(t){this.kf.style.cursor=1===t?"ns-resize":"default"}il(){const t=this.zp();this.bp<t&&this.yt.Cp().Qt().Ah(),this.bp=t}Lp(){return Fo(this._l.fontSize,this._l.fontFamily)}}function Oh(t,e){return t.Jh?.(e)??[]}function Ph(t,e){return t.Ws?.(e)??[]}function Ah(t,e){return t.us?.(e)??[]}function Fh(t,e){return t.Kh?.(e)??[]}class Rh{constructor(t,e){this.mp=ao({width:0,height:0}),this.Gp=null,this.Jp=null,this.Qp=null,this.tv=null,this.iv=!1,this.sv=new Co,this.nv=new Co,this.ev=0,this.rv=!1,this.hv=null,this.av=!1,this.lv=null,this.ov=null,this.xp=!1,this.Sp=()=>{this.xp||null===this._v||this.ts().ar()},this.yp=()=>{this.xp||null===this._v||this.ts().ar()},this._p=t,this._v=e,this._v.zo().i(this.uv.bind(this),this,!0),this.cv=document.createElement("td"),this.cv.style.padding="0",this.cv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.dv=document.createElement("td"),this.dv.style.padding="0",this.fv=document.createElement("td"),this.fv.style.padding="0",this.cv.appendChild(i),this.Dp=Th(i,ao({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const n=this.Dp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Vp=Th(i,ao({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const r=this.Vp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.yf=document.createElement("tr"),this.yf.appendChild(this.dv),this.yf.appendChild(this.cv),this.yf.appendChild(this.fv),this.pv(),this.wf=new ph(this.Vp.canvasElement,this,{Wd:()=>null===this.hv&&!this._p.N().handleScroll.vertTouchDrag,Fd:()=>null===this.hv&&!this._p.N().handleScroll.horzTouchDrag})}m(){null!==this.Gp&&this.Gp.m(),null!==this.Jp&&this.Jp.m(),this.Qp=null,this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),Ch(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),Ch(this.Dp.canvasElement),this.Dp.dispose(),null!==this._v&&(this._v.zo().u(this),this._v.m()),this.wf.m()}Wf(){return Mo(this._v)}vv(t){null!==this._v&&this._v.zo().u(this),this._v=t,null!==this._v&&this._v.zo().i(Rh.prototype.uv.bind(this),this,!0),this.pv(),this._p.Sf().indexOf(this)===this._p.Sf().length-1?(this.Qp=this.Qp??new Mh(this.cv,this._p),this.Qp.kt()):(this.Qp?.cp(),this.Qp=null)}Cp(){return this._p}Rf(){return this.yf}pv(){if(null!==this._v&&(this.mv(),0!==this.ts().js().length)){if(null!==this.Gp){const t=this._v.Co();this.Gp._s(Mo(t))}if(null!==this.Jp){const t=this._v.yo();this.Jp._s(Mo(t))}}}wv(){null!==this.Gp&&this.Gp.kt(),null!==this.Jp&&this.Jp.kt()}fo(){return null!==this._v?this._v.fo():0}po(t){this._v&&this._v.po(t)}Ed(t){if(!this._v)return;this.gv();const e=t.localX,i=t.localY;this.Mv(e,i,t)}tf(t){this.gv(),this.bv(),this.Mv(t.localX,t.localY,t)}zd(t){if(!this._v)return;this.gv();const e=t.localX,i=t.localY;this.Mv(e,i,t)}Kd(t){null!==this._v&&(this.gv(),this.xv(t))}Td(t){null!==this._v&&this.Sv(this.nv,t)}Cd(t){this.Td(t)}$d(t){this.gv(),this.Cv(t),this.Mv(t.localX,t.localY,t)}Zd(t){null!==this._v&&(this.gv(),this.rv=!1,this.yv(t))}jd(t){null!==this._v&&this.xv(t)}cf(t){if(this.rv=!0,null===this.hv){const e={x:t.localX,y:t.localY};this.kv(e,e,t)}}uf(t){null!==this._v&&(this.gv(),this._v.Qt().Uu(null),this.Pv())}Tv(){return this.sv}Rv(){return this.nv}ef(){this.ev=1,this.ts().hn()}rf(t,e){if(!this._p.N().handleScale.pinch)return;const i=5*(e-this.ev);this.ev=e,this.ts().tc(t._t,i)}Jd(t){this.rv=!1,this.av=null!==this.hv,this.bv();const e=this.ts().Yu();null!==this.hv&&e.Vt()&&(this.lv={x:e.si(),y:e.ni()},this.hv={x:t.localX,y:t.localY})}Hd(t){if(null===this._v)return;const e=t.localX,i=t.localY;if(null===this.hv)this.Cv(t);else{this.av=!1;const n=Mo(this.lv),r=n.x+(e-this.hv.x),s=n.y+(i-this.hv.y);this.Mv(r,s,t)}}Yd(t){0===this.Cp().N().trackingMode.exitMode&&(this.av=!0),this.Dv(),this.yv(t)}jn(t,e){const i=this._v;return null===i?null:Pa(i,t,e)}Vv(t,e){Mo("left"===e?this.Gp:this.Jp).Np(ao({width:t,height:this.mp.height}))}Df(){return this.mp}Np(t){ho(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.cv.style.width=t.width+"px",this.cv.style.height=t.height+"px")}Iv(){const t=Mo(this._v);t.So(t.Co()),t.So(t.yo());for(const e of t.ba())if(t.Un(e)){const i=e.Wt();null!==i&&t.So(i),e.Ns()}for(const e of t.Oo())e.Ns()}Vf(){return this.Dp.bitmapSize}If(t,e,i){const n=this.Vf();n.width>0&&n.height>0&&t.drawImage(this.Dp.canvasElement,e,i)}Fp(t){if(0===t)return;if(null===this._v)return;t>1&&this.Iv(),null!==this.Gp&&this.Gp.Fp(t),null!==this.Jp&&this.Jp.Fp(t);const e={colorSpace:this._p.N().layout.colorSpace};if(1!==t){this.Dp.applySuggestedBitmapSize();const t=mo(this.Dp,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.Up(t)})),this._v&&(this.Av(t,Oh),this.Bv(t),this.Av(t,Ph),this.Av(t,Ah)))}this.Vp.applySuggestedBitmapSize();const i=mo(this.Vp,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this.Ev(i),this.Av(i,Fh),this.Av(i,Ah))}zv(){return this.Gp}Lv(){return this.Jp}qp(t,e){this.Av(t,e)}uv(){null!==this._v&&this._v.zo().u(this),this._v=null}xv(t){this.Sv(this.sv,t)}Sv(t,e){const i=e.localX,n=e.localY;t.v()&&t.p(this.ts().Bt().Z_(i),{x:i,y:n},e)}Up(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.ts(),o=s.$(),l=s.xc();o===l?Go(e,0,0,n,r,l):qo(e,0,0,n,r,o,l)}Bv(t){const e=Mo(this._v),i=e.Lo().lr().Tt(e);null!==i&&i.nt(t,!1)}Ev(t){this.Ov(t,Ph,kh,this.ts().Yu())}Av(t,e){const i=Mo(this._v),n=i.Dt(),r=i.Oo();for(const s of r)this.Ov(t,e,Ih,s);for(const s of n)this.Ov(t,e,Ih,s);for(const s of r)this.Ov(t,e,kh,s);for(const s of n)this.Ov(t,e,kh,s)}Ov(t,e,i,n){const r=Mo(this._v),s=r.Qt().Hu(),o=null!==s&&s.Wo===n,l=null!==s&&o&&void 0!==s.Fo?s.Fo.Kn:void 0;Eh(e,(e=>i(e,t,o,l)),n,r)}mv(){if(null===this._v)return;const t=this._p,e=this._v.Co().N().visible,i=this._v.yo().N().visible;e||null===this.Gp||(this.dv.removeChild(this.Gp.Rf()),this.Gp.m(),this.Gp=null),i||null===this.Jp||(this.fv.removeChild(this.Jp.Rf()),this.Jp.m(),this.Jp=null);const n=t.Qt().cc();e&&null===this.Gp&&(this.Gp=new Dh(this,t.N(),n,"left"),this.dv.appendChild(this.Gp.Rf())),i&&null===this.Jp&&(this.Jp=new Dh(this,t.N(),n,"right"),this.fv.appendChild(this.Jp.Rf()))}Nv(t){return t.df&&this.rv||null!==this.hv}Wv(t){return Math.max(0,Math.min(t,this.mp.width-1))}Fv(t){return Math.max(0,Math.min(t,this.mp.height-1))}Mv(t,e,i){this.ts().lc(this.Wv(t),this.Fv(e),i,Mo(this._v))}Pv(){this.ts()._c()}Dv(){this.av&&(this.hv=null,this.Pv())}kv(t,e,i){this.hv=t,this.av=!1,this.Mv(e.x,e.y,i);const n=this.ts().Yu();this.lv={x:n.si(),y:n.ni()}}ts(){return this._p.Qt()}yv(t){if(!this.iv)return;const e=this.ts(),i=this.Wf();if(e.Vo(i,i.Ps()),this.tv=null,this.iv=!1,e.rc(),null!==this.ov){const t=performance.now(),i=e.Bt();this.ov.le(i.iu(),t),this.ov.uu(t)||e._n(this.ov)}}gv(){this.hv=null}bv(){if(this._v){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Mo(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this._v.Ps().Zi()&&this.ts().Bt().Zi()}}Cv(t){if(null===this._v)return;const e=this.ts(),i=e.Bt();if(i.Zi())return;const n=this._p.N(),r=n.handleScroll,s=n.kineticScroll;if((!r.pressedMouseMove||t.df)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.df))return;const o=this._v.Ps(),l=performance.now();if(null!==this.tv||this.Nv(t)||(this.tv={x:t.clientX,y:t.clientY,Lc:l,Hv:t.localX,Uv:t.localY}),null!==this.tv&&!this.iv&&(this.tv.x!==t.clientX||this.tv.y!==t.clientY)){if(t.df&&s.touch||!t.df&&s.mouse){const t=i.Q_();this.ov=new xh(.2/t,7/t,.997,15/t),this.ov.ep(i.iu(),this.tv.Lc)}else this.ov=null;o.Zi()||e.Ro(this._v,o,t.localY),e.nc(t.localX),this.iv=!0}this.iv&&(o.Zi()||e.Do(this._v,o,t.localY),e.ec(t.localX),null!==this.ov&&this.ov.ep(i.iu(),l))}}class zh{constructor(t,e,i,n,r){this.St=!0,this.mp=ao({width:0,height:0}),this.Sp=()=>this.Fp(3),this.kp="left"===t,this.Bu=i.cc,this.ys=e,this.$v=n,this.qv=r,this.kf=document.createElement("div"),this.kf.style.width="25px",this.kf.style.height="100%",this.kf.style.overflow="hidden",this.Dp=Th(this.kf,ao({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp)}m(){this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),Ch(this.Dp.canvasElement),this.Dp.dispose()}Rf(){return this.kf}Df(){return this.mp}Np(t){ho(this.mp,t)||(this.mp=t,this.Dp.resizeCanvasElement(t),this.kf.style.width=`${t.width}px`,this.kf.style.height=`${t.height}px`,this.St=!0)}Fp(t){if(t<3&&!this.St)return;if(0===this.mp.width||0===this.mp.height)return;this.St=!1,this.Dp.applySuggestedBitmapSize();const e=mo(this.Dp,{colorSpace:this.ys.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t)}))}Vf(){return this.Dp.bitmapSize}If(t,e,i){const n=this.Vf();n.width>0&&n.height>0&&t.drawImage(this.Dp.canvasElement,e,i)}$p(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this.$v())return;e.fillStyle=this.ys.timeScale.borderColor;const s=Math.floor(this.Bu.N().S*n),o=Math.floor(this.Bu.N().S*r),l=this.kp?i.width-s:0;e.fillRect(l,0,s,o)}Up(t){let{context:e,bitmapSize:i}=t;Go(e,0,0,i.width,i.height,this.qv())}}function Lh(t){return e=>e.ia?.(t)??[]}const Vh=Lh("normal"),Uh=Lh("top"),Yh=Lh("bottom");class Wh{constructor(t,e){this.Yv=null,this.jv=null,this.M=null,this.Zv=!1,this.mp=ao({width:0,height:0}),this.Kv=new Co,this.gp=new yl(5),this.xp=!1,this.Sp=()=>{this.xp||this._p.Qt().ar()},this.yp=()=>{this.xp||this._p.Qt().ar()},this._p=t,this.Yo=e,this.ys=t.N().layout,this.hp=document.createElement("tr"),this.Xv=document.createElement("td"),this.Xv.style.padding="0",this.Gv=document.createElement("td"),this.Gv.style.padding="0",this.kf=document.createElement("td"),this.kf.style.height="25px",this.kf.style.padding="0",this.Jv=document.createElement("div"),this.Jv.style.width="100%",this.Jv.style.height="100%",this.Jv.style.position="relative",this.Jv.style.overflow="hidden",this.kf.appendChild(this.Jv),this.Dp=Th(this.Jv,ao({width:16,height:16})),this.Dp.subscribeSuggestedBitmapSizeChanged(this.Sp);const i=this.Dp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Vp=Th(this.Jv,ao({width:16,height:16})),this.Vp.subscribeSuggestedBitmapSizeChanged(this.yp);const n=this.Vp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.hp.appendChild(this.Xv),this.hp.appendChild(this.kf),this.hp.appendChild(this.Gv),this.Qv(),this._p.Qt().do().i(this.Qv.bind(this),this),this.wf=new ph(this.Vp.canvasElement,this,{Wd:()=>!0,Fd:()=>!this._p.N().handleScroll.horzTouchDrag})}m(){this.wf.m(),null!==this.Yv&&this.Yv.m(),null!==this.jv&&this.jv.m(),this.Vp.unsubscribeSuggestedBitmapSizeChanged(this.yp),Ch(this.Vp.canvasElement),this.Vp.dispose(),this.Dp.unsubscribeSuggestedBitmapSizeChanged(this.Sp),Ch(this.Dp.canvasElement),this.Dp.dispose()}Rf(){return this.hp}tm(){return this.Yv}im(){return this.jv}tf(t){if(this.Zv)return;this.Zv=!0;const e=this._p.Qt();!e.Bt().Zi()&&this._p.N().handleScale.axisPressedMouseMove.time&&e.Qu(t.localX)}Jd(t){this.tf(t)}if(){const t=this._p.Qt();!t.Bt().Zi()&&this.Zv&&(this.Zv=!1,this._p.N().handleScale.axisPressedMouseMove.time&&t.ac())}$d(t){const e=this._p.Qt();!e.Bt().Zi()&&this._p.N().handleScale.axisPressedMouseMove.time&&e.hc(t.localX)}Hd(t){this.$d(t)}Zd(){this.Zv=!1;const t=this._p.Qt();t.Bt().Zi()&&!this._p.N().handleScale.axisPressedMouseMove.time||t.ac()}Yd(){this.Zd()}Td(){this._p.N().handleScale.axisDoubleClickReset.time&&this._p.Qt().cn()}Cd(){this.Td()}Ed(){this._p.Qt().N().handleScale.axisPressedMouseMove.time&&this.Kp(1)}uf(){this.Kp(0)}Df(){return this.mp}sm(){return this.Kv}nm(t,e,i){ho(this.mp,t)||(this.mp=t,this.xp=!0,this.Dp.resizeCanvasElement(t),this.Vp.resizeCanvasElement(t),this.xp=!1,this.kf.style.width=`${t.width}px`,this.kf.style.height=`${t.height}px`,this.Kv.p(t)),null!==this.Yv&&this.Yv.Np(ao({width:e,height:t.height})),null!==this.jv&&this.jv.Np(ao({width:i,height:t.height}))}rm(){const t=this.hm();return Math.ceil(t.S+t.C+t.k+t.B+t.V+t.am)}kt(){this._p.Qt().Bt().Va()}Vf(){return this.Dp.bitmapSize}If(t,e,i){const n=this.Vf();n.width>0&&n.height>0&&t.drawImage(this.Dp.canvasElement,e,i)}Fp(t){if(0===t)return;const e={colorSpace:this.ys.colorSpace};if(1!==t){this.Dp.applySuggestedBitmapSize();const i=mo(this.Dp,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{this.Up(t),this.$p(t),this.lm(i,Yh)})),this.Yp(i),this.lm(i,Vh)),null!==this.Yv&&this.Yv.Fp(t),null!==this.jv&&this.jv.Fp(t)}this.Vp.applySuggestedBitmapSize();const i=mo(this.Vp,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this.om([...this._p.Qt().js(),this._p.Qt().Yu()],i),this.lm(i,Uh))}lm(t,e){const i=this._p.Qt().js();for(const n of i)Eh(e,(e=>Ih(e,t,!1,void 0)),n,void 0);for(const n of i)Eh(e,(e=>kh(e,t,!1,void 0)),n,void 0)}Up(t){let{context:e,bitmapSize:i}=t;Go(e,0,0,i.width,i.height,this._p.Qt().xc())}$p(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this._p.N().timeScale.borderVisible){e.fillStyle=this._m();const t=Math.max(1,Math.floor(this.hm().S*n));e.fillRect(0,0,i.width,t)}}Yp(t){const e=this._p.Qt().Bt(),i=e.Va();if(!i||0===i.length)return;const n=this.Yo.maxTickMarkWeight(i),r=this.hm(),s=e.N();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:s}=t;e.strokeStyle=this._m(),e.fillStyle=this._m();const o=Math.max(1,Math.floor(n)),l=Math.floor(.5*n);e.beginPath();const a=Math.round(r.C*s);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-l,0,o,a)}e.fill()})),t.useMediaCoordinateSpace((t=>{let{context:e}=t;const s=r.S+r.C+r.B+r.k/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this.Lp();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this.um(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}this._p.N().timeScale.allowBoldLabels&&(e.font=this.dm());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this.um(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}}))}um(t,e,i){const n=this.gp.Vi(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.mp.width&&(e-=Math.abs(this.mp.width-(s+n))),e}om(t,e){const i=this.hm();for(const n of t)for(const t of n.cs())t.Tt().nt(e,i)}_m(){return this._p.N().timeScale.borderColor}H(){return this.ys.textColor}W(){return this.ys.fontSize}Lp(){return Fo(this.W(),this.ys.fontFamily)}dm(){return Fo(this.W(),this.ys.fontFamily,"bold")}hm(){null===this.M&&(this.M={S:1,L:NaN,B:NaN,V:NaN,Ji:NaN,C:5,k:NaN,P:"",Gi:new yl,am:0});const t=this.M,e=this.Lp();if(t.P!==e){const i=this.W();t.k=i,t.P=e,t.B=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.am=4*i/12,t.Gi.In()}return this.M}Kp(t){this.kf.style.cursor=1===t?"ew-resize":"default"}Qv(){const t=this._p.Qt(),e=t.N();e.leftPriceScale.visible||null===this.Yv||(this.Xv.removeChild(this.Yv.Rf()),this.Yv.m(),this.Yv=null),e.rightPriceScale.visible||null===this.jv||(this.Gv.removeChild(this.jv.Rf()),this.jv.m(),this.jv=null);const i={cc:this._p.Qt().cc()},n=()=>e.leftPriceScale.borderVisible&&t.Bt().N().borderVisible,r=()=>t.xc();e.leftPriceScale.visible&&null===this.Yv&&(this.Yv=new zh("left",e,i,n,r),this.Xv.appendChild(this.Yv.Rf())),e.rightPriceScale.visible&&null===this.jv&&(this.jv=new zh("right",e,i,n,r),this.Gv.appendChild(this.jv.Rf()))}}const jh=!!uh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!uh&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class $h{constructor(t,e,i){var n;this.fm=[],this.pm=[],this.vm=0,this.ja=0,this.no=0,this.wm=0,this.gm=0,this.Mm=null,this.bm=!1,this.sv=new Co,this.nv=new Co,this.Vu=new Co,this.xm=null,this.Sm=null,this.op=t,this.ys=e,this.Yo=i,this.hp=document.createElement("div"),this.hp.classList.add("tv-lightweight-charts"),this.hp.style.overflow="hidden",this.hp.style.direction="ltr",this.hp.style.width="100%",this.hp.style.height="100%",(n=this.hp).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Cm=document.createElement("table"),this.Cm.setAttribute("cellspacing","0"),this.hp.appendChild(this.Cm),this.ym=this.km.bind(this),Qh(this.ys)&&this.Pm(!0),this.ts=new Ha(this.Au.bind(this),this.ys,i),this.Qt().ju().i(this.Tm.bind(this),this),this.Rm=new Wh(this,this.Yo),this.Cm.appendChild(this.Rm.Rf());const r=e.autoSize&&this.Dm();let s=this.ys.width,o=this.ys.height;if(r||0===s||0===o){const e=t.getBoundingClientRect();s=s||e.width,o=o||e.height}this.Vm(s,o),this.Im(),t.appendChild(this.hp),this.Am(),this.ts.Bt().pu().i(this.ts.Ah.bind(this.ts),this),this.ts.do().i(this.ts.Ah.bind(this.ts),this)}Qt(){return this.ts}N(){return this.ys}Sf(){return this.fm}Bm(){return this.Rm}m(){this.Pm(!1),0!==this.vm&&window.cancelAnimationFrame(this.vm),this.ts.ju().u(this),this.ts.Bt().pu().u(this),this.ts.do().u(this),this.ts.m();for(const t of this.fm)this.Cm.removeChild(t.Rf()),t.Tv().u(this),t.Rv().u(this),t.m();this.fm=[];for(const t of this.pm)this.Em(t);this.pm=[],Mo(this.Rm).m(),null!==this.hp.parentElement&&this.hp.parentElement.removeChild(this.hp),this.Vu.m(),this.sv.m(),this.nv.m(),this.zm()}Vm(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ja===e&&this.no===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return ao({width:e-e%2,height:i-i%2})}(ao({width:t,height:e}));this.ja=n.height,this.no=n.width;const r=this.ja+"px",s=this.no+"px";Mo(this.hp).style.height=r,Mo(this.hp).style.width=s,this.Cm.style.height=r,this.Cm.style.width=s,i?this.Lm(ul.gn(),performance.now()):this.ts.Ah()}Fp(t){void 0===t&&(t=ul.gn());for(let e=0;e<this.fm.length;e++)this.fm[e].Fp(t.en(e).tn);this.ys.timeScale.visible&&this.Rm.Fp(t.nn())}hr(t){const e=Qh(this.ys);this.ts.hr(t);const i=Qh(this.ys);i!==e&&this.Pm(i),t.layout?.panes&&this.Om(),this.Am(),this.Nm(t)}Tv(){return this.sv}Rv(){return this.nv}ju(){return this.Vu}Wm(){null!==this.Mm&&(this.Lm(this.Mm,performance.now()),this.Mm=null);const t=this.Fm(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=Mo(e.getContext("2d"));return this.Fm(i),e}Hm(t){return("left"!==t||this.Um())&&("right"!==t||this.$m())?0===this.fm.length?0:Mo("left"===t?this.fm[0].zv():this.fm[0].Lv()).Wp():0}qm(){return this.ys.autoSize&&null!==this.xm}Bf(){return this.hp}Ym(t){this.Sm=t,this.Sm?this.Bf().style.setProperty("cursor",t):this.Bf().style.removeProperty("cursor")}jm(){return this.Sm}Zm(t){return xo(this.fm[t]).Df()}Om(){this.pm.forEach((t=>{t.kt()}))}Nm(t){(void 0!==t.autoSize||!this.xm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.xm&&this.Dm(),!1===t.autoSize&&null!==this.xm&&this.zm(),t.autoSize||void 0===t.width&&void 0===t.height||this.Vm(t.width||this.no,t.height||this.ja))}Fm(t){let e=0,i=0;const n=this.fm[0],r=(e,i)=>{let n=0;for(let r=0;r<this.fm.length;r++){const s=this.fm[r],o=Mo("left"===e?s.zv():s.Lv()),l=o.Vf();if(null!==t&&o.If(t,i,n),n+=l.height,r<this.fm.length-1){const e=this.pm[r],s=e.Vf();null!==t&&e.If(t,i,n),n+=s.height}}};this.Um()&&(r("left",0),e+=Mo(n.zv()).Vf().width);for(let o=0;o<this.fm.length;o++){const n=this.fm[o],r=n.Vf();if(null!==t&&n.If(t,e,i),i+=r.height,o<this.fm.length-1){const n=this.pm[o],r=n.Vf();null!==t&&n.If(t,e,i),i+=r.height}}e+=n.Vf().width,this.$m()&&(r("right",e),e+=Mo(n.Lv()).Vf().width);const s=(e,i,n)=>{Mo("left"===e?this.Rm.tm():this.Rm.im()).If(Mo(t),i,n)};if(this.ys.timeScale.visible){const e=this.Rm.Vf();if(null!==t){let r=0;this.Um()&&(s("left",r,i),r=Mo(n.zv()).Vf().width),this.Rm.If(t,r,i),r+=e.width,this.$m()&&s("right",r,i)}i+=e.height}return ao({width:e,height:i})}Km(){let t=0,e=0,i=0;for(const m of this.fm)this.Um()&&(e=Math.max(e,Mo(m.zv()).zp(),this.ys.leftPriceScale.minimumWidth)),this.$m()&&(i=Math.max(i,Mo(m.Lv()).zp(),this.ys.rightPriceScale.minimumWidth)),t+=m.fo();e=fh(e),i=fh(i);const n=this.no,r=this.ja,s=Math.max(n-e-i,0),o=1*this.pm.length,l=this.ys.timeScale.visible;let a=l?Math.max(this.Rm.rm(),this.ys.timeScale.minimumHeight):0;var h;a=(h=a)+h%2;const u=o+a,c=r<u?0:r-u,d=c/t;let f=0;const p=window.devicePixelRatio||1;for(let m=0;m<this.fm.length;++m){const t=this.fm[m];t.vv(this.ts.$s()[m]);let n=0,r=0;r=m===this.fm.length-1?Math.ceil((c-f)*p)/p:Math.round(t.fo()*d*p)/p,n=Math.max(r,2),f+=n,t.Np(ao({width:s,height:n})),this.Um()&&t.Vv(e,"left"),this.$m()&&t.Vv(i,"right"),t.Wf()&&this.ts.Zu(t.Wf(),n)}this.Rm.nm(ao({width:l?s:0,height:a}),l?e:0,l?i:0),this.ts.vo(s),this.wm!==e&&(this.wm=e),this.gm!==i&&(this.gm=i)}Pm(t){t?this.hp.addEventListener("wheel",this.ym,{passive:!1}):this.hp.removeEventListener("wheel",this.ym)}Xm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return jh?1/window.devicePixelRatio:1}km(t){if(!(0!==t.deltaX&&this.ys.handleScroll.mouseWheel||0!==t.deltaY&&this.ys.handleScale.mouseWheel))return;const e=this.Xm(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.ys.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.hp.getBoundingClientRect().left;this.Qt().tc(i,e)}0!==i&&this.ys.handleScroll.mouseWheel&&this.Qt().sc(-80*i)}Lm(t,e){const i=t.nn();3===i&&this.Gm(),3!==i&&2!==i||(this.Jm(t),this.Qm(t,e),this.Rm.kt(),this.fm.forEach((t=>{t.wv()})),3===this.Mm?.nn()&&(this.Mm.vn(t),this.Gm(),this.Jm(this.Mm),this.Qm(this.Mm,e),t=this.Mm,this.Mm=null)),this.Fp(t)}Qm(t,e){for(const i of t.pn())this.mn(i,e)}Jm(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Bo()}mn(t,e){const i=this.ts.Bt();switch(t.an){case 0:i.mu();break;case 1:i.wu(t.Ft);break;case 2:i.dn(t.Ft);break;case 3:i.fn(t.Ft);break;case 4:i.eu();break;case 5:t.Ft.uu(e)||i.fn(t.Ft.cu(e))}}Au(t){null!==this.Mm?this.Mm.vn(t):this.Mm=t,this.bm||(this.bm=!0,this.vm=window.requestAnimationFrame((t=>{if(this.bm=!1,this.vm=0,null!==this.Mm){const e=this.Mm;this.Mm=null,this.Lm(e,t);for(const i of e.pn())if(5===i.an&&!i.Ft.uu(t)){this.Qt()._n(i.Ft);break}}})))}Gm(){this.Im()}Em(t){this.Cm.removeChild(t.Rf()),t.m()}Im(){const t=this.ts.$s(),e=t.length,i=this.fm.length;for(let n=e;n<i;n++){const t=xo(this.fm.pop());this.Cm.removeChild(t.Rf()),t.Tv().u(this),t.Rv().u(this),t.m();const e=this.pm.pop();void 0!==e&&this.Em(e)}for(let n=i;n<e;n++){const e=new Rh(this,t[n]);if(e.Tv().i(this.tw.bind(this,e),this),e.Rv().i(this.iw.bind(this,e),this),this.fm.push(e),n>0){const t=new wh(this,n-1,n);this.pm.push(t),this.Cm.insertBefore(t.Rf(),this.Rm.Rf())}this.Cm.insertBefore(e.Rf(),this.Rm.Rf())}for(let n=0;n<e;n++){const e=t[n],i=this.fm[n];i.Wf()!==e?i.vv(e):i.pv()}this.Am(),this.Km()}sw(t,e,i,n){const r=new Map;let s;if(null!==t&&this.ts.js().forEach((e=>{const i=e.Ks().Wr(t);null!==i&&r.set(e,i)})),null!==t){const e=this.ts.Bt().ss(t)?.originalTime;void 0!==e&&(s=e)}const o=this.Qt().Hu(),l=null!==o&&o.Wo instanceof ra?o.Wo:void 0,a=null!==o&&void 0!==o.Fo?o.Fo.Zn:void 0,h=this.nw(n);return{ew:s,Re:t??void 0,rw:e??void 0,hw:-1!==h?h:void 0,aw:l,lw:r,ow:a,_w:i??void 0}}nw(t){let e=-1;if(t)e=this.fm.indexOf(t);else{const t=this.Qt().Yu().Us();null!==t&&(e=this.Qt().$s().indexOf(t))}return e}tw(t,e,i,n){this.sv.p((()=>this.sw(e,i,n,t)))}iw(t,e,i,n){this.nv.p((()=>this.sw(e,i,n,t)))}Tm(t,e,i){this.Ym(this.Qt().Hu()?.Uo??null),this.Vu.p((()=>this.sw(t,e,i)))}Am(){const t=this.ys.timeScale.visible?"":"none";this.Rm.Rf().style.display=t}Um(){return this.fm[0].Wf().Co().N().visible}$m(){return this.fm[0].Wf().yo().N().visible}Dm(){return"ResizeObserver"in window&&(this.xm=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.Vm(e.contentRect.width,e.contentRect.height)})),this.xm.observe(this.op,{box:"border-box"}),!0)}zm(){null!==this.xm&&this.xm.disconnect(),this.xm=null}}function Qh(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Hh(t){return void 0===t.open&&void 0===t.value}function Jh(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}function Kh(t,e,i,n){const r=i.value,s={Re:e,wt:t,Ft:[r,r,r,r],ew:n};return void 0!==i.color&&(s.R=i.color),s}function Gh(t,e,i,n){const r=i.value,s={Re:e,wt:t,Ft:[r,r,r,r],ew:n};return void 0!==i.lineColor&&(s.vt=i.lineColor),void 0!==i.topColor&&(s.mr=i.topColor),void 0!==i.bottomColor&&(s.wr=i.bottomColor),s}function Zh(t,e,i,n){const r=i.value,s={Re:e,wt:t,Ft:[r,r,r,r],ew:n};return void 0!==i.topLineColor&&(s.gr=i.topLineColor),void 0!==i.bottomLineColor&&(s.Mr=i.bottomLineColor),void 0!==i.topFillColor1&&(s.br=i.topFillColor1),void 0!==i.topFillColor2&&(s.Sr=i.topFillColor2),void 0!==i.bottomFillColor1&&(s.Cr=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(s.yr=i.bottomFillColor2),s}function Xh(t,e,i,n){const r={Re:e,wt:t,Ft:[i.open,i.high,i.low,i.close],ew:n};return void 0!==i.color&&(r.R=i.color),r}function qh(t,e,i,n){const r={Re:e,wt:t,Ft:[i.open,i.high,i.low,i.close],ew:n};return void 0!==i.color&&(r.R=i.color),void 0!==i.borderColor&&(r.Ht=i.borderColor),void 0!==i.wickColor&&(r.vr=i.wickColor),r}function tu(t,e,i,n,r){const s=xo(r)(i),o=Math.max(...s),l=Math.min(...s),a=s[s.length-1],h=[a,o,l,a],{time:u,color:c,...d}=i;return{Re:e,wt:t,Ft:h,ew:n,se:d,R:c}}function eu(t){return void 0!==t.Ft}function iu(t,e){return void 0!==e.customValues&&(t.uw=e.customValues),t}function nu(t){return(e,i,n,r,s,o)=>function(t,e){return e?e(t):Hh(t)}(n,o)?iu({wt:e,Re:i,ew:r},n):iu(t(e,i,n,r,s),n)}function ru(t){return{Candlestick:nu(qh),Bar:nu(Xh),Area:nu(Gh),Baseline:nu(Zh),Histogram:nu(Kh),Line:nu(Kh),Custom:nu(tu)}[t]}function su(t){return{Re:0,cw:new Map,Hh:t}}function ou(t,e){if(void 0!==t&&0!==t.length)return{dw:e.key(t[0].wt),fw:e.key(t[t.length-1].wt)}}function lu(t){let e;return t.forEach((t=>{void 0===e&&(e=t.ew)})),xo(e)}class au{constructor(t){this.pw=new Map,this.mw=new Map,this.ww=new Map,this.gw=[],this.Yo=t}m(){this.pw.clear(),this.mw.clear(),this.ww.clear(),this.gw=[]}Mw(t,e){let i=0!==this.pw.size,n=!1;const r=this.mw.get(t);if(void 0!==r)if(1===this.mw.size)i=!1,n=!0,this.pw.clear();else for(const l of this.gw)l.pointData.cw.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e.map((t=>t.time)),r=this.Yo.createConverterToInternalObj(e),o=ru(t.Rr()),l=t.da(),a=t.pa();s=e.map(((e,s)=>{const h=r(e.time),u=this.Yo.key(h);let c=this.pw.get(u);void 0===c&&(c=su(h),this.pw.set(u,c),n=!0);const d=o(h,c.Re,e,i[s],l,a);return c.cw.set(t,d),d}))}i&&this.bw(),this.xw(t,s);let o=-1;if(n){const t=[];this.pw.forEach((e=>{t.push({timeWeight:0,time:e.Hh,pointData:e,originalTime:lu(e.cw)})})),t.sort(((t,e)=>this.Yo.key(t.time)-this.Yo.key(e.time))),o=this.Sw(t)}return this.Cw(t,o,function(t,e,i){const n=ou(t,i),r=ou(e,i);if(void 0!==n&&void 0!==r)return{yw:!1,zh:n.fw>=r.fw&&n.dw>=r.dw}}(this.mw.get(t),r,this.Yo))}vc(t){return this.Mw(t,[])}kw(t,e,i){const n=e;!function(t){void 0===t.ew&&(t.ew=t.time)}(n),this.Yo.preprocessData(e);const r=this.Yo.createConverterToInternalObj([e])(e.time),s=this.ww.get(t);if(!i&&void 0!==s&&this.Yo.key(r)<this.Yo.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${r}`);let o=this.pw.get(this.Yo.key(r));if(i&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=su(r),this.pw.set(this.Yo.key(r),o));const a=ru(t.Rr()),h=t.da(),u=t.pa(),c=a(r,o.Re,e,n.ew,h,u);o.cw.set(t,c),i?this.Pw(t,c,o.Re):this.Tw(t,c);const d={zh:eu(c),yw:i};if(!l)return this.Cw(t,-1,d);const f={timeWeight:0,time:o.Hh,pointData:o,originalTime:lu(o.cw)},p=Rl(this.gw,this.Yo.key(f.time),((t,e)=>this.Yo.key(t.time)<e));this.gw.splice(p,0,f);for(let m=p;m<this.gw.length;++m)hu(this.gw[m].pointData,m);return this.Yo.fillWeightsForPoints(this.gw,p),this.Cw(t,p,d)}Tw(t,e){let i=this.mw.get(t);void 0===i&&(i=[],this.mw.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.Yo.key(e.wt)>this.Yo.key(n.wt)?eu(e)&&i.push(e):eu(e)?i[i.length-1]=e:i.splice(-1,1),this.ww.set(t,e.wt)}Pw(t,e,i){const n=this.mw.get(t);if(void 0===n)return;const r=Rl(n,i,((t,e)=>t.Re<e));eu(e)?n[r]=e:n.splice(r,1)}xw(t,e){0!==e.length?(this.mw.set(t,e.filter(eu)),this.ww.set(t,e[e.length-1].wt)):(this.mw.delete(t),this.ww.delete(t))}bw(){for(const t of this.gw)0===t.pointData.cw.size&&this.pw.delete(this.Yo.key(t.time))}Sw(t){let e=-1;for(let i=0;i<this.gw.length&&i<t.length;++i){const n=this.gw[i],r=t[i];if(this.Yo.key(n.time)!==this.Yo.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,hu(r.pointData,i)}if(-1===e&&this.gw.length!==t.length&&(e=Math.min(this.gw.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)hu(t[i].pointData,i);return this.Yo.fillWeightsForPoints(t,e),this.gw=t,e}Rw(){if(0===this.mw.size)return null;let t=0;return this.mw.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].Re))})),t}Cw(t,e,i){const n={wo:new Map,Bt:{Y_:this.Rw()}};if(-1!==e)this.mw.forEach(((e,r)=>{n.wo.set(r,{se:e,Dw:r===t?i:void 0})})),this.mw.has(t)||n.wo.set(t,{se:[],Dw:i}),n.Bt.Vw=this.gw,n.Bt.Iw=e;else{const e=this.mw.get(t);n.wo.set(t,{se:e||[],Dw:i})}return n}}function hu(t,e){t.Re=e,t.cw.forEach((t=>{t.Re=e}))}function uu(t,e){return t.wt<e}function cu(t,e){return e<t.wt}function du(t,e,i){const n=e.Uh(),r=e.bi(),s=Rl(t,n,uu),o=zl(t,r,cu);if(!i)return{from:s,to:o};let l=s,a=o;return s>0&&s<t.length&&t[s].wt>=n&&(l=s-1),o>0&&o<t.length&&t[o-1].wt<=r&&(a=o+1),{from:l,to:a}}class fu{constructor(t,e,i){this.Aw=!0,this.Bw=!0,this.Ew=!0,this.zw=[],this.Lw=null,this.Jn=t,this.Qn=e,this.Ow=i}kt(t){this.Aw=!0,"data"===t&&(this.Bw=!0),"options"===t&&(this.Ew=!0)}Tt(){return this.Jn.Vt()?(this.Nw(),null===this.Lw?null:this.Ww):null}Fw(){this.zw=this.zw.map((t=>({...t,...this.Jn.Rh().Dr(t.wt)})))}Hw(){this.Lw=null}Nw(){this.Bw&&(this.Uw(),this.Bw=!1),this.Ew&&(this.Fw(),this.Ew=!1),this.Aw&&(this.$w(),this.Aw=!1)}$w(){const t=this.Jn.Wt(),e=this.Qn.Bt();if(this.Hw(),e.Zi()||t.Zi())return;const i=e.ye();if(null===i)return;if(0===this.Jn.Ks().zr())return;const n=this.Jn.zt();null!==n&&(this.Lw=du(this.zw,i,this.Ow),this.qw(t,e,n.Ft),this.Yw())}}class pu{constructor(t,e){this.jw=t,this.Yi=e}nt(t,e,i){this.jw.draw(t,this.Yi,e,i)}}class mu extends fu{constructor(t,e,i){super(t,e,!1),this.sh=i,this.Ww=new pu(this.sh.renderer(),(e=>{const i=t.zt();return null===i?null:t.Wt().Nt(e,i.Ft)}))}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}Uw(){const t=this.Jn.Rh();this.zw=this.Jn.Ks().Hr().map((e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),Zw:e.se})))}qw(t,e){e.j_(this.zw,Po(this.Lw))}Yw(){this.sh.update({bars:this.zw.map(yu),barSpacing:this.Qn.Bt().Q_(),visibleRange:this.Lw},this.Jn.N())}}function yu(t){return{x:t._t,time:t.wt,originalData:t.Zw,barColor:t.cr}}const gu={color:"#2196f3"},bu=(t,e,i)=>{const n=To(i);return new mu(t,e,n)};function vu(t){const e={value:t.Ft[3],time:t.ew};return void 0!==t.uw&&(e.customValues=t.uw),e}function wu(t){const e=vu(t);return void 0!==t.R&&(e.color=t.R),e}function _u(t){const e=vu(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.mr&&(e.topColor=t.mr),void 0!==t.wr&&(e.bottomColor=t.wr),e}function Su(t){const e=vu(t);return void 0!==t.gr&&(e.topLineColor=t.gr),void 0!==t.Mr&&(e.bottomLineColor=t.Mr),void 0!==t.br&&(e.topFillColor1=t.br),void 0!==t.Sr&&(e.topFillColor2=t.Sr),void 0!==t.Cr&&(e.bottomFillColor1=t.Cr),void 0!==t.yr&&(e.bottomFillColor2=t.yr),e}function xu(t){const e={open:t.Ft[0],high:t.Ft[1],low:t.Ft[2],close:t.Ft[3],time:t.ew};return void 0!==t.uw&&(e.customValues=t.uw),e}function Mu(t){const e=xu(t);return void 0!==t.R&&(e.color=t.R),e}function Tu(t){const e=xu(t),{R:i,Ht:n,vr:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function Cu(t){return{Area:_u,Line:wu,Baseline:Su,Histogram:wu,Bar:Mu,Candlestick:Tu,Custom:Iu}[t]}function Iu(t){const e=t.ew;return{...t.se,time:e}}const ku={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Eu={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Bu={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ao,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Nu={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Du={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Ou(){return{width:0,height:0,autoSize:!1,layout:Bu,crosshair:ku,grid:Eu,overlayPriceScales:{...Nu},leftPriceScale:{...Nu,visible:!1},rightPriceScale:{...Nu,visible:!0},timeScale:Du,localization:{locale:uh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Pu{constructor(t,e,i){this.bf=t,this.Kw=e,this.Xw=i??0}applyOptions(t){this.bf.Qt().$u(this.Kw,t,this.Xw)}options(){return this.Yi().N()}width(){return hl(this.Kw)?this.bf.Hm(this.Kw):0}Yi(){return Mo(this.bf.Qt().qu(this.Kw,this.Xw)).Wt}}class Au{constructor(t,e,i,n){this.bf=t,this.yt=i,this.Gw=e,this.Jw=n}getHeight(){return this.yt.$t()}setHeight(t){const e=this.bf.Qt(),i=e.Cc(this.yt);e.Xu(i,t)}paneIndex(){return this.bf.Qt().Cc(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(So(t>=0&&t<this.bf.Sf().length,"Invalid pane index"),this.bf.Qt().Gu(e,t))}getSeries(){return this.yt.wo().map((t=>this.Gw(t)))??[]}getHTMLElement(){return this.bf.Sf()[this.paneIndex()].Rf()}attachPrimitive(t){this.yt.ua(t),t.attached&&t.attached({chart:this.Jw,requestUpdate:()=>this.yt.Qt().Ah()})}detachPrimitive(t){this.yt.ca(t)}priceScale(t){if(null===this.yt.co(t))throw new Error(`Cannot find price scale with id: ${t}`);return new Pu(this.bf,t,this.paneIndex())}}const Fu={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Ru{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Qw(){return this.ir}}class zu{constructor(t,e,i,n,r,s){this.tg=new Co,this.Jn=t,this.ig=e,this.sg=i,this.Yo=r,this.Jw=n,this.ng=s}m(){this.tg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Nt(t,e.Ft)}coordinateToPrice(t){const e=this.Jn.zt();return null===e?null:this.Jn.Wt().Ts(t,e.Ft)}barsInLogicalRange(t){if(null===t)return null;const e=new La(new Fa(t.from,t.to)).o_(),i=this.Jn.Ks();if(i.Zi())return null;const n=i.Wr(e.Uh(),1),r=i.Wr(e.bi(),-1),s=Mo(i.Lr()),o=Mo(i.Zs());if(null!==n&&null!==r&&n.Re>r.Re)return{barsBefore:t.from-s,barsAfter:o-t.to};const l={barsBefore:null===n||n.Re===s?t.from-s:n.Re-s,barsAfter:null===r||r.Re===o?o-t.to:o-r.Re};return null!==n&&null!==r&&(l.from=n.ew,l.to=r.ew),l}setData(t){this.Yo,this.Jn.Rr(),this.ig.eg(this.Jn,t),this.rg("full")}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.Jn.Rr(),this.ig.hg(this.Jn,t,e),this.rg("update")}dataByIndex(t,e){const i=this.Jn.Ks().Wr(t,e);return null===i?null:Cu(this.seriesType())(i)}data(){const t=Cu(this.seriesType());return this.Jn.Ks().Hr().map((e=>t(e)))}subscribeDataChanged(t){this.tg.i(t)}unsubscribeDataChanged(t){this.tg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return Do(this.Jn.N())}priceScale(){return this.sg.priceScale(this.Jn.Wt().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=Io(Do(Fu),t),i=this.Jn.Oh(e);return new Ru(i)}removePriceLine(t){this.Jn.Nh(t.Qw())}priceLines(){return this.Jn.Wh().map((t=>new Ru(t)))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.Jw,series:this,requestUpdate:()=>this.Jn.Qt().Ah(),horzScaleBehavior:this.Yo})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Ah()}getPane(){const t=this.Jn,e=Mo(this.Jn.Qt().Hn(t));return this.ng(e)}moveToPane(t){this.Jn.Qt().Mc(this.Jn,t)}rg(t){this.tg.v()&&this.tg.p(t)}}class Lu{constructor(t,e,i){this.ag=new Co,this.g_=new Co,this.Kv=new Co,this.ts=t,this.uh=t.Bt(),this.Rm=e,this.uh.du().i(this.lg.bind(this)),this.uh.fu().i(this.og.bind(this)),this.Rm.sm().i(this._g.bind(this)),this.Yo=i}m(){this.uh.du().u(this),this.uh.fu().u(this),this.Rm.sm().u(this),this.ag.m(),this.g_.m(),this.Kv.m()}scrollPosition(){return this.uh.iu()}scrollToPosition(t,e){e?this.uh._u(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ou()}getVisibleRange(){const t=this.uh.O_();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.Yo.convertHorzItemToInternal(t.from),to:this.Yo.convertHorzItemToInternal(t.to)},i=this.uh.H_(e);this.ts.wc(i)}getVisibleLogicalRange(){const t=this.uh.L_();return null===t?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){So(t.from<=t.to,"The from index cannot be after the to index."),this.ts.wc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.mu()}logicalToCoordinate(t){const e=this.ts.Bt();return e.Zi()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Zi()?null:this.uh.Z_(t)}timeToIndex(t,e){const i=this.Yo.convertHorzItemToInternal(t);return this.uh.B_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return null===e?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Bt(),i=e.Z_(t),n=e.ss(i);return null===n?null:n.originalTime}width(){return this.Rm.Df().width}height(){return this.Rm.Df().height}subscribeVisibleTimeRangeChange(t){this.ag.i(t)}unsubscribeVisibleTimeRangeChange(t){this.ag._(t)}subscribeVisibleLogicalRangeChange(t){this.g_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.g_._(t)}subscribeSizeChange(t){this.Kv.i(t)}unsubscribeSizeChange(t){this.Kv._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...Do(this.uh.N()),barSpacing:this.uh.Q_()}}lg(){this.ag.v()&&this.ag.p(this.getVisibleRange())}og(){this.g_.v()&&this.g_.p(this.getVisibleLogicalRange())}_g(t){this.Kv.p(t.width,t.height)}}function Vu(t){return function(t){if(No(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;No(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),No(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;No(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Uu{constructor(t,e,i){this.ug=new Map,this.cg=new Map,this.dg=new Co,this.fg=new Co,this.pg=new Co,this.Pu=new WeakMap,this.vg=new au(e);const n=void 0===i?Do(Ou()):Io(Do(Ou()),Vu(i));this.mg=e,this.bf=new $h(t,n,e),this.bf.Tv().i((t=>{this.dg.v()&&this.dg.p(this.wg(t()))}),this),this.bf.Rv().i((t=>{this.fg.v()&&this.fg.p(this.wg(t()))}),this),this.bf.ju().i((t=>{this.pg.v()&&this.pg.p(this.wg(t()))}),this);const r=this.bf.Qt();this.gg=new Lu(r,this.bf.Bm(),this.mg)}remove(){this.bf.Tv().u(this),this.bf.Rv().u(this),this.bf.ju().u(this),this.gg.m(),this.bf.m(),this.ug.clear(),this.cg.clear(),this.dg.m(),this.fg.m(),this.pg.m(),this.vg.m()}resize(t,e,i){this.autoSizeActive()||this.bf.Vm(t,e,i)}addCustomSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=(t=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...gu,...t.defaultOptions()},Mg:bu,bg:t}))(To(t));return this.xg(n,e,i)}addSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.xg(t,e,i)}removeSeries(t){const e=xo(this.ug.get(t)),i=this.vg.vc(e);this.bf.Qt().vc(e),this.Sg(i),this.ug.delete(t),this.cg.delete(e)}eg(t,e){this.Sg(this.vg.Mw(t,e))}hg(t,e,i){this.Sg(this.vg.kw(t,e,i))}subscribeClick(t){this.dg.i(t)}unsubscribeClick(t){this.dg._(t)}subscribeCrosshairMove(t){this.pg.i(t)}unsubscribeCrosshairMove(t){this.pg._(t)}subscribeDblClick(t){this.fg.i(t)}unsubscribeDblClick(t){this.fg._(t)}priceScale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Pu(this.bf,t,e)}timeScale(){return this.gg}applyOptions(t){this.bf.hr(Vu(t))}options(){return this.bf.N()}takeScreenshot(){return this.bf.Wm()}removePane(t){this.bf.Qt().Ku(t)}swapPanes(t,e){this.bf.Qt().Gu(t,e)}autoSizeActive(){return this.bf.qm()}chartElement(){return this.bf.Bf()}panes(){return this.bf.Qt().$s().map((t=>this.Cg(t)))}paneSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=this.bf.Zm(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const n=this.ug.get(i);if(void 0===n)return;const r=this.bf.Qt().Hn(n);null!==r&&this.bf.Qt().oc(t,e,r)}clearCrosshairPosition(){this.bf.Qt()._c(!0)}horzBehaviour(){return this.mg}xg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;So(void 0!==t.Mg),function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(e.priceFormat),"Candlestick"===t.type&&function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e);const n=Io(Do(yo),Do(t.defaultOptions),e),r=t.Mg,s=new ra(this.bf.Qt(),t.type,n,r,t.bg);this.bf.Qt().dc(s,i);const o=new zu(s,this,this,this,this.mg,(t=>this.Cg(t)));return this.ug.set(o,s),this.cg.set(s,o),o}Sg(t){const e=this.bf.Qt();e.uc(t.Bt.Y_,t.Bt.Vw,t.Bt.Iw),t.wo.forEach(((t,e)=>e.ht(t.se,t.Dw))),e.Bt().R_(),e.J_()}yg(t){return xo(this.cg.get(t))}wg(t){const e=new Map;t.lw.forEach(((t,i)=>{const n=i.Rr(),r=Cu(n)(t);if("Custom"!==n)So(Jh(r));else{const t=i.pa();So(!t||!1===t(r))}e.set(this.yg(i),r)}));const i=void 0!==t.aw&&this.cg.has(t.aw)?this.yg(t.aw):void 0;return{time:t.ew,logical:t.Re,point:t.rw,paneIndex:t.hw,hoveredSeries:i,hoveredObjectId:t.ow,seriesData:e,sourceEvent:t._w}}Cg(t){let e=this.Pu.get(t);return e||(e=new Au(this.bf,(t=>this.yg(t)),t,this),this.Pu.set(t,e)),e}}function Yu(t){if(Bo(t)){const e=document.getElementById(t);return So(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}function Wu(t,e,i){const n=Yu(t),r=new Uu(n,e,i);return e.setOptions(r.options()),r}class ju extends fu{constructor(t,e){super(t,e,!0)}qw(t,e,i){e.j_(this.zw,Po(this.Lw)),t.Dl(this.zw,i,Po(this.Lw))}kg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}Uw(){const t=this.Jn.Rh();this.zw=this.Jn.Ks().Hr().map((e=>{const i=e.Ft[3];return this.Pg(e.Re,i,t)}))}}function $u(t,e,i,n,r,s,o){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:h}=t,u=e[n.from];let c=s(t,u),d=u;if(n.to-n.from<2){const e=r/2;l.beginPath();const i={_t:u._t-e,ut:u.ut},n={_t:u._t+e,ut:u.ut};l.moveTo(i._t*a,i.ut*h),l.lineTo(n._t*a,n.ut*h),o(t,c,i,n)}else{const r=(e,i)=>{o(t,c,d,i),l.beginPath(),c=e,d=i};let f=d;l.beginPath(),l.moveTo(u._t*a,u.ut*h);for(let o=n.from+1;o<n.to;++o){f=e[o];const n=s(t,f);switch(i){case 0:l.lineTo(f._t*a,f.ut*h);break;case 1:l.lineTo(f._t*a,e[o-1].ut*h),n!==c&&(r(n,f),l.lineTo(f._t*a,e[o-1].ut*h)),l.lineTo(f._t*a,f.ut*h);break;case 2:{const[t,i]=Ku(e,o-1,o);l.bezierCurveTo(t._t*a,t.ut*h,i._t*a,i.ut*h,f._t*a,f.ut*h);break}}1!==i&&n!==c&&(r(n,f),l.moveTo(f._t*a,f.ut*h))}(d!==f||d===f&&1===i)&&o(t,c,d,f)}}const Qu=6;function Hu(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function Ju(t,e){return{_t:t._t/e,ut:t.ut/e}}function Ku(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=Ju(Hu(t[i],t[n]),Qu),{_t:s._t+o._t,ut:s.ut+o.ut}),Hu(t[i],Ju(Hu(t[r],t[e]),Qu))]}function Gu(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Zu extends Yo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,Tg:n,Rg:r,ct:s,Kt:o,Dg:l}=this.rt;if(null===i)return;const a=t.context;a.lineCap="butt",a.lineWidth=s*t.verticalPixelRatio,wo(a,o),a.lineJoin="round";const h=this.Vg.bind(this);void 0!==r&&$u(t,e,r,i,n,h,Gu),l&&function(t,e,i,n,r){if(n.to-n.from<=0)return;const{horizontalPixelRatio:s,verticalPixelRatio:o,context:l}=t;let a=null;const h=Math.max(1,Math.floor(s))%2/2,u=i*o+h;for(let c=n.to-1;c>=n.from;--c){const i=e[c];if(i){const e=r(t,i);e!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=e,a=e);const n=Math.round(i._t*s)+h,c=i.ut*o;l.moveTo(n,c),l.arc(n,c,u,0,2*Math.PI)}}l.fill()}(t,e,l,i,h)}}class Xu extends Zu{Vg(t,e){return e.vt}}class qu extends ju{constructor(){super(...arguments),this.Ww=new Xu}Pg(t,e,i){return{...this.kg(t,e),...i.Dr(t)}}Yw(){const t=this.Jn.N(),e={ot:this.zw,Kt:t.lineStyle,Rg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Dg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.Lw,Tg:this.Qn.Bt().Q_()};this.Ww.ht(e)}}const tc={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Mg:(t,e)=>new qu(t,e)};function ec(t,e,i,n,r){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=e;s.lineTo(r._t*o,t*l),s.lineTo(n._t*o,t*l),s.closePath(),s.fillStyle=i,s.fill()}class ic extends Yo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,Tg:n,ct:r,Kt:s,Rg:o}=this.rt,l=this.rt.Og??(this.rt.Ng?0:t.mediaSize.height);if(null===i)return;const a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=r,wo(a,s),a.lineWidth=1,$u(t,e,o,i,n,this.Wg.bind(this),ec.bind(null,l))}}class nc{Fg(t,e){const i=this.Hg,{Ug:n,$g:r,qg:s,Yg:o,Og:l,jg:a,Zg:h}=e;if(void 0===this.Kg||void 0===i||i.Ug!==n||i.$g!==r||i.qg!==s||i.Yg!==o||i.Og!==l||i.jg!==a||i.Zg!==h){const{verticalPixelRatio:i}=t,u=l||a>0?i:1,c=a*u,d=h===t.bitmapSize.height?h:h*u,f=(l??0)*u,p=t.context.createLinearGradient(0,c,0,d);if(p.addColorStop(0,n),null!=l){const t=va((f-c)/(d-c),0,1);p.addColorStop(t,r),p.addColorStop(t,s)}p.addColorStop(1,o),this.Kg=p,this.Hg=e}return this.Kg}}class rc extends ic{constructor(){super(...arguments),this.Xg=new nc}Wg(t,e){return this.Xg.Fg(t,{Ug:e.mr,$g:"",qg:"",Yg:e.wr,jg:this.rt?.jg??0,Zg:t.bitmapSize.height})}}class sc extends ju{constructor(t,e){super(t,e),this.Ww=new Uo,this.tM=new rc,this.iM=new Xu,this.Ww.st([this.tM,this.iM])}Pg(t,e,i){return{...this.kg(t,e),...i.Dr(t)}}Yw(){const t=this.Jn.N();if(null===this.Lw||0===this.zw.length)return;let e;if(t.relativeGradient){e=this.zw[this.Lw.from].ut;for(let t=this.Lw.from;t<this.Lw.to;t++){const i=this.zw[t];i.ut<e&&(e=i.ut)}}this.tM.ht({Rg:t.lineType,ot:this.zw,Kt:t.lineStyle,ct:t.lineWidth,Og:null,jg:e,Ng:t.invertFilledArea,lt:this.Lw,Tg:this.Qn.Bt().Q_()}),this.iM.ht({Rg:t.lineVisible?t.lineType:void 0,ot:this.zw,Kt:t.lineStyle,ct:t.lineWidth,lt:this.Lw,Tg:this.Qn.Bt().Q_(),Dg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const oc={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Mg:(t,e)=>new sc(t,e)};class lc extends Yo{constructor(){super(...arguments),this.Yt=null,this.sM=0,this.nM=0}ht(t){this.Yt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.Yt||0===this.Yt.Ks.length||null===this.Yt.lt)return;this.sM=this.eM(i),this.sM>=2&&Math.max(1,Math.floor(i))%2!=this.sM%2&&this.sM--,this.nM=this.Yt.rM?Math.min(this.sM,Math.floor(i)):this.sM;let r=null;const s=this.nM<=this.sM&&this.Yt.Q_>=Math.floor(1.5*i);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;++o){const t=this.Yt.Ks[o];r!==t.cr&&(e.fillStyle=t.cr,r=t.cr);const l=Math.floor(.5*this.nM),a=Math.round(t._t*i),h=a-l,u=this.nM,c=h+u-1,d=Math.min(t.Bl,t.El),f=Math.max(t.Bl,t.El),p=Math.round(d*n)-l,m=Math.round(f*n)+l,y=Math.max(m-p,this.nM);e.fillRect(h,p,u,y);const g=Math.ceil(1.5*this.sM);if(s){if(this.Yt.hM){const i=a-g;let r=Math.max(p,Math.round(t.Al*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(i,r,h-i,s-r+1)}const i=a+g;let r=Math.max(p,Math.round(t.zl*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(c+1,r,i-c,s-r+1)}}}eM(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(Mo(this.Yt).Q_,t)))}}class ac extends fu{constructor(t,e){super(t,e,!1)}qw(t,e,i){e.j_(this.zw,Po(this.Lw)),t.Il(this.zw,i,Po(this.Lw))}aM(t,e,i){return{wt:t,qh:e.Ft[0],Yh:e.Ft[1],jh:e.Ft[2],Zh:e.Ft[3],_t:NaN,Al:NaN,Bl:NaN,El:NaN,zl:NaN}}Uw(){const t=this.Jn.Rh();this.zw=this.Jn.Ks().Hr().map((e=>this.Pg(e.Re,e,t)))}}class hc extends ac{constructor(){super(...arguments),this.Ww=new lc}Pg(t,e,i){return{...this.aM(t,e,i),...i.Dr(t)}}Yw(){const t=this.Jn.N();this.Ww.ht({Ks:this.zw,Q_:this.Qn.Bt().Q_(),hM:t.openVisible,rM:t.thinBars,lt:this.Lw})}}const uc={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Mg:(t,e)=>new hc(t,e)};class cc extends Yo{constructor(){super(...arguments),this.Yt=null,this.sM=0}ht(t){this.Yt=t}et(t){if(null===this.Yt||0===this.Yt.Ks.length||null===this.Yt.lt)return;const{horizontalPixelRatio:e}=t;this.sM=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.Yt.Q_,e),this.sM>=2&&Math.floor(e)%2!=this.sM%2&&this.sM--;const i=this.Yt.Ks;this.Yt.lM&&this.oM(t,i,this.Yt.lt),this.Yt.Mi&&this.$p(t,i,this.Yt.lt);const n=this._M(e);(!this.Yt.Mi||this.sM>2*n)&&this.uM(t,i,this.Yt.lt)}oM(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="",l=Math.min(Math.floor(r),Math.floor(this.Yt.Q_*r));l=Math.max(Math.floor(r),Math.min(l,this.sM));const a=Math.floor(.5*l);let h=null;for(let u=i.from;u<i.to;u++){const t=e[u];t.pr!==o&&(n.fillStyle=t.pr,o=t.pr);const i=Math.round(Math.min(t.Al,t.zl)*s),c=Math.round(Math.max(t.Al,t.zl)*s),d=Math.round(t.Bl*s),f=Math.round(t.El*s);let p=Math.round(r*t._t)-a;const m=p+l-1;null!==h&&(p=Math.max(h+1,p),p=Math.min(p,m));const y=m-p+1;n.fillRect(p,d,y,i-d),n.fillRect(p,c+1,y,f-c),h=m}}_M(t){let e=Math.floor(1*t);this.sM<=2*e&&(e=Math.floor(.5*(this.sM-1)));const i=Math.max(Math.floor(t),e);return this.sM<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}$p(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this._M(r);let a=null;for(let h=i.from;h<i.to;h++){const t=e[h];t.dr!==o&&(n.fillStyle=t.dr,o=t.dr);let i=Math.round(t._t*r)-Math.floor(.5*this.sM);const u=i+this.sM-1,c=Math.round(Math.min(t.Al,t.zl)*s),d=Math.round(Math.max(t.Al,t.zl)*s);if(null!==a&&(i=Math.max(a+1,i),i=Math.min(i,u)),this.Yt.Q_*r>2*l)Ko(n,i,c,u-i+1,d-c+1,l);else{const t=u-i+1;n.fillRect(i,c,t,d-c+1)}a=u}}uM(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this._M(r);for(let a=i.from;a<i.to;a++){const t=e[a];let i=Math.round(Math.min(t.Al,t.zl)*s),h=Math.round(Math.max(t.Al,t.zl)*s),u=Math.round(t._t*r)-Math.floor(.5*this.sM),c=u+this.sM-1;if(t.cr!==o){const e=t.cr;n.fillStyle=e,o=e}this.Yt.Mi&&(u+=l,i+=l,c-=l,h-=l),i>h||n.fillRect(u,i,c-u+1,h-i+1)}}}class dc extends ac{constructor(){super(...arguments),this.Ww=new cc}Pg(t,e,i){return{...this.aM(t,e,i),...i.Dr(t)}}Yw(){const t=this.Jn.N();this.Ww.ht({Ks:this.zw,Q_:this.Qn.Bt().Q_(),lM:t.wickVisible,Mi:t.borderVisible,lt:this.Lw})}}const fc={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Mg:(t,e)=>new dc(t,e)};class pc extends Yo{constructor(){super(...arguments),this.Yt=null,this.cM=[]}ht(t){this.Yt=t,this.cM=[]}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this.cM.length||this.dM(i);const r=Math.max(1,Math.floor(n)),s=Math.round(this.Yt.fM*n)-Math.floor(r/2),o=s+r;for(let l=this.Yt.lt.from;l<this.Yt.lt.to;l++){const t=this.Yt.ot[l],i=this.cM[l-this.Yt.lt.from],a=Math.round(t.ut*n);let h,u;e.fillStyle=t.cr,a<=s?(h=a,u=o):(h=s,u=a-Math.floor(r/2)+r),e.fillRect(i.Uh,h,i.bi-i.Uh+1,u-h)}}dM(t){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this.cM=[]);const e=Math.ceil(this.Yt.Q_*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Yt.Q_*t)-e;this.cM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const e=this.Yt.ot[r],n=Math.round(e._t*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.cM[r-this.Yt.lt.from]={Uh:s,bi:o,pM:n,ne:e._t*t,wt:e.wt}}for(let r=this.Yt.lt.from+1;r<this.Yt.lt.to;r++){const t=this.cM[r-this.Yt.lt.from],i=this.cM[r-this.Yt.lt.from-1];t.wt===i.wt+1&&t.Uh-i.bi!==e+1&&(i.pM>i.ne?i.bi=t.Uh-e-1:t.Uh=i.bi+e+1)}let n=Math.ceil(this.Yt.Q_*t);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const t=this.cM[r-this.Yt.lt.from];t.bi<t.Uh&&(t.bi=t.Uh);const e=t.bi-t.Uh+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const t=this.cM[r-this.Yt.lt.from];t.bi-t.Uh+1>n&&(t.pM>t.ne?t.bi-=1:t.Uh+=1)}}}class mc extends ju{constructor(){super(...arguments),this.Ww=new pc}Pg(t,e,i){return{...this.kg(t,e),...i.Dr(t)}}Yw(){const t={ot:this.zw,Q_:this.Qn.Bt().Q_(),lt:this.Lw,fM:this.Jn.Wt().Nt(this.Jn.N().base,Mo(this.Jn.zt()).Ft)};this.Ww.ht(t)}}const yc={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Mg:(t,e)=>new mc(t,e)};class gc{constructor(t,e){this.yt=t,this.vM=e,this.mM()}detach(){this.yt.detachPrimitive(this.vM)}getPane(){return this.yt}applyOptions(t){this.vM.hr?.(t)}mM(){this.yt.attachPrimitive(this.vM)}}const bc={visible:!0,horzAlign:"center",vertAlign:"center",lines:[]},vc={color:"rgba(0, 0, 0, 0.5)",fontSize:48,fontFamily:Ao,fontStyle:"",text:""};class wc{constructor(t){this.wM=new Map,this.Yt=t}draw(t){t.useMediaCoordinateSpace((t=>{if(!this.Yt.visible)return;const{context:e,mediaSize:i}=t;let n=0;for(const s of this.Yt.lines){if(0===s.text.length)continue;e.font=s.P;const t=this.gM(e,s.text);t>i.width?s.hu=i.width/t:s.hu=1,n+=s.lineHeight*s.hu}let r=0;switch(this.Yt.vertAlign){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}for(const s of this.Yt.lines){e.save(),e.fillStyle=s.color;let t=0;switch(this.Yt.horzAlign){case"left":e.textAlign="left",t=s.lineHeight/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-s.lineHeight/2}e.translate(t,r),e.textBaseline="top",e.font=s.P,e.scale(s.hu,s.hu),e.fillText(s.text,0,s.MM),e.restore(),r+=s.lineHeight*s.hu}}))}gM(t,e){const i=this.bM(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}bM(t){let e=this.wM.get(t);return void 0===e&&(e=new Map,this.wM.set(t,e)),e}}class _c{constructor(t){this.ys=xc(t)}kt(t){this.ys=xc(t)}renderer(){return new wc(this.ys)}}function Sc(t){return{...t,P:Fo(t.fontSize,t.fontFamily,t.fontStyle),lineHeight:t.lineHeight||1.2*t.fontSize,MM:0,hu:0}}function xc(t){return{...t,lines:t.lines.map(Sc)}}function Mc(t){return{...vc,...t}}function Tc(t){return{...bc,...t,lines:t.lines?.map(Mc)??[]}}class Cc{constructor(t){this.ys=Tc(t),this.xM=[new _c(this.ys)]}updateAllViews(){this.xM.forEach((t=>t.kt(this.ys)))}paneViews(){return this.xM}attached(t){let{requestUpdate:e}=t;this.SM=e}detached(){this.SM=void 0}hr(t){this.ys=Tc({...this.ys,...t}),this.SM&&this.SM()}}class Ic{constructor(t,e){this.Jn=t,this.ah=e,this.mM()}detach(){this.Jn.detachPrimitive(this.ah)}getSeries(){return this.Jn}applyOptions(t){this.ah&&this.ah.hr&&this.ah.hr(t)}mM(){this.Jn.attachPrimitive(this.ah)}}function kc(t,e){return _a(Math.min(Math.max(t,12),30)*e)}function Ec(t,e){switch(t){case"arrowDown":case"arrowUp":return kc(e,1);case"circle":return kc(e,.8);case"square":return kc(e,.7)}}function Bc(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(kc(t,1))}function Nc(t){return Math.max(kc(t,.1),3)}function Dc(t,e,i){return e?t:i?Math.ceil(t/2):0}function Oc(t,e,i,n){const r=(Ec("arrowUp",n)-1)/2*i.WM,s=(_a(n/2)-1)/2*i.WM;e.beginPath(),t?(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut-r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut+r),e.lineTo(i._t-s,i.ut+r),e.lineTo(i._t-s,i.ut)):(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut+r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut-r),e.lineTo(i._t-s,i.ut-r),e.lineTo(i._t-s,i.ut)),e.fill()}function Pc(t,e,i,n,r,s){const o=(Ec("arrowUp",n)-1)/2,l=(_a(n/2)-1)/2;return r>=e-l-2&&r<=e+l+2&&s>=(t?i:i-o)-2&&s<=(t?i+o:i)+2||(()=>{if(r<e-o-3||r>e+o+3||s<(t?i-o-3:i)||s>(t?i:i+o+3))return!1;const n=Math.abs(r-e);return Math.abs(s-i)+3>=n/2})()}class Ac{constructor(){this.Yt=null,this.On=new yl,this.W=-1,this.F="",this.Mp=""}ht(t){this.Yt=t}Nn(t,e){this.W===t&&this.F===e||(this.W=t,this.F=e,this.Mp=Fo(t,e),this.On.In())}jn(t,e){if(null===this.Yt||null===this.Yt.lt)return null;for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const n=this.Yt.ot[i];if(n&&Rc(n,t,e))return{zOrder:"normal",externalId:n.Zn??""}}return null}draw(t){t.useBitmapCoordinateSpace((t=>{this.et(t)}))}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null!==this.Yt&&null!==this.Yt.lt){e.textBaseline="middle",e.font=this.Mp;for(let t=this.Yt.lt.from;t<this.Yt.lt.to;t++){const r=this.Yt.ot[t];void 0!==r.ri&&(r.ri.Qi=this.On.Vi(e,r.ri.FM),r.ri.$t=this.W,r.ri._t=r._t-r.ri.Qi/2),Fc(r,e,i,n)}}}}function Fc(t,e,i,n){e.fillStyle=t.R,void 0!==t.ri&&function(t,e,i,n,r,s){t.save(),t.scale(r,s),t.fillText(e,i,n),t.restore()}(e,t.ri.FM,t.ri._t,t.ri.ut,i,n),function(t,e,i){if(0!==t.zr){switch(t.HM){case"arrowDown":return void Oc(!1,e,i,t.zr);case"arrowUp":return void Oc(!0,e,i,t.zr);case"circle":return void function(t,e,i){const n=(Ec("circle",i)-1)/2;t.beginPath(),t.arc(e._t,e.ut,n*e.WM,0,2*Math.PI,!1),t.fill()}(e,i,t.zr);case"square":return void function(t,e,i){const n=Ec("square",i),r=(n-1)*e.WM/2,s=e._t-r,o=e.ut-r;t.fillRect(s,o,n*e.WM,n*e.WM)}(e,i,t.zr)}t.HM}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{_t:Math.round(t._t*e)+n,ut:t.ut*i,WM:e}}(t,i,n))}function Rc(t,e,i){return!(void 0===t.ri||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.ri._t,t.ri.ut,t.ri.Qi,t.ri.$t,e,i))||function(t,e,i){if(0===t.zr)return!1;switch(t.HM){case"arrowDown":return Pc(!0,t._t,t.ut,t.zr,e,i);case"arrowUp":return Pc(!1,t._t,t.ut,t.zr,e,i);case"circle":return function(t,e,i,n,r){const s=2+Ec("circle",i)/2,o=t-n,l=e-r;return Math.sqrt(o*o+l*l)<=s}(t._t,t.ut,t.zr,e,i);case"square":return function(t,e,i,n,r){const s=Ec("square",i),o=(s-1)/2,l=t-o,a=e-o;return n>=l&&n<=l+s&&r>=a&&r<=a+s}(t._t,t.ut,t.zr,e,i)}}(t,e,i)}function zc(t,e,i,n,r,s,o,l){const a=l.timeScale();let h,u,c;if("value"in(d=i)&&"number"==typeof d.value)h=i.value,u=i.value,c=i.value;else{if(!function(t){return"open"in t&&"high"in t&&"low"in t&&"close"in t}(i))return;h=i.close,u=i.high,c=i.low}var d;const f=ko(e.size)?Math.max(e.size,0):1,p=Bc(a.options().barSpacing)*f,m=p/2;switch(t.zr=p,e.position){case"inBar":return t.ut=Mo(o.priceToCoordinate(h)),void(void 0!==t.ri&&(t.ri.ut=t.ut+m+s+.6*r));case"aboveBar":return t.ut=Mo(o.priceToCoordinate(u))-m-n.UM,void 0!==t.ri&&(t.ri.ut=t.ut-m-.6*r,n.UM+=1.2*r),void(n.UM+=p+s);case"belowBar":return t.ut=Mo(o.priceToCoordinate(c))+m+n.$M,void 0!==t.ri&&(t.ri.ut=t.ut+m+s+.6*r,n.$M+=1.2*r),void(n.$M+=p+s)}e.position}class Lc{constructor(t,e){this.qM=[],this.St=!0,this.YM=!0,this.Gt=new Ac,this.ge=t,this._p=e,this.Yt={ot:[],lt:null}}renderer(){if(!this.ge.options().visible)return null;this.St&&this.jM();const t=this._p.options().layout;return this.Gt.Nn(t.fontSize,t.fontFamily),this.Gt.ht(this.Yt),this.Gt}ZM(t){this.qM=t,this.kt("data")}kt(t){this.St=!0,"data"===t&&(this.YM=!0)}jM(){const t=this._p.timeScale(),e=this.qM;this.YM&&(this.Yt.ot=e.map((t=>({wt:t.time,_t:0,ut:0,zr:0,HM:t.shape,R:t.color,Zn:t.id,KM:t.KM,ri:void 0}))),this.YM=!1);const i=this._p.options().layout;this.Yt.lt=null;const n=t.getVisibleLogicalRange();if(null===n)return;const r=new Fa(Math.floor(n.from),Math.ceil(n.to));if(null===this.ge.data()[0])return;if(0===this.Yt.ot.length)return;let s=NaN;const o=Nc(t.options().barSpacing),l={UM:o,$M:o};this.Yt.lt=du(this.Yt.ot,r,!0);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;a++){const n=e[a];n.time!==s&&(l.UM=o,l.$M=o,s=n.time);const r=this.Yt.ot[a];r._t=Mo(t.logicalToCoordinate(n.time)),void 0!==n.text&&n.text.length>0&&(r.ri={FM:n.text,_t:0,ut:0,Qi:0,$t:0});const h=Mo(this.ge.dataByIndex(n.time,-1));null!==h&&zc(r,n,h,l,i.fontSize,o,this.ge,this._p)}this.St=!1}}class Vc{constructor(){this.sh=null,this.qM=[],this.XM=[],this.GM=null,this.ge=null,this._p=null,this.JM=!0,this.QM=null,this.tb=null,this.ib=null}attached(t){this.sb(),this._p=t.chart,this.ge=t.series,this.sh=new Lc(this.ge,Mo(this._p)),this.OM=t.requestUpdate,this.ge.subscribeDataChanged((t=>this.rg(t))),this.SM()}SM(){this.OM&&this.OM()}detached(){this.ge&&this.GM&&this.ge.unsubscribeDataChanged(this.GM),this._p=null,this.ge=null,this.sh=null,this.GM=null}ZM(t){this.qM=t,this.sb(),this.JM=!0,this.tb=null,this.SM()}nb(){return this.qM}paneViews(){return this.sh?[this.sh]:[]}updateAllViews(){this.eb()}hitTest(t,e){return this.sh?this.sh.renderer()?.jn(t,e)??null:null}autoscaleInfo(t,e){if(this.sh){const t=this.rb();if(t)return{priceRange:null,margins:t}}return null}rb(){const t=Mo(this._p).timeScale().options().barSpacing;if(this.JM||t!==this.ib){if(this.ib=t,this.qM.length>0){const e=Nc(t),i=1.5*Bc(t)+2*e,n=this.hb();this.QM={above:Dc(i,n.aboveBar,n.inBar),below:Dc(i,n.belowBar,n.inBar)}}else this.QM=null;this.JM=!1}return this.QM}hb(){return null===this.tb&&(this.tb=this.qM.reduce(((t,e)=>(t[e.position]||(t[e.position]=!0),t)),{inBar:!1,aboveBar:!1,belowBar:!1})),this.tb}sb(){if(!this._p||!this.ge)return;const t=this._p.timeScale();if(null==t.getVisibleLogicalRange()||!this.ge||0===this.ge?.data().length)return void(this.XM=[]);const e=this.ge?.data(),i=t.timeToIndex(Mo(e[0].time),!0);this.XM=this.qM.map(((e,n)=>{const r=t.timeToIndex(e.time,!0),s=r<i?1:-1,o=Mo(this.ge).dataByIndex(r,s);return{time:t.timeToIndex(Mo(o).time,!1),position:e.position,shape:e.shape,color:e.color,id:e.id,KM:n,text:e.text,size:e.size,ew:e.time}}))}eb(t){this.sh&&(this.sb(),this.sh.ZM(this.XM),this.sh.kt(t))}rg(t){this.SM()}}class Uc extends Ic{constructor(t,e,i){super(t,e),i&&this.setMarkers(i)}setMarkers(t){this.ah.ZM(t)}markers(){return this.ah.nb()}}class Yc{constructor(t,e,i,n,r,s){this._p1=void 0,this._p2=void 0,this._fillColor=void 0,this._borderColor=void 0,this._borderWidth=void 0,this._opacity=void 0,this._p1=t,this._p2=e,this._fillColor=i,this._borderColor=n,this._borderWidth=r||0,this._opacity=void 0!==s?s:.75}draw(t){t.useBitmapCoordinateSpace((t=>{if(null===this._p1.x||null===this._p1.y||null===this._p2.x||null===this._p2.y)return;const e=t.context,i=Math.round(this._p1.x*t.horizontalPixelRatio),n=Math.round(this._p1.y*t.verticalPixelRatio),r=Math.round(this._p2.x*t.horizontalPixelRatio),s=Math.round(this._p2.y*t.verticalPixelRatio),o=Math.min(i,r),l=Math.min(n,s),a=Math.abs(r-i),h=Math.abs(s-n);if(e.save(),e.globalAlpha=this._opacity,e.fillStyle=this._fillColor,e.fillRect(o,l,a,h),this._borderColor&&this._borderWidth>0){const i=this._borderWidth*Math.max(t.horizontalPixelRatio,t.verticalPixelRatio);e.strokeStyle=this._borderColor,e.lineWidth=i;const n=i/2;e.strokeRect(o+n,l+n,a-i,h-i)}e.restore()}))}}class Wc{constructor(t,e,i){this._chart=void 0,this._series=void 0,this._options=void 0,this._p1={x:null,y:null},this._p2={x:null,y:null},this._chart=t,this._series=e,this._options=i}update(){const t=this._series.priceToCoordinate(this._options.startPrice),e=this._series.priceToCoordinate(this._options.endPrice),i=this._chart.timeScale(),n=i.timeToCoordinate(this._options.startTime),r=i.timeToCoordinate(this._options.endTime);this._p1={x:n,y:t},this._p2={x:r,y:e}}zOrder(){return this._options.zOrder||"bottom"}renderer(){return this.update(),new Yc(this._p1,this._p2,this._options.fillColor,this._options.borderColor,this._options.borderWidth,this._options.opacity)}}class jc{constructor(t,e,i){this._chart=void 0,this._series=void 0,this._options=void 0,this._paneView=void 0,this._chart=t,this._series=e,this._options=i,this._paneView=new Wc(t,e,i),this._series.attachPrimitive(this)}paneViews(){return[this._paneView]}setOptions(t){this._options={...this._options,...t},this._paneView.update(),this._chart.applyOptions({})}}var $c=i(579);const Qc=function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.componentDidMount=function(){so.events.addEventListener(so.RENDER_EVENT,i.onRenderEvent),so.setComponentReady()},i.componentDidUpdate=function(){null!=i.state.componentError&&so.setFrameHeight()},i.componentWillUnmount=function(){so.events.removeEventListener(so.RENDER_EVENT,i.onRenderEvent)},i.onRenderEvent=function(t){i.setState({renderData:t.detail})},i.state={renderData:void 0,componentError:void 0},i}return lo(i,e),i.prototype.render=function(){return null!=this.state.componentError?d.createElement("div",null,d.createElement("h1",null,"Component Error"),d.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:d.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(t){return{componentError:t}},i}(d.PureComponent);return m()(e,t)}((function(t){let{args:e,theme:i}=t;const{charts:n,take_screenshot:r,zoom_level:s=200,fonts:o=[]}=e,l=(0,d.useRef)(null),a=(0,d.useRef)(null),[h,u]=(0,d.useState)(!1),[c,f]=(0,d.useState)(!1),p=(0,d.useRef)(null),m=(0,d.useRef)(!1),[y,g]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{if(o&&o.length>0){(async()=>{try{o.map((t=>{const e=document.createElement("link"),i=t.replace(/\s+/g,"+");return e.href=`https://fonts.googleapis.com/css2?family=${i}&display=swap`,e.rel="stylesheet",e})).forEach((t=>document.head.appendChild(t))),await Promise.all(o.map((t=>document.fonts.load(`12px "${t}"`)))),g(!0)}catch(t){console.error("Error loading fonts:",t)}})()}}),[o]),(0,d.useEffect)((()=>{var t,e,o,c;if(!l.current||null===n||void 0===n||!n.length)return void console.error("No valid charts config provided.");m.current=!1;const d=n.reduce(((t,e)=>t+e.height),0),y=l.current.clientWidth,g=function(t,e){return Wu(t,new hh,hh.Wc(e))}(l.current,{width:y,height:d,layout:i?{background:{color:i.backgroundColor},textColor:i.textColor}:{},grid:{},...n[0].chart});null!==(t=n[0].chart)&&void 0!==t&&null!==(e=t.layout)&&void 0!==e&&e.fontFamily&&g.applyOptions({layout:{fontFamily:n[0].chart.layout.fontFamily}}),null!==(o=n[0].chart)&&void 0!==o&&null!==(c=o.layout)&&void 0!==c&&c.fontSize&&g.applyOptions({layout:{fontSize:n[0].chart.layout.fontSize}});const b=n[0].chart||{};g.priceScale("right").applyOptions({borderColor:b.priceScaleBorderColor||"#2B2B43",borderVisible:!0,textColor:b.priceScaleTextColor}),g.timeScale().applyOptions({borderColor:b.timeScaleBorderColor||"#2B2B43",borderVisible:!0}),a.current=g;const v=n.map(((t,e)=>t.series.map((t=>{const i={...t.options,...t.priceScale&&{priceScale:t.priceScale}};switch(t.type){case"Candlestick":return g.addSeries(fc,i,e);case"Histogram":return g.addSeries(yc,i,e);case"Line":return g.addSeries(tc,i,e);case"Area":return g.addSeries(oc,i,e);case"Bar":return g.addSeries(uc,i,e);default:throw new Error(`Unsupported series type: ${t.type}`)}}))));n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.data&&v[e][i]&&v[e][i].setData(t.data)}))})),n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.markers&&t.markers.length>0&&v[e][i]&&function(t,e){const i=new Uc(t,new Vc);e&&i.setMarkers(e)}(v[e][i],t.markers)}))}));const w=[];n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.rectangles&&t.rectangles.length>0&&v[e][i]&&t.rectangles.forEach((t=>{const n=new jc(g,v[e][i],{startTime:t.startTime,startPrice:t.startPrice,endTime:t.endTime,endPrice:t.endPrice,fillColor:t.fillColor,borderColor:t.borderColor||"#000000",borderWidth:t.borderWidth||2,opacity:t.opacity||.7,zOrder:t.zOrder||"bottom"});w.push(n)}))}))}));g.panes().forEach(((t,e)=>{if(n[e].title&&t){var i,r,s;const o=(null===(i=n[0].chart)||void 0===i||null===(r=i.layout)||void 0===r?void 0:r.textColor)||"rgba(0, 0, 0, 1)",l=(null===(s=n[e].chart)||void 0===s?void 0:s.titleOptions)||{fontSize:18,fontFamily:"Arial",fontStyle:"bold"};!function(t,e){new gc(t,new Cc(e))}(t,{horzAlign:"left",vertAlign:"top",lines:[{text:" ",lineHeight:8},{text:"  "+(n[e].title||""),color:o,fontSize:l.fontSize,fontFamily:l.fontFamily,fontStyle:l.fontStyle,lineHeight:1.5}]})}}));(async()=>{const t=g.panes();for(let e=t.length-1;e>=0;e--){const i=t[e],r=n[e].height;await new Promise((t=>{i.setHeight(r),setTimeout(t,10)}))}})().then((()=>{const t=n[0].series[0].data;(null===t||void 0===t?void 0:t.length)>=s?g.timeScale().setVisibleRange({from:t[t.length-s].time,to:t[t.length-1].time}):g.timeScale().fitContent()}));const _=()=>{p.current&&window.clearTimeout(p.current),p.current=window.setTimeout((()=>{if(l.current&&!m.current){const t=l.current.clientWidth;g.resize(t,d),(()=>{var t;const e=(null===(t=l.current)||void 0===t?void 0:t.clientHeight)||d;g.panes().forEach(((t,i)=>{if(t){const r=n[i].height/d,s=Math.floor(e*r);t.setHeight(Math.max(s,30))}}))})()}}),300)};window.addEventListener("resize",_),h||r||(so.setComponentValue(0),u(!0)),setTimeout((()=>{f(!0)}),100);return(async()=>{try{await new Promise((t=>requestAnimationFrame((()=>{setTimeout(t,250)}))));const t=a.current.takeScreenshot().toDataURL("image/png");await new Promise((t=>setTimeout(t,100))),so.setComponentValue({type:"screenshot",data:t})}catch(t){console.error("Screenshot error:",t),so.setComponentValue({type:"error",message:String(t)})}})(),()=>{try{g&&g.applyOptions({layout:{background:{color:"transparent"},textColor:"transparent"},handleScale:!1,handleScroll:!1})}catch(yo){console.warn("Chart disposal: Could not update options",yo)}m.current=!0,p.current&&window.clearTimeout(p.current),window.removeEventListener("resize",_),g.remove(),f(!1)}}),[n,i,h,r,s,y]),(0,d.useEffect)((()=>{if(r&&a.current&&c){(async()=>{try{await new Promise((t=>requestAnimationFrame((()=>{setTimeout(t,250)}))));const t=a.current.takeScreenshot().toDataURL("image/png");await new Promise((t=>setTimeout(t,100))),so.setComponentValue({type:"screenshot",data:t})}catch(t){console.error("Screenshot error:",t),so.setComponentValue({type:"error",message:String(t)})}})()}}),[r,c]),(0,$c.jsx)("div",{style:{width:"100%",height:`${n.reduce(((t,e)=>t+e.height),0)}px`},ref:l})}));f.render((0,$c.jsx)(d.StrictMode,{children:(0,$c.jsx)(Qc,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.699cfac3.js.map