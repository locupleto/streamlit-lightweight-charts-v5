/*! For license information please see main.c7010207.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,i)=>{t.exports=i(202)},82:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,a=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,v=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case u:case c:case s:case l:case o:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case y:case m:case a:return t;default:return e}}case r:return e}}}function S(t){return _(t)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=h,e.ContextProvider=a,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return S(t)||_(t)===u},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===h},e.isContextProvider=function(t){return _(t)===a},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===l},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===c||t===l||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===a||t.$$typeof===h||t.$$typeof===d||t.$$typeof===b||t.$$typeof===v||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_},86:(t,e,i)=>{t.exports=i(82)},123:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,l=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var h in s=Object(arguments[a]))i.call(s,h)&&(l[h]=s[h]);if(e){o=e(s);for(var u=0;u<o.length;u++)n.call(s,o[u])&&(l[o[u]]=s[o[u]])}}return l}},153:(t,e,i)=>{var n=i(43),r=60103;if("function"===typeof Symbol&&Symbol.for){var s=Symbol.for;r=s("react.element"),s("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,i){var n,s={},h=null,u=null;for(n in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(u=e.ref),e)l.call(e,n)&&!a.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:h,ref:u,props:s,_owner:o.current}}e.jsx=h},202:(t,e,i)=>{var n=i(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,h=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,n(x,w.prototype),x.isPureReactComponent=!0;var M={current:null},T=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,i){var n,r={},o=null,l=null;if(null!=e)for(n in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(o=""+e.key),e)T.call(e,n)&&!I.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(1===a)r.children=i;else if(1<a){for(var h=Array(a),u=0;u<a;u++)h[u]=arguments[u+2];r.children=h}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:s,type:t,key:o,ref:l,props:r,_owner:M.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var k=/\/+/g,P=[];function N(t,e,i,n){if(P.length){var r=P.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function B(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var l=!1;if(null===t)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case o:l=!0}}if(l)return i(n,t,""===e?"."+F(t,0):e),1;if(l=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var h=e+F(r=t[a],a);l+=B(r,h,i,n)}else if(null===t||"object"!==typeof t?h=null:h="function"===typeof(h=y&&t[y]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),a=0;!(r=t.next()).done;)l+=B(r=r.value,h=e+F(r,a++),i,n);else if("object"===r)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}function A(t,e,i){return null==t?0:B(t,"",e,i)}function F(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function D(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,n,i,(function(t){return t})):null!=t&&(C(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(k,"$&/")+"/")+i)),n.push(t))}function R(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(k,"$&/")+"/"),A(t,D,e=N(e,s,n,r)),O(e)}var z={current:null};function U(){var t=z.current;if(null===t)throw Error(g(321));return t}var j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return R(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;A(t,L,e=N(null,null,e,i)),O(e)},count:function(t){return A(t,(function(){return null}),null)},toArray:function(t){var e=[];return R(t,e,null,(function(t){return t})),e},only:function(t){if(!C(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=l,e.Profiler=h,e.PureComponent=S,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(g(267,t));var r=n({},t.props),o=t.key,l=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,a=M.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(u in e)T.call(e,u)&&!I.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==h?h[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){h=Array(u);for(var c=0;c<u;c++)h[c]=arguments[c+2];r.children=h}return{$$typeof:s,type:t.type,key:o,ref:l,props:r,_owner:a}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return U().useCallback(t,e)},e.useContext=function(t,e){return U().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return U().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return U().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return U().useLayoutEffect(t,e)},e.useMemo=function(t,e){return U().useMemo(t,e)},e.useReducer=function(t,e,i){return U().useReducer(t,e,i)},e.useRef=function(t){return U().useRef(t)},e.useState=function(t){return U().useState(t)},e.version="16.14.0"},219:(t,e,i)=>{var n=i(86),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function a(t){return n.isMemo(t)?o:l[t.$$typeof]||r}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=o;var h=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(p){var r=f(i);r&&r!==p&&t(e,r,n)}var o=u(i);c&&(o=o.concat(c(i)));for(var l=a(e),m=a(i),y=0;y<o.length;++y){var g=o[y];if(!s[g]&&(!n||!n[g])&&(!m||!m[g])&&(!l||!l[g])){var b=d(i,g);try{h(e,g,b)}catch(yo){}}}}return e}},234:(t,e)=>{var i,n,r,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,a=null,h=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(Ao){throw setTimeout(h,0),Ao}},u=Date.now();e.unstable_now=function(){return Date.now()-u},i=function(t){null!==l?setTimeout(i,0,t):(l=t,setTimeout(h,0))},n=function(t,e){a=setTimeout(t,e)},r=function(){clearTimeout(a)},s=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var c=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof c&&"function"===typeof c.now)e.unstable_now=function(){return c.now()};else{var y=d.now();e.unstable_now=function(){return d.now()-y}}var g=!1,b=null,v=-1,w=5,_=0;s=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();_=t+w;try{b(!0,t)?x.postMessage(null):(g=!1,b=null)}catch(Ao){throw x.postMessage(null),Ao}}else g=!1},i=function(t){b=t,g||(g=!0,x.postMessage(null))},n=function(t,i){v=f((function(){t(e.unstable_now())}),i)},r=function(){p(v),v=-1}}function M(t,e){var i=t.length;t.push(e);t:for(;;){var n=i-1>>>1,r=t[n];if(!(void 0!==r&&0<E(r,e)))break t;t[n]=e,t[i]=r,i=n}}function T(t){return void 0===(t=t[0])?null:t}function I(t){var e=t[0];if(void 0!==e){var i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length;n<r;){var s=2*(n+1)-1,o=t[s],l=s+1,a=t[l];if(void 0!==o&&0>E(o,i))void 0!==a&&0>E(a,o)?(t[n]=a,t[l]=i,n=l):(t[n]=o,t[s]=i,n=s);else{if(!(void 0!==a&&0>E(a,i)))break t;t[n]=a,t[l]=i,n=l}}}return e}return null}function E(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}var C=[],k=[],P=1,N=null,O=3,B=!1,A=!1,F=!1;function L(t){for(var e=T(k);null!==e;){if(null===e.callback)I(k);else{if(!(e.startTime<=t))break;I(k),e.sortIndex=e.expirationTime,M(C,e)}e=T(k)}}function D(t){if(F=!1,L(t),!A)if(null!==T(C))A=!0,i(R);else{var e=T(k);null!==e&&n(D,e.startTime-t)}}function R(t,i){A=!1,F&&(F=!1,r()),B=!0;var o=O;try{for(L(i),N=T(C);null!==N&&(!(N.expirationTime>i)||t&&!s());){var l=N.callback;if(null!==l){N.callback=null,O=N.priorityLevel;var a=l(N.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?N.callback=a:N===T(C)&&I(C),L(i)}else I(C);N=T(C)}if(null!==N)var h=!0;else{var u=T(k);null!==u&&n(D,u.startTime-i),h=!1}return h}finally{N=null,O=o,B=!1}}function z(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){A||B||(A=!0,i(R))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return T(C)},e.unstable_next=function(t){switch(O){case 1:case 2:case 3:var e=3;break;default:e=O}var i=O;O=e;try{return t()}finally{O=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=O;O=t;try{return e()}finally{O=i}},e.unstable_scheduleCallback=function(t,s,o){var l=e.unstable_now();if("object"===typeof o&&null!==o){var a=o.delay;a="number"===typeof a&&0<a?l+a:l,o="number"===typeof o.timeout?o.timeout:z(t)}else o=z(t),a=l;return t={id:P++,callback:s,priorityLevel:t,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>l?(t.sortIndex=a,M(k,t),null===T(C)&&t===T(k)&&(F?r():F=!0,n(D,a-l))):(t.sortIndex=o,M(C,t),A||B||(A=!0,i(R))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();L(t);var i=T(C);return i!==N&&null!==N&&null!==i&&null!==i.callback&&i.startTime<=t&&i.expirationTime<N.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=O;return function(){var i=O;O=e;try{return t.apply(this,arguments)}finally{O=i}}}},579:(t,e,i)=>{t.exports=i(153)},730:(t,e,i)=>{var n=i(43),r=i(123),s=i(853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function l(t,e,i,n,r,s,o,l,a){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(Po){this.onError(Po)}}var a=!1,h=null,u=!1,c=null,d={onError:function(t){a=!0,h=t}};function f(t,e,i,n,r,s,o,u,c){a=!1,h=null,l.apply(d,arguments)}var p=null,m=null,y=null;function g(t,e,i){var n=t.type||"unknown-event";t.currentTarget=y(i),function(t,e,i,n,r,s,l,d,p){if(f.apply(this,arguments),a){if(!a)throw Error(o(198));var m=h;a=!1,h=null,u||(u=!0,c=m)}}(n,e,void 0,t),t.currentTarget=null}var b=null,v={};function w(){if(b)for(var t in v){var e=v[t],i=b.indexOf(t);if(!(-1<i))throw Error(o(96,t));if(!S[i]){if(!e.extractEvents)throw Error(o(97,t));for(var n in S[i]=e,i=e.eventTypes){var r=void 0,s=i[n],l=e,a=n;if(x.hasOwnProperty(a))throw Error(o(99,a));x[a]=s;var h=s.phasedRegistrationNames;if(h){for(r in h)h.hasOwnProperty(r)&&_(h[r],l,a);r=!0}else s.registrationName?(_(s.registrationName,l,a),r=!0):r=!1;if(!r)throw Error(o(98,n,t))}}}}function _(t,e,i){if(M[t])throw Error(o(100,t));M[t]=e,T[t]=e.eventTypes[i].dependencies}var S=[],x={},M={},T={};function I(t){var e,i=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!v.hasOwnProperty(e)||v[e]!==n){if(v[e])throw Error(o(102,e));v[e]=n,i=!0}}i&&w()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,k=null,P=null;function N(t){if(t=m(t)){if("function"!==typeof C)throw Error(o(280));var e=t.stateNode;e&&(e=p(e),C(t.stateNode,t.type,e))}}function O(t){k?P?P.push(t):P=[t]:k=t}function B(){if(k){var t=k,e=P;if(P=k=null,N(t),e)for(t=0;t<e.length;t++)N(e[t])}}function A(t,e){return t(e)}function F(t,e,i,n,r){return t(e,i,n,r)}function L(){}var D=A,R=!1,z=!1;function U(){null===k&&null===P||(L(),B())}function j(t,e,i){if(z)return t(e,i);z=!0;try{return D(t,e,i)}finally{z=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,$={},Y={};function K(t,e,i,n,r,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){H[t]=new K(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];H[e]=new K(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){H[t]=new K(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){H[t]=new K(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){H[t]=new K(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){H[t]=new K(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){H[t]=new K(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){H[t]=new K(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){H[t]=new K(t,5,!1,t.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function Q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(J,Q);H[e]=new K(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(J,Q);H[e]=new K(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(J,Q);H[e]=new K(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){H[t]=new K(t,1,!1,t.toLowerCase(),null,!1)})),H.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){H[t]=new K(t,1,!1,t.toLowerCase(),null,!0)}));var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(t,e,i,n){var r=H.hasOwnProperty(e)?H[e]:null;(null!==r?0===r.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!W.call(Y,t)||!W.call($,t)&&(V.test(t)?Y[t]=!0:($[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}G.hasOwnProperty("ReactCurrentDispatcher")||(G.ReactCurrentDispatcher={current:null}),G.hasOwnProperty("ReactCurrentBatchConfig")||(G.ReactCurrentBatchConfig={suspense:null});var q=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,it=Z?Symbol.for("react.fragment"):60107,nt=Z?Symbol.for("react.strict_mode"):60108,rt=Z?Symbol.for("react.profiler"):60114,st=Z?Symbol.for("react.provider"):60109,ot=Z?Symbol.for("react.context"):60110,lt=Z?Symbol.for("react.concurrent_mode"):60111,at=Z?Symbol.for("react.forward_ref"):60112,ht=Z?Symbol.for("react.suspense"):60113,ut=Z?Symbol.for("react.suspense_list"):60120,ct=Z?Symbol.for("react.memo"):60115,dt=Z?Symbol.for("react.lazy"):60116,ft=Z?Symbol.for("react.block"):60121,pt="function"===typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case it:return"Fragment";case et:return"Portal";case rt:return"Profiler";case nt:return"StrictMode";case ht:return"Suspense";case ut:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case st:return"Context.Provider";case at:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return yt(t.type);case ft:return yt(t.render);case dt:if(t=1===t._status?t._result:null)return yt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break t;default:var n=t._debugOwner,r=t._debugSource,s=yt(t.type);i=null,n&&(i=yt(n.type)),n=s,s="",r?s=" (at "+r.fileName.replace(q,"")+":"+r.lineNumber+")":i&&(s=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+s}e+=i,t=t.return}while(t);return e}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=vt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function St(t,e){var i=e.checked;return r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function xt(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=bt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Mt(t,e){null!=(e=e.checked)&&X(t,"checked",e,!1)}function Tt(t,e){Mt(t,e);var i=bt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Et(t,e.type,i):e.hasOwnProperty("defaultValue")&&Et(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function It(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function Et(t,e,i){"number"===e&&t.ownerDocument.activeElement===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function Ct(t,e){return t=r({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function kt(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+bt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(o(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(o(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:bt(i)}}function Ot(t,e){var i=bt(e.value),n=bt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function Bt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var At="http://www.w3.org/1999/xhtml",Ft="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Rt,zt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction((function(){return t(e,i)}))}:t}((function(t,e){if(t.namespaceURI!==Ft||"innerHTML"in t)t.innerHTML=e;else{for((Rt=Rt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Ut(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}function jt(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Vt={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},Wt={},$t={};function Yt(t){if(Wt[t])return Wt[t];if(!Vt[t])return t;var e,i=Vt[t];for(e in i)if(i.hasOwnProperty(e)&&e in $t)return Wt[t]=i[e];return t}E&&($t=document.createElement("div").style,"AnimationEvent"in window||(delete Vt.animationend.animation,delete Vt.animationiteration.animation,delete Vt.animationstart.animation),"TransitionEvent"in window||delete Vt.transitionend.transition);var Kt=Yt("animationend"),Ht=Yt("animationiteration"),Jt=Yt("animationstart"),Qt=Yt("transitionend"),Gt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"===typeof WeakMap?WeakMap:Map);function qt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Zt(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(o(188))}function ie(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(o(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return ee(r),t;if(s===n)return ee(r),e;s=s.sibling}throw Error(o(188))}if(i.return!==n.return)i=r,n=s;else{for(var l=!1,a=r.child;a;){if(a===i){l=!0,i=r,n=s;break}if(a===n){l=!0,n=r,i=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===i){l=!0,i=s,n=r;break}if(a===n){l=!0,n=s,i=r;break}a=a.sibling}if(!l)throw Error(o(189))}}if(i.alternate!==n)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ne(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function re(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var se=null;function oe(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)g(t,e[n],i[n]);else e&&g(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function le(t){if(null!==t&&(se=ne(se,t)),t=se,se=null,t){if(re(t,oe),se)throw Error(o(95));if(u)throw t=c,u=!1,c=null,t}}function ae(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function he(t){if(!E)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ue=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ue.length&&ue.push(t)}function de(t,e,i,n){if(ue.length){var r=ue.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function fe(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=i.tag)&&6!==e||t.ancestors.push(i),i=Ni(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=ae(t.nativeEvent);n=t.topLevelType;var s=t.nativeEvent,o=t.eventSystemFlags;0===i&&(o|=64);for(var l=null,a=0;a<S.length;a++){var h=S[a];h&&(h=h.extractEvents(n,e,s,r,o))&&(l=ne(l,h))}le(l)}}function pe(t,e,i){if(!i.has(t)){switch(t){case"scroll":Je(e,"scroll",!0);break;case"focus":case"blur":Je(e,"focus",!0),Je(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":he(t)&&Je(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Gt.indexOf(t)&&He(t,e)}i.set(t,null)}}var me,ye,ge,be=!1,ve=[],we=null,_e=null,Se=null,xe=new Map,Me=new Map,Te=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ee="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|i,nativeEvent:r,container:n}}function ke(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Se=null;break;case"pointerover":case"pointerout":xe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function Pe(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t=Ce(e,i,n,r,s),null!==e&&(null!==(e=Oi(e))&&ye(e)),t):(t.eventSystemFlags|=n,t)}function Ne(t){var e=Ni(t.target);if(null!==e){var i=Zt(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=te(i)))return t.blockedOn=e,void s.unstable_runWithPriority(t.priority,(function(){ge(i)}))}else if(3===e&&i.stateNode.hydrate)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Oe(t){if(null!==t.blockedOn)return!1;var e=qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var i=Oi(e);return null!==i&&ye(i),t.blockedOn=e,!1}return!0}function Be(t,e,i){Oe(t)&&i.delete(e)}function Ae(){for(be=!1;0<ve.length;){var t=ve[0];if(null!==t.blockedOn){null!==(t=Oi(t.blockedOn))&&me(t);break}var e=qe(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ve.shift()}null!==we&&Oe(we)&&(we=null),null!==_e&&Oe(_e)&&(_e=null),null!==Se&&Oe(Se)&&(Se=null),xe.forEach(Be),Me.forEach(Be)}function Fe(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ae)))}function Le(t){function e(e){return Fe(e,t)}if(0<ve.length){Fe(ve[0],t);for(var i=1;i<ve.length;i++){var n=ve[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==we&&Fe(we,t),null!==_e&&Fe(_e,t),null!==Se&&Fe(Se,t),xe.forEach(e),Me.forEach(e),i=0;i<Te.length;i++)(n=Te[i]).blockedOn===t&&(n.blockedOn=null);for(;0<Te.length&&null===(i=Te[0]).blockedOn;)Ne(i),null===i.blockedOn&&Te.shift()}var De={},Re=new Map,ze=new Map,Ue=["abort","abort",Kt,"animationEnd",Ht,"animationIteration",Jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qt,"transitionEnd","waiting","waiting"];function je(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],s="on"+(r[0].toUpperCase()+r.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[n],eventPriority:e},ze.set(n,e),Re.set(n,s),De[r]=s}}je("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),je("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),je(Ue,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)ze.set(Ve[We],0);var $e=s.unstable_UserBlockingPriority,Ye=s.unstable_runWithPriority,Ke=!0;function He(t,e){Je(e,t,!1)}function Je(t,e,i){var n=ze.get(e);switch(void 0===n?2:n){case 0:n=Qe.bind(null,e,1,t);break;case 1:n=Ge.bind(null,e,1,t);break;default:n=Xe.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Qe(t,e,i,n){R||L();var r=Xe,s=R;R=!0;try{F(r,t,e,i,n)}finally{(R=s)||U()}}function Ge(t,e,i,n){Ye($e,Xe.bind(null,t,e,i,n))}function Xe(t,e,i,n){if(Ke)if(0<ve.length&&-1<Ie.indexOf(t))t=Ce(null,t,e,i,n),ve.push(t);else{var r=qe(t,e,i,n);if(null===r)ke(t,n);else if(-1<Ie.indexOf(t))t=Ce(r,t,e,i,n),ve.push(t);else if(!function(t,e,i,n,r){switch(e){case"focus":return we=Pe(we,t,e,i,n,r),!0;case"dragenter":return _e=Pe(_e,t,e,i,n,r),!0;case"mouseover":return Se=Pe(Se,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return xe.set(s,Pe(xe.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Me.set(s,Pe(Me.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n)){ke(t,n),t=de(t,n,null,e);try{j(fe,t)}finally{ce(t)}}}}function qe(t,e,i,n){if(null!==(i=Ni(i=ae(n)))){var r=Zt(i);if(null===r)i=null;else{var s=r.tag;if(13===s){if(null!==(i=te(r)))return i;i=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=de(t,n,i,e);try{j(fe,t)}finally{ce(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ei(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function ii(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=ei(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(Ze).forEach((function(t){ti.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var ni=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(t,e){if(e){if(ni[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function si(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=At;function li(t,e){var i=qt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=T[e];for(var n=0;n<e.length;n++)pe(e[n],t,i)}function ai(){}function hi(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(Ao){return t.body}}function ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ci(t,e){var i,n=ui(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ui(n)}}function di(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?di(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fi(){for(var t=window,e=hi();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(Io){i=!1}if(!i)break;e=hi((t=e.contentWindow).document)}return e}function pi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mi="$",yi="/$",gi="$?",bi="$!",vi=null,wi=null;function _i(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Si(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var xi="function"===typeof setTimeout?setTimeout:void 0,Mi="function"===typeof clearTimeout?clearTimeout:void 0;function Ti(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Ii(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if(i===mi||i===bi||i===gi){if(0===e)return t;e--}else i===yi&&e++}t=t.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),Ci="__reactInternalInstance$"+Ei,ki="__reactEventHandlers$"+Ei,Pi="__reactContainere$"+Ei;function Ni(t){var e=t[Ci];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Pi]||i[Ci]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Ii(t);null!==t;){if(i=t[Ci])return i;t=Ii(t)}return e}i=(t=i).parentNode}return null}function Oi(t){return!(t=t[Ci]||t[Pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Ai(t){return t[ki]||null}function Fi(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Li(t,e){var i=t.stateNode;if(!i)return null;var n=p(i);if(!n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(o(231,e,typeof i));return i}function Di(t,e,i){(e=Li(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Ri(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Fi(e);for(e=i.length;0<e--;)Di(i[e],"captured",t);for(e=0;e<i.length;e++)Di(i[e],"bubbled",t)}}function zi(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=Li(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=ne(i._dispatchListeners,e),i._dispatchInstances=ne(i._dispatchInstances,t))}function Ui(t){t&&t.dispatchConfig.registrationName&&zi(t._targetInst,null,t)}function ji(t){re(t,Ri)}var Vi=null,Wi=null,$i=null;function Yi(){if($i)return $i;var t,e,i=Wi,n=i.length,r="value"in Vi?Vi.value:Vi.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return $i=r.slice(t,1<e?1-e:void 0)}function Ki(){return!0}function Hi(){return!1}function Ji(t,e,i,n){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ki:Hi,this.isPropagationStopped=Hi,this}function Qi(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function Gi(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Xi(t){t.eventPool=[],t.getPooled=Qi,t.release=Gi}r(Ji.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){this.isPersistent=Ki},isPersistent:Hi,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hi,this._dispatchInstances=this._dispatchListeners=null}}),Ji.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ji.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var s=new e;return r(s,i.prototype),i.prototype=s,i.prototype.constructor=i,i.Interface=r({},n.Interface,t),i.extend=n.extend,Xi(i),i},Xi(Ji);var qi=Ji.extend({data:null}),Zi=Ji.extend({data:null}),tn=[9,13,27,32],en=E&&"CompositionEvent"in window,nn=null;E&&"documentMode"in document&&(nn=document.documentMode);var rn=E&&"TextEvent"in window&&!nn,sn=E&&(!en||nn&&8<nn&&11>=nn),on=String.fromCharCode(32),ln={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},an=!1;function hn(t,e){switch(t){case"keyup":return-1!==tn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var cn=!1;var dn={eventTypes:ln,extractEvents:function(t,e,i,n){var r;if(en)t:{switch(t){case"compositionstart":var s=ln.compositionStart;break t;case"compositionend":s=ln.compositionEnd;break t;case"compositionupdate":s=ln.compositionUpdate;break t}s=void 0}else cn?hn(t,i)&&(s=ln.compositionEnd):"keydown"===t&&229===i.keyCode&&(s=ln.compositionStart);return s?(sn&&"ko"!==i.locale&&(cn||s!==ln.compositionStart?s===ln.compositionEnd&&cn&&(r=Yi()):(Wi="value"in(Vi=n)?Vi.value:Vi.textContent,cn=!0)),s=qi.getPooled(s,e,i,n),r?s.data=r:null!==(r=un(i))&&(s.data=r),ji(s),r=s):r=null,(t=rn?function(t,e){switch(t){case"compositionend":return un(e);case"keypress":return 32!==e.which?null:(an=!0,on);case"textInput":return(t=e.data)===on&&an?null:t;default:return null}}(t,i):function(t,e){if(cn)return"compositionend"===t||!en&&hn(t,e)?(t=Yi(),$i=Wi=Vi=null,cn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sn&&"ko"!==e.locale?null:e.data}}(t,i))?((e=Zi.getPooled(ln.beforeInput,e,i,n)).data=t,ji(e)):e=null,null===r?e:null===e?r:[r,e]}},fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!fn[t.type]:"textarea"===e}var mn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yn(t,e,i){return(t=Ji.getPooled(mn.change,t,e,i)).type="change",O(i),ji(t),t}var gn=null,bn=null;function vn(t){le(t)}function wn(t){if(_t(Bi(t)))return t}function _n(t,e){if("change"===t)return e}var Sn=!1;function xn(){gn&&(gn.detachEvent("onpropertychange",Mn),bn=gn=null)}function Mn(t){if("value"===t.propertyName&&wn(bn))if(t=yn(bn,t,ae(t)),R)le(t);else{R=!0;try{A(vn,t)}finally{R=!1,U()}}}function Tn(t,e,i){"focus"===t?(xn(),bn=i,(gn=e).attachEvent("onpropertychange",Mn)):"blur"===t&&xn()}function In(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return wn(bn)}function En(t,e){if("click"===t)return wn(e)}function Cn(t,e){if("input"===t||"change"===t)return wn(e)}E&&(Sn=he("input")&&(!document.documentMode||9<document.documentMode));var kn={eventTypes:mn,_isInputEventSupported:Sn,extractEvents:function(t,e,i,n){var r=e?Bi(e):window,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type)var o=_n;else if(pn(r))if(Sn)o=Cn;else{o=In;var l=Tn}else(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=En);if(o&&(o=o(t,e)))return yn(o,i,n);l&&l(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Et(r,"number",r.value)}},Pn=Ji.extend({view:null,detail:null}),Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Nn[t])&&!!e[t]}function Bn(){return On}var An=0,Fn=0,Ln=!1,Dn=!1,Rn=Pn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Bn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=An;return An=t.screenX,Ln?"mousemove"===t.type?t.screenX-e:0:(Ln=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Fn;return Fn=t.screenY,Dn?"mousemove"===t.type?t.screenY-e:0:(Dn=!0,0)}}),zn=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Un={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},jn={eventTypes:Un,extractEvents:function(t,e,i,n,r){var s="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(s&&0===(32&r)&&(i.relatedTarget||i.fromElement)||!o&&!s)return null;(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,o)?(o=e,null!==(e=(e=i.relatedTarget||i.toElement)?Ni(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var l=Rn,a=Un.mouseLeave,h=Un.mouseEnter,u="mouse";else"pointerout"!==t&&"pointerover"!==t||(l=zn,a=Un.pointerLeave,h=Un.pointerEnter,u="pointer");if(t=null==o?s:Bi(o),s=null==e?s:Bi(e),(a=l.getPooled(a,o,i,n)).type=u+"leave",a.target=t,a.relatedTarget=s,(i=l.getPooled(h,e,i,n)).type=u+"enter",i.target=s,i.relatedTarget=t,u=e,(n=o)&&u)t:{for(h=u,o=0,t=l=n;t;t=Fi(t))o++;for(t=0,e=h;e;e=Fi(e))t++;for(;0<o-t;)l=Fi(l),o--;for(;0<t-o;)h=Fi(h),t--;for(;o--;){if(l===h||l===h.alternate)break t;l=Fi(l),h=Fi(h)}l=null}else l=null;for(h=l,l=[];n&&n!==h&&(null===(o=n.alternate)||o!==h);)l.push(n),n=Fi(n);for(n=[];u&&u!==h&&(null===(o=u.alternate)||o!==h);)n.push(u),u=Fi(u);for(u=0;u<l.length;u++)zi(l[u],"bubbled",a);for(u=n.length;0<u--;)zi(n[u],"captured",i);return 0===(64&r)?[a]:[a,i]}};var Vn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Wn=Object.prototype.hasOwnProperty;function $n(t,e){if(Vn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Wn.call(e,i[n])||!Vn(t[i[n]],e[i[n]]))return!1;return!0}var Yn=E&&"documentMode"in document&&11>=document.documentMode,Kn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hn=null,Jn=null,Qn=null,Gn=!1;function Xn(t,e){var i=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gn||null==Hn||Hn!==hi(i)?null:("selectionStart"in(i=Hn)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Qn&&$n(Qn,i)?null:(Qn=i,(t=Ji.getPooled(Kn.select,Jn,t,e)).type="select",t.target=Hn,ji(t),t))}var qn={eventTypes:Kn,extractEvents:function(t,e,i,n,r,s){if(!(s=!(r=s||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{r=qt(r),s=T.onSelect;for(var o=0;o<s.length;o++)if(!r.has(s[o])){r=!1;break t}r=!0}s=!r}if(s)return null;switch(r=e?Bi(e):window,t){case"focus":(pn(r)||"true"===r.contentEditable)&&(Hn=r,Jn=e,Qn=null);break;case"blur":Qn=Jn=Hn=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,Xn(i,n);case"selectionchange":if(Yn)break;case"keydown":case"keyup":return Xn(i,n)}return null}},Zn=Ji.extend({animationName:null,elapsedTime:null,pseudoElement:null}),tr=Ji.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),er=Pn.extend({relatedTarget:null});function ir(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sr=Pn.extend({key:function(t){if(t.key){var e=nr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ir(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?rr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Bn,charCode:function(t){return"keypress"===t.type?ir(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ir(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),or=Rn.extend({dataTransfer:null}),lr=Pn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Bn}),ar=Ji.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),hr=Rn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ur={eventTypes:De,extractEvents:function(t,e,i,n){var r=Re.get(t);if(!r)return null;switch(t){case"keypress":if(0===ir(i))return null;case"keydown":case"keyup":t=sr;break;case"blur":case"focus":t=er;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=lr;break;case Kt:case Ht:case Jt:t=Zn;break;case Qt:t=ar;break;case"scroll":t=Pn;break;case"wheel":t=hr;break;case"copy":case"cut":case"paste":t=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=zn;break;default:t=Ji}return ji(e=t.getPooled(r,e,i,n)),e}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Ai,m=Oi,y=Bi,I({SimpleEventPlugin:ur,EnterLeaveEventPlugin:jn,ChangeEventPlugin:kn,SelectEventPlugin:qn,BeforeInputEventPlugin:dn});var cr=[],dr=-1;function fr(t){0>dr||(t.current=cr[dr],cr[dr]=null,dr--)}function pr(t,e){dr++,cr[dr]=t.current,t.current=e}var mr={},yr={current:mr},gr={current:!1},br=mr;function vr(t,e){var i=t.type.contextTypes;if(!i)return mr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function _r(){fr(gr),fr(yr)}function Sr(t,e,i){if(yr.current!==mr)throw Error(o(168));pr(yr,e),pr(gr,i)}function xr(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var s in n=n.getChildContext())if(!(s in t))throw Error(o(108,yt(e)||"Unknown",s));return r({},i,{},n)}function Mr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,br=yr.current,pr(yr,t),pr(gr,gr.current),!0}function Tr(t,e,i){var n=t.stateNode;if(!n)throw Error(o(169));i?(t=xr(t,e,br),n.__reactInternalMemoizedMergedChildContext=t,fr(gr),fr(yr),pr(yr,t)):fr(gr),pr(gr,i)}var Ir=s.unstable_runWithPriority,Er=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,kr=s.unstable_requestPaint,Pr=s.unstable_now,Nr=s.unstable_getCurrentPriorityLevel,Or=s.unstable_ImmediatePriority,Br=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,Fr=s.unstable_LowPriority,Lr=s.unstable_IdlePriority,Dr={},Rr=s.unstable_shouldYield,zr=void 0!==kr?kr:function(){},Ur=null,jr=null,Vr=!1,Wr=Pr(),$r=1e4>Wr?Pr:function(){return Pr()-Wr};function Yr(){switch(Nr()){case Or:return 99;case Br:return 98;case Ar:return 97;case Fr:return 96;case Lr:return 95;default:throw Error(o(332))}}function Kr(t){switch(t){case 99:return Or;case 98:return Br;case 97:return Ar;case 96:return Fr;case 95:return Lr;default:throw Error(o(332))}}function Hr(t,e){return t=Kr(t),Ir(t,e)}function Jr(t,e,i){return t=Kr(t),Er(t,e,i)}function Qr(t){return null===Ur?(Ur=[t],jr=Er(Or,Xr)):Ur.push(t),Dr}function Gr(){if(null!==jr){var t=jr;jr=null,Cr(t)}Xr()}function Xr(){if(!Vr&&null!==Ur){Vr=!0;var t=0;try{var e=Ur;Hr(99,(function(){for(;t<e.length;t++){var i=e[t];do{i=i(!0)}while(null!==i)}})),Ur=null}catch(To){throw null!==Ur&&(Ur=Ur.slice(t+1)),Er(Or,Gr),To}finally{Vr=!1}}}function qr(t,e,i){return 1073741821-(1+((1073741821-t+e/10)/(i/=10)|0))*i}function Zr(t,e){if(t&&t.defaultProps)for(var i in e=r({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}var ts={current:null},es=null,is=null,ns=null;function rs(){ns=is=es=null}function ss(t){var e=ts.current;fr(ts),t.type._context._currentValue=e}function os(t,e){for(;null!==t;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e);else{if(!(null!==i&&i.childExpirationTime<e))break;i.childExpirationTime=e}t=t.return}}function ls(t,e){es=t,ns=is=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Vo=!0),t.firstContext=null)}function as(t,e){if(ns!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(ns=t,e=1073741823),e={context:t,observedBits:e,next:null},null===is){if(null===es)throw Error(o(308));is=e,es.dependencies={expirationTime:0,firstContext:e,responders:null}}else is=is.next=e;return t._currentValue}var hs=!1;function us(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function cs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ds(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function fs(t,e){if(null!==(t=t.updateQueue)){var i=(t=t.shared).pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function ps(t,e){var i=t.alternate;null!==i&&cs(i,t),null===(i=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function ms(t,e,i,n){var s=t.updateQueue;hs=!1;var o=s.baseQueue,l=s.shared.pending;if(null!==l){if(null!==o){var a=o.next;o.next=l.next,l.next=a}o=l,s.shared.pending=null,null!==(a=t.alternate)&&(null!==(a=a.updateQueue)&&(a.baseQueue=l))}if(null!==o){a=o.next;var h=s.baseState,u=0,c=null,d=null,f=null;if(null!==a)for(var p=a;;){if((l=p.expirationTime)<n){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,c=h):f=f.next=m,l>u&&(u=l)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Ca(l,p.suspenseConfig);t:{var y=t,g=p;switch(l=e,m=i,g.tag){case 1:if("function"===typeof(y=g.payload)){h=y.call(m,h,l);break t}h=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(l="function"===typeof(y=g.payload)?y.call(m,h,l):y)||void 0===l)break t;h=r({},h,l);break t;case 2:hs=!0}}null!==p.callback&&(t.effectTag|=32,null===(l=s.effects)?s.effects=[p]:l.push(p))}if(null===(p=p.next)||p===a){if(null===(l=s.shared.pending))break;p=o.next=l.next,l.next=a,s.baseQueue=o=l,s.shared.pending=null}}null===f?c=h:f.next=d,s.baseState=c,s.baseQueue=f,ka(u),t.expirationTime=u,t.memoizedState=h}}function ys(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=r,r=i,"function"!==typeof n)throw Error(o(191,n));n.call(r)}}}var gs=G.ReactCurrentBatchConfig,bs=(new n.Component).refs;function vs(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:r({},e,i),t.memoizedState=i,0===t.expirationTime&&(t.updateQueue.baseState=i)}var ws={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=ma(),r=gs.suspense;(r=ds(n=ya(n,t,r),r)).payload=e,void 0!==i&&null!==i&&(r.callback=i),fs(t,r),ga(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=ma(),r=gs.suspense;(r=ds(n=ya(n,t,r),r)).tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),fs(t,r),ga(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=ma(),n=gs.suspense;(n=ds(i=ya(i,t,n),n)).tag=2,void 0!==e&&null!==e&&(n.callback=e),fs(t,n),ga(t,i)}};function _s(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!$n(i,n)||!$n(r,s))}function Ss(t,e,i){var n=!1,r=mr,s=e.contextType;return"object"===typeof s&&null!==s?s=as(s):(r=wr(e)?br:yr.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?vr(t,r):mr),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ws,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function xs(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&ws.enqueueReplaceState(e,e.state,null)}function Ms(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=bs,us(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=as(s):(s=wr(e)?br:yr.current,r.context=vr(t,s)),ms(t,i,r,n),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(vs(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&ws.enqueueReplaceState(r,r.state,null),ms(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}var Ts=Array.isArray;function Is(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var n=i.stateNode}if(!n)throw Error(o(147,t));var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:(e=function(t){var e=n.refs;e===bs&&(e=n.refs={}),null===t?delete e[r]:e[r]=t},e._stringRef=r,e)}if("string"!==typeof t)throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Es(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Cs(t){function e(e,i){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Qa(t,e)).index=0,t.sibling=null,t}function s(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.effectTag=2,i):n:(e.effectTag=2,i):i}function l(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,i,n){return null===e||6!==e.tag?((e=qa(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function h(t,e,i,n){return null!==e&&e.elementType===i.type?((n=r(e,i.props)).ref=Is(t,e,i),n.return=t,n):((n=Ga(i.type,i.key,i.props,null,t.mode,n)).ref=Is(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Za(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,n,s){return null===e||7!==e.tag?((e=Xa(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e||"number"===typeof e)return(e=qa(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(i=Ga(e.type,e.key,e.props,null,t.mode,i)).ref=Is(t,null,e),i.return=t,i;case et:return(e=Za(e,t.mode,i)).return=t,e}if(Ts(e)||mt(e))return(e=Xa(e,t.mode,i,null)).return=t,e;Es(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:a(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case tt:return i.key===r?i.type===it?c(t,e,i.props.children,n,r):h(t,e,i,n):null;case et:return i.key===r?u(t,e,i,n):null}if(Ts(i)||mt(i))return null!==r?null:c(t,e,i,n,null);Es(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n||"number"===typeof n)return a(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?i:n.key)||null,n.type===it?c(e,t,n.props.children,r,n.key):h(e,t,n,r);case et:return u(e,t=t.get(null===n.key?i:n.key)||null,n,r)}if(Ts(n)||mt(n))return c(e,t=t.get(i)||null,n,r,null);Es(e,n)}return null}function m(r,o,l,a){for(var h=null,u=null,c=o,m=o=0,y=null;null!==c&&m<l.length;m++){c.index>m?(y=c,c=null):y=c.sibling;var g=f(r,c,l[m],a);if(null===g){null===c&&(c=y);break}t&&c&&null===g.alternate&&e(r,c),o=s(g,o,m),null===u?h=g:u.sibling=g,u=g,c=y}if(m===l.length)return i(r,c),h;if(null===c){for(;m<l.length;m++)null!==(c=d(r,l[m],a))&&(o=s(c,o,m),null===u?h=c:u.sibling=c,u=c);return h}for(c=n(r,c);m<l.length;m++)null!==(y=p(c,r,m,l[m],a))&&(t&&null!==y.alternate&&c.delete(null===y.key?m:y.key),o=s(y,o,m),null===u?h=y:u.sibling=y,u=y);return t&&c.forEach((function(t){return e(r,t)})),h}function y(r,l,a,h){var u=mt(a);if("function"!==typeof u)throw Error(o(150));if(null==(a=u.call(a)))throw Error(o(151));for(var c=u=null,m=l,y=l=0,g=null,b=a.next();null!==m&&!b.done;y++,b=a.next()){m.index>y?(g=m,m=null):g=m.sibling;var v=f(r,m,b.value,h);if(null===v){null===m&&(m=g);break}t&&m&&null===v.alternate&&e(r,m),l=s(v,l,y),null===c?u=v:c.sibling=v,c=v,m=g}if(b.done)return i(r,m),u;if(null===m){for(;!b.done;y++,b=a.next())null!==(b=d(r,b.value,h))&&(l=s(b,l,y),null===c?u=b:c.sibling=b,c=b);return u}for(m=n(r,m);!b.done;y++,b=a.next())null!==(b=p(m,r,y,b.value,h))&&(t&&null!==b.alternate&&m.delete(null===b.key?y:b.key),l=s(b,l,y),null===c?u=b:c.sibling=b,c=b);return t&&m.forEach((function(t){return e(r,t)})),u}return function(t,n,s,a){var h="object"===typeof s&&null!==s&&s.type===it&&null===s.key;h&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case tt:t:{for(u=s.key,h=n;null!==h;){if(h.key===u){if(7===h.tag){if(s.type===it){i(t,h.sibling),(n=r(h,s.props.children)).return=t,t=n;break t}}else if(h.elementType===s.type){i(t,h.sibling),(n=r(h,s.props)).ref=Is(t,h,s),n.return=t,t=n;break t}i(t,h);break}e(t,h),h=h.sibling}s.type===it?((n=Xa(s.props.children,t.mode,a,s.key)).return=t,t=n):((a=Ga(s.type,s.key,s.props,null,t.mode,a)).ref=Is(t,n,s),a.return=t,t=a)}return l(t);case et:t:{for(h=s.key;null!==n;){if(n.key===h){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){i(t,n.sibling),(n=r(n,s.children||[])).return=t,t=n;break t}i(t,n);break}e(t,n),n=n.sibling}(n=Za(s,t.mode,a)).return=t,t=n}return l(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(i(t,n.sibling),(n=r(n,s)).return=t,t=n):(i(t,n),(n=qa(s,t.mode,a)).return=t,t=n),l(t);if(Ts(s))return m(t,n,s,a);if(mt(s))return y(t,n,s,a);if(u&&Es(t,s),"undefined"===typeof s&&!h)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return i(t,n)}}var ks=Cs(!0),Ps=Cs(!1),Ns={},Os={current:Ns},Bs={current:Ns},As={current:Ns};function Fs(t){if(t===Ns)throw Error(o(174));return t}function Ls(t,e){switch(pr(As,e),pr(Bs,t),pr(Os,Ns),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dt(null,"");break;default:e=Dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}fr(Os),pr(Os,e)}function Ds(){fr(Os),fr(Bs),fr(As)}function Rs(t){Fs(As.current);var e=Fs(Os.current),i=Dt(e,t.type);e!==i&&(pr(Bs,t),pr(Os,i))}function zs(t){Bs.current===t&&(fr(Os),fr(Bs))}var Us={current:0};function js(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||i.data===gi||i.data===bi))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Vs(t,e){return{responder:t,props:e}}var Ws=G.ReactCurrentDispatcher,$s=G.ReactCurrentBatchConfig,Ys=0,Ks=null,Hs=null,Js=null,Qs=!1;function Gs(){throw Error(o(321))}function Xs(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Vn(t[i],e[i]))return!1;return!0}function qs(t,e,i,n,r,s){if(Ys=s,Ks=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ws.current=null===t||null===t.memoizedState?Mo:Eo,t=i(n,r),e.expirationTime===Ys){s=0;do{if(e.expirationTime=0,!(25>s))throw Error(o(301));s+=1,Js=Hs=null,e.updateQueue=null,Ws.current=Co,t=i(n,r)}while(e.expirationTime===Ys)}if(Ws.current=xo,e=null!==Hs&&null!==Hs.next,Ys=0,Js=Hs=Ks=null,Qs=!1,e)throw Error(o(300));return t}function Zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Js?Ks.memoizedState=Js=t:Js=Js.next=t,Js}function to(){if(null===Hs){var t=Ks.alternate;t=null!==t?t.memoizedState:null}else t=Hs.next;var e=null===Js?Ks.memoizedState:Js.next;if(null!==e)Js=e,Hs=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Hs=t).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Js?Ks.memoizedState=Js=t:Js=Js.next=t}return Js}function eo(t,e){return"function"===typeof e?e(t):e}function io(t){var e=to(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=Hs,r=n.baseQueue,s=i.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}n.baseQueue=r=s,i.pending=null}if(null!==r){r=r.next,n=n.baseState;var a=l=s=null,h=r;do{var u=h.expirationTime;if(u<Ys){var c={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};null===a?(l=a=c,s=n):a=a.next=c,u>Ks.expirationTime&&(Ks.expirationTime=u,ka(u))}else null!==a&&(a=a.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),Ca(u,h.suspenseConfig),n=h.eagerReducer===t?h.eagerState:t(n,h.action);h=h.next}while(null!==h&&h!==r);null===a?s=n:a.next=l,Vn(n,e.memoizedState)||(Vo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function no(t){var e=to(),i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(null!==r){i.pending=null;var l=r=r.next;do{s=t(s,l.action),l=l.next}while(l!==r);Vn(s,e.memoizedState)||(Vo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function ro(t){var e=Zs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t}).dispatch=So.bind(null,Ks,t),[e.memoizedState,t]}function so(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=Ks.updateQueue)?(e={lastEffect:null},Ks.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function oo(){return to().memoizedState}function lo(t,e,i,n){var r=Zs();Ks.effectTag|=t,r.memoizedState=so(1|e,i,void 0,void 0===n?null:n)}function ao(t,e,i,n){var r=to();n=void 0===n?null:n;var s=void 0;if(null!==Hs){var o=Hs.memoizedState;if(s=o.destroy,null!==n&&Xs(n,o.deps))return void so(e,i,s,n)}Ks.effectTag|=t,r.memoizedState=so(1|e,i,s,n)}function ho(t,e){return lo(516,4,t,e)}function uo(t,e){return ao(516,4,t,e)}function co(t,e){return ao(4,2,t,e)}function fo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function po(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,ao(4,2,fo.bind(null,e,t),i)}function mo(){}function go(t,e){return Zs().memoizedState=[t,void 0===e?null:e],t}function vo(t,e){var i=to();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Xs(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function wo(t,e){var i=to();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Xs(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function _o(t,e,i){var n=Yr();Hr(98>n?98:n,(function(){t(!0)})),Hr(97<n?97:n,(function(){var n=$s.suspense;$s.suspense=void 0===e?null:e;try{t(!1),i()}finally{$s.suspense=n}}))}function So(t,e,i){var n=ma(),r=gs.suspense;r={expirationTime:n=ya(n,t,r),suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var s=e.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),e.pending=r,s=t.alternate,t===Ks||null!==s&&s===Ks)Qs=!0,r.expirationTime=Ys,Ks.expirationTime=Ys;else{if(0===t.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,l=s(o,i);if(r.eagerReducer=s,r.eagerState=l,Vn(l,o))return}catch(zo){}ga(t,n)}}var xo={readContext:as,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useResponder:Gs,useDeferredValue:Gs,useTransition:Gs},Mo={readContext:as,useCallback:go,useContext:as,useEffect:ho,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,lo(4,2,fo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var i=Zs();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Zs();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=So.bind(null,Ks,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Zs().memoizedState=t},useState:ro,useDebugValue:mo,useResponder:Vs,useDeferredValue:function(t,e){var i=ro(t),n=i[0],r=i[1];return ho((function(){var i=$s.suspense;$s.suspense=void 0===e?null:e;try{r(t)}finally{$s.suspense=i}}),[t,e]),n},useTransition:function(t){var e=ro(!1),i=e[0];return e=e[1],[go(_o.bind(null,e,t),[e,t]),i]}},Eo={readContext:as,useCallback:vo,useContext:as,useEffect:uo,useImperativeHandle:po,useLayoutEffect:co,useMemo:wo,useReducer:io,useRef:oo,useState:function(){return io(eo)},useDebugValue:mo,useResponder:Vs,useDeferredValue:function(t,e){var i=io(eo),n=i[0],r=i[1];return uo((function(){var i=$s.suspense;$s.suspense=void 0===e?null:e;try{r(t)}finally{$s.suspense=i}}),[t,e]),n},useTransition:function(t){var e=io(eo),i=e[0];return e=e[1],[vo(_o.bind(null,e,t),[e,t]),i]}},Co={readContext:as,useCallback:vo,useContext:as,useEffect:uo,useImperativeHandle:po,useLayoutEffect:co,useMemo:wo,useReducer:no,useRef:oo,useState:function(){return no(eo)},useDebugValue:mo,useResponder:Vs,useDeferredValue:function(t,e){var i=no(eo),n=i[0],r=i[1];return uo((function(){var i=$s.suspense;$s.suspense=void 0===e?null:e;try{r(t)}finally{$s.suspense=i}}),[t,e]),n},useTransition:function(t){var e=no(eo),i=e[0];return e=e[1],[vo(_o.bind(null,e,t),[e,t]),i]}},ko=null,No=null,Oo=!1;function Bo(t,e){var i=Ha(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function Fo(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Lo(t){if(Oo){var e=No;if(e){var i=e;if(!Fo(t,e)){if(!(e=Ti(i.nextSibling))||!Fo(t,e))return t.effectTag=-1025&t.effectTag|2,Oo=!1,void(ko=t);Bo(ko,i)}ko=t,No=Ti(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Oo=!1,ko=t}}function Do(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ko=t}function Ro(t){if(t!==ko)return!1;if(!Oo)return Do(t),Oo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Si(e,t.memoizedProps))for(e=No;e;)Bo(t,e),e=Ti(e.nextSibling);if(Do(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if(i===yi){if(0===e){No=Ti(t.nextSibling);break t}e--}else i!==mi&&i!==bi&&i!==gi||e++}t=t.nextSibling}No=null}}else No=ko?Ti(t.stateNode.nextSibling):null;return!0}function Uo(){No=ko=null,Oo=!1}var jo=G.ReactCurrentOwner,Vo=!1;function Wo(t,e,i,n){e.child=null===t?Ps(e,null,i,n):ks(e,t.child,i,n)}function $o(t,e,i,n,r){i=i.render;var s=e.ref;return ls(e,r),n=qs(t,e,i,n,s,r),null===t||Vo?(e.effectTag|=1,Wo(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ll(t,e,r))}function Yo(t,e,i,n,r,s){if(null===t){var o=i.type;return"function"!==typeof o||Ja(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Ga(i.type,null,n,null,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ko(t,e,o,n,r,s))}return o=t.child,r<s&&(r=o.memoizedProps,(i=null!==(i=i.compare)?i:$n)(r,n)&&t.ref===e.ref)?ll(t,e,s):(e.effectTag|=1,(t=Qa(o,n)).ref=e.ref,t.return=e,e.child=t)}function Ko(t,e,i,n,r,s){return null!==t&&$n(t.memoizedProps,n)&&t.ref===e.ref&&(Vo=!1,r<s)?(e.expirationTime=t.expirationTime,ll(t,e,s)):Jo(t,e,i,n,s)}function Ho(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.effectTag|=128)}function Jo(t,e,i,n,r){var s=wr(i)?br:yr.current;return s=vr(e,s),ls(e,r),i=qs(t,e,i,n,s,r),null===t||Vo?(e.effectTag|=1,Wo(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),ll(t,e,r))}function Qo(t,e,i,n,r){if(wr(i)){var s=!0;Mr(e)}else s=!1;if(ls(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ss(e,i,n),Ms(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=as(h):h=vr(e,h=wr(i)?br:yr.current);var u=i.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==h)&&xs(e,o,n,h),hs=!1;var d=e.memoizedState;o.state=d,ms(e,n,o,r),a=e.memoizedState,l!==n||d!==a||gr.current||hs?("function"===typeof u&&(vs(e,i,u,n),a=e.memoizedState),(l=hs||_s(e,i,l,n,d,a,h))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=h,n=l):("function"===typeof o.componentDidMount&&(e.effectTag|=4),n=!1)}else o=e.stateNode,cs(t,e),l=e.memoizedProps,o.props=e.type===e.elementType?l:Zr(e.type,l),a=o.context,"object"===typeof(h=i.contextType)&&null!==h?h=as(h):h=vr(e,h=wr(i)?br:yr.current),(c="function"===typeof(u=i.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==h)&&xs(e,o,n,h),hs=!1,a=e.memoizedState,o.state=a,ms(e,n,o,r),d=e.memoizedState,l!==n||a!==d||gr.current||hs?("function"===typeof u&&(vs(e,i,u,n),d=e.memoizedState),(u=hs||_s(e,i,l,n,a,d,h))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,h),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,h)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=h,n=u):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&a===t.memoizedState||(e.effectTag|=256),n=!1);return Go(t,e,i,n,s,r)}function Go(t,e,i,n,r,s){Ho(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return r&&Tr(e,i,!1),ll(t,e,s);n=e.stateNode,jo.current=e;var l=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&o?(e.child=ks(e,t.child,null,s),e.child=ks(e,null,l,s)):Wo(t,e,l,s),e.memoizedState=n.state,r&&Tr(e,i,!0),e.child}function Xo(t){var e=t.stateNode;e.pendingContext?Sr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Sr(0,e.context,!1),Ls(t,e.containerInfo)}var qo,Zo,tl,el,il={dehydrated:null,retryTime:0};function nl(t,e,i){var n,r=e.mode,s=e.pendingProps,o=Us.current,l=!1;if((n=0!==(64&e.effectTag))||(n=0!==(2&o)&&(null===t||null!==t.memoizedState)),n?(l=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(o|=1),pr(Us,1&o),null===t){if(void 0!==s.fallback&&Lo(e),l){if(l=s.fallback,(s=Xa(null,r,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Xa(l,r,i,null)).return=e,s.sibling=i,e.memoizedState=il,e.child=s,i}return r=s.children,e.memoizedState=null,e.child=Ps(e,null,r,i)}if(null!==t.memoizedState){if(r=(t=t.child).sibling,l){if(s=s.fallback,(i=Qa(t,t.pendingProps)).return=e,0===(2&e.mode)&&(l=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(i.child=l;null!==l;)l.return=i,l=l.sibling;return(r=Qa(r,s)).return=e,i.sibling=r,i.childExpirationTime=0,e.memoizedState=il,e.child=i,r}return i=ks(e,t.child,s.children,i),e.memoizedState=null,e.child=i}if(t=t.child,l){if(l=s.fallback,(s=Xa(null,r,0,null)).return=e,s.child=t,null!==t&&(t.return=s),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,s.child=t;null!==t;)t.return=s,t=t.sibling;return(i=Xa(l,r,i,null)).return=e,s.sibling=i,i.effectTag|=2,s.childExpirationTime=0,e.memoizedState=il,e.child=s,i}return e.memoizedState=null,e.child=ks(e,t,s.children,i)}function rl(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e),os(t.return,e)}function sl(t,e,i,n,r,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=i,o.tailExpiration=0,o.tailMode=r,o.lastEffect=s)}function ol(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Wo(t,e,n.children,i),0!==(2&(n=Us.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&rl(t,i);else if(19===t.tag)rl(t,i);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pr(Us,n),0===(2&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===js(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),sl(e,!1,r,i,s,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===js(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}sl(e,!0,i,null,s,e.lastEffect);break;case"together":sl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ll(t,e,i){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&ka(n),e.childExpirationTime<i)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(i=Qa(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Qa(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function al(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hl(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wr(e.type)&&_r(),null;case 3:return Ds(),fr(gr),fr(yr),(i=e.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||!Ro(e)||(e.effectTag|=4),Zo(e),null;case 5:zs(e),i=Fs(As.current);var s=e.type;if(null!==t&&null!=e.stateNode)tl(t,e,s,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=Fs(Os.current),Ro(e)){n=e.stateNode,s=e.type;var l=e.memoizedProps;switch(n[Ci]=e,n[ki]=l,s){case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(t=0;t<Gt.length;t++)He(Gt[t],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"form":He("reset",n),He("submit",n);break;case"details":He("toggle",n);break;case"input":xt(n,l),He("invalid",n),li(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},He("invalid",n),li(i,"onChange");break;case"textarea":Nt(n,l),He("invalid",n),li(i,"onChange")}for(var a in ri(s,l),t=null,l)if(l.hasOwnProperty(a)){var h=l[a];"children"===a?"string"===typeof h?n.textContent!==h&&(t=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(t=["children",""+h]):M.hasOwnProperty(a)&&null!=h&&li(i,a)}switch(s){case"input":wt(n),It(n,l,!0);break;case"textarea":wt(n),Bt(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=ai)}i=t,e.updateQueue=i,null!==i&&(e.effectTag|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,t===oi&&(t=Lt(s)),t===oi?"script"===s?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=a.createElement(s,{is:n.is}):(t=a.createElement(s),"select"===s&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,s),t[Ci]=e,t[ki]=n,qo(t,e,!1,!1),e.stateNode=t,a=si(s,n),s){case"iframe":case"object":case"embed":He("load",t),h=n;break;case"video":case"audio":for(h=0;h<Gt.length;h++)He(Gt[h],t);h=n;break;case"source":He("error",t),h=n;break;case"img":case"image":case"link":He("error",t),He("load",t),h=n;break;case"form":He("reset",t),He("submit",t),h=n;break;case"details":He("toggle",t),h=n;break;case"input":xt(t,n),h=St(t,n),He("invalid",t),li(i,"onChange");break;case"option":h=Ct(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},h=r({},n,{value:void 0}),He("invalid",t),li(i,"onChange");break;case"textarea":Nt(t,n),h=Pt(t,n),He("invalid",t),li(i,"onChange");break;default:h=n}ri(s,h);var u=h;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ii(t,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&zt(t,c):"children"===l?"string"===typeof c?("textarea"!==s||""!==c)&&Ut(t,c):"number"===typeof c&&Ut(t,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(M.hasOwnProperty(l)?null!=c&&li(i,l):null!=c&&X(t,l,c,a))}switch(s){case"input":wt(t),It(t,n,!1);break;case"textarea":wt(t),Bt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+bt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(i=n.value)?kt(t,!!n.multiple,i,!1):null!=n.defaultValue&&kt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof h.onClick&&(t.onclick=ai)}_i(s,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)el(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));i=Fs(As.current),Fs(Os.current),Ro(e)?(i=e.stateNode,n=e.memoizedProps,i[Ci]=e,i.nodeValue!==n&&(e.effectTag|=4)):((i=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Ci]=e,e.stateNode=i)}return null;case 13:return fr(Us),n=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=i,e):(i=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ro(e):(n=null!==(s=t.memoizedState),i||null===s||null!==(s=t.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=s,s.nextEffect=l):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Us.current)?Ql===zl&&(Ql=Vl):(Ql!==zl&&Ql!==Vl||(Ql=Wl),0!==ta&&null!==Kl&&(ih(Kl,Jl),nh(Kl,ta)))),(i||n)&&(e.effectTag|=4),null);case 4:return Ds(),Zo(e),null;case 10:return ss(e),null;case 19:if(fr(Us),null===(n=e.memoizedState))return null;if(s=0!==(64&e.effectTag),null===(l=n.rendering)){if(s)al(n,!1);else if(Ql!==zl||null!==t&&0!==(64&t.effectTag))for(l=e.child;null!==l;){if(null!==(t=js(l))){for(e.effectTag|=64,al(n,!1),null!==(s=t.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)l=i,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(t=s.alternate)?(s.childExpirationTime=0,s.expirationTime=l,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=t.childExpirationTime,s.expirationTime=t.expirationTime,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,l=t.dependencies,s.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),n=n.sibling;return pr(Us,1&Us.current|2),e.child}l=l.sibling}}else{if(!s)if(null!==(t=js(l))){if(e.effectTag|=64,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),al(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*$r()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,s=!0,al(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=n.last)?i.sibling=l:e.child=l,n.last=l)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=$r()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=$r(),i.sibling=null,e=Us.current,pr(Us,s?1&e|2:1&e),i):null}throw Error(o(156,e.tag))}function ul(t){switch(t.tag){case 1:wr(t.type)&&_r();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ds(),fr(gr),fr(yr),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return zs(t),null;case 13:return fr(Us),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return fr(Us),null;case 4:return Ds(),null;case 10:return ss(t),null;default:return null}}function cl(t,e){return{value:t,source:e,stack:gt(e)}}qo=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Zo=function(){},tl=function(t,e,i,n,s){var o=t.memoizedProps;if(o!==n){var l,a,h=e.stateNode;switch(Fs(Os.current),t=null,i){case"input":o=St(h,o),n=St(h,n),t=[];break;case"option":o=Ct(h,o),n=Ct(h,n),t=[];break;case"select":o=r({},o,{value:void 0}),n=r({},n,{value:void 0}),t=[];break;case"textarea":o=Pt(h,o),n=Pt(h,n),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(h.onclick=ai)}for(l in ri(i,n),i=null,o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l)for(a in h=o[l])h.hasOwnProperty(a)&&(i||(i={}),i[a]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(M.hasOwnProperty(l)?t||(t=[]):(t=t||[]).push(l,null));for(l in n){var u=n[l];if(h=null!=o?o[l]:void 0,n.hasOwnProperty(l)&&u!==h&&(null!=u||null!=h))if("style"===l)if(h){for(a in h)!h.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in u)u.hasOwnProperty(a)&&h[a]!==u[a]&&(i||(i={}),i[a]=u[a])}else i||(t||(t=[]),t.push(l,i)),i=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,h=h?h.__html:void 0,null!=u&&h!==u&&(t=t||[]).push(l,u)):"children"===l?h===u||"string"!==typeof u&&"number"!==typeof u||(t=t||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(M.hasOwnProperty(l)?(null!=u&&li(s,l),t||h===u||(t=[])):(t=t||[]).push(l,u))}i&&(t=t||[]).push("style",i),s=t,(e.updateQueue=s)&&(e.effectTag|=4)}},el=function(t,e,i,n){i!==n&&(e.effectTag|=4)};var dl="function"===typeof WeakSet?WeakSet:Set;function fl(t,e){var i=e.source,n=e.stack;null===n&&null!==i&&(n=gt(i)),null!==i&&yt(i.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(yo){setTimeout((function(){throw yo}))}}function pl(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(To){ja(t,To)}else e.current=null}function ml(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&e.effectTag&&null!==t){var i=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?i:Zr(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return}throw Error(o(163))}function yl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,void 0!==n&&n()}i=i.next}while(i!==e)}}function gl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function bl(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:return void gl(3,i);case 1:if(t=i.stateNode,4&i.effectTag)if(null===e)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:Zr(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=i.updateQueue)&&ys(i,e,t));case 3:if(null!==(e=i.updateQueue)){if(t=null,null!==i.child)switch(i.child.tag){case 5:case 1:t=i.child.stateNode}ys(i,e,t)}return;case 5:return t=i.stateNode,void(null===e&&4&i.effectTag&&_i(i.type,i.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Le(i)))))}throw Error(o(163))}function vl(t,e,i){switch("function"===typeof Ya&&Ya(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Hr(97<i?97:i,(function(){var t=n;do{var i=t.destroy;if(void 0!==i){var r=e;try{i()}catch(bo){ja(r,bo)}}t=t.next}while(t!==n)}))}break;case 1:pl(e),"function"===typeof(i=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){ja(t,i)}}(e,i);break;case 5:pl(e);break;case 4:Tl(t,e,i)}}function wl(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&wl(e)}function _l(t){return 5===t.tag||3===t.tag||4===t.tag}function Sl(t){t:{for(var e=t.return;null!==e;){if(_l(e)){var i=e;break t}e=e.return}throw Error(o(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&i.effectTag&&(Ut(e,""),i.effectTag&=-17);t:e:for(i=t;;){for(;null===i.sibling;){if(null===i.return||_l(i.return)){i=null;break t}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue e;if(null===i.child||4===i.tag)continue e;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break t}}n?xl(t,i,e):Ml(t,i,e)}function xl(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=ai));else if(4!==n&&null!==(t=t.child))for(xl(t,e,i),t=t.sibling;null!==t;)xl(t,e,i),t=t.sibling}function Ml(t,e,i){var n=t.tag,r=5===n||6===n;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(Ml(t,e,i),t=t.sibling;null!==t;)Ml(t,e,i),t=t.sibling}function Tl(t,e,i){for(var n,r,s=e,l=!1;;){if(!l){l=s.return;t:for(;;){if(null===l)throw Error(o(160));switch(n=l.stateNode,l.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}l=l.return}l=!0}if(5===s.tag||6===s.tag){t:for(var a=t,h=s,u=i,c=h;;)if(vl(a,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===h)break t;for(;null===c.sibling;){if(null===c.return||c.return===h)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,h=s.stateNode,8===a.nodeType?a.parentNode.removeChild(h):a.removeChild(h)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(vl(t,s,i),null!==s.child){s.child.return=s,s=s.child;continue}if(s===e)break;for(;null===s.sibling;){if(null===s.return||s.return===e)return;4===(s=s.return).tag&&(l=!1)}s.sibling.return=s.return,s=s.sibling}}function Il(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void yl(3,e);case 1:case 12:case 17:return;case 5:var i=e.stateNode;if(null!=i){var n=e.memoizedProps,r=null!==t?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(i[ki]=n,"input"===t&&"radio"===n.type&&null!=n.name&&Mt(i,n),si(t,r),e=si(t,n),r=0;r<s.length;r+=2){var l=s[r],a=s[r+1];"style"===l?ii(i,a):"dangerouslySetInnerHTML"===l?zt(i,a):"children"===l?Ut(i,a):X(i,l,a,e)}switch(t){case"input":Tt(i,n);break;case"textarea":Ot(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?kt(i,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?kt(i,!!n.multiple,n.defaultValue,!0):kt(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 13:if(i=e,null===e.memoizedState?n=!1:(n=!0,i=e.child,ia=$r()),null!==i)t:for(t=i;;){if(5===t.tag)s=t.stateNode,n?"function"===typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=t.stateNode,r=void 0!==(r=t.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,s.style.display=ei("display",r));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(s=t.child.sibling).return=t,t=s;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===i)break;for(;null===t.sibling;){if(null===t.return||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void El(e);case 19:return void El(e)}throw Error(o(163))}function El(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new dl),e.forEach((function(e){var n=Wa.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))}))}}var Cl="function"===typeof WeakMap?WeakMap:Map;function kl(t,e,i){(i=ds(i,null)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){sa||(sa=!0,oa=n),fl(t,e)},i}function Pl(t,e,i){(i=ds(i,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return fl(t,e),n(r)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===la?la=new Set([this]):la.add(this),fl(t,e));var i=e.stack;this.componentDidCatch(e.value,{componentStack:null!==i?i:""})}),i}var Nl,Ol=Math.ceil,Bl=G.ReactCurrentDispatcher,Al=G.ReactCurrentOwner,Fl=0,Ll=8,Dl=16,Rl=32,zl=0,Ul=1,jl=2,Vl=3,Wl=4,$l=5,Yl=Fl,Kl=null,Hl=null,Jl=0,Ql=zl,Gl=null,Xl=1073741823,ql=1073741823,Zl=null,ta=0,ea=!1,ia=0,na=500,ra=null,sa=!1,oa=null,la=null,aa=!1,ha=null,ua=90,ca=null,da=0,fa=null,pa=0;function ma(){return(Yl&(Dl|Rl))!==Fl?1073741821-($r()/10|0):0!==pa?pa:pa=1073741821-($r()/10|0)}function ya(t,e,i){if(0===(2&(e=e.mode)))return 1073741823;var n=Yr();if(0===(4&e))return 99===n?1073741823:1073741822;if((Yl&Dl)!==Fl)return Jl;if(null!==i)t=qr(t,0|i.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=qr(t,150,100);break;case 97:case 96:t=qr(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Kl&&t===Jl&&--t,t}function ga(t,e){if(50<da)throw da=0,fa=null,Error(o(185));if(null!==(t=ba(t,e))){var i=Yr();1073741823===e?(Yl&Ll)!==Fl&&(Yl&(Dl|Rl))===Fl?Sa(t):(wa(t),Yl===Fl&&Gr()):wa(t),(4&Yl)===Fl||98!==i&&99!==i||(null===ca?ca=new Map([[t,e]]):(void 0===(i=ca.get(t))||i>e)&&ca.set(t,e))}}function ba(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;null!==i&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(null===n&&3===t.tag)r=t.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==i&&i.childExpirationTime<e&&(i.childExpirationTime=e),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(Kl===r&&(ka(e),Ql===Wl&&ih(r,Jl)),nh(r,e)),r}function va(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!eh(t,e=t.firstPendingTime))return e;var i=t.lastPingedTime;return 2>=(t=i>(t=t.nextKnownPendingLevel)?i:t)&&e!==t?0:t}function wa(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Qr(Sa.bind(null,t));else{var e=va(t),i=t.callbackNode;if(0===e)null!==i&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=ma();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==i){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==Dr&&Cr(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Qr(Sa.bind(null,t)):Jr(n,_a.bind(null,t),{timeout:10*(1073741821-e)-$r()}),t.callbackNode=e}}}function _a(t,e){if(pa=0,e)return rh(t,e=ma()),wa(t),null;var i=va(t);if(0!==i){if(e=t.callbackNode,(Yl&(Dl|Rl))!==Fl)throw Error(o(327));if(Ra(),t===Kl&&i===Jl||Ta(t,i),null!==Hl){var n=Yl;Yl|=Dl;for(var r=Ea();;)try{Na();break}catch(bo){Ia(t,bo)}if(rs(),Yl=n,Bl.current=r,Ql===Ul)throw e=Gl,Ta(t,i),ih(t,i),wa(t),e;if(null===Hl)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Ql,Kl=null,n){case zl:case Ul:throw Error(o(345));case jl:rh(t,2<i?2:i);break;case Vl:if(ih(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Aa(r)),1073741823===Xl&&10<(r=ia+na-$r())){if(ea){var s=t.lastPingedTime;if(0===s||s>=i){t.lastPingedTime=i,Ta(t,i);break}}if(0!==(s=va(t))&&s!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=xi(Fa.bind(null,t),r);break}Fa(t);break;case Wl:if(ih(t,i),i===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=Aa(r)),ea&&(0===(r=t.lastPingedTime)||r>=i)){t.lastPingedTime=i,Ta(t,i);break}if(0!==(r=va(t))&&r!==i)break;if(0!==n&&n!==i){t.lastPingedTime=n;break}if(1073741823!==ql?n=10*(1073741821-ql)-$r():1073741823===Xl?n=0:(n=10*(1073741821-Xl)-5e3,0>(n=(r=$r())-n)&&(n=0),(i=10*(1073741821-i)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ol(n/1960))-n)&&(n=i)),10<n){t.timeoutHandle=xi(Fa.bind(null,t),n);break}Fa(t);break;case $l:if(1073741823!==Xl&&null!==Zl){s=Xl;var l=Zl;if(0>=(n=0|l.busyMinDurationMs)?n=0:(r=0|l.busyDelayMs,n=(s=$r()-(10*(1073741821-s)-(0|l.timeoutMs||5e3)))<=r?0:r+n-s),10<n){ih(t,i),t.timeoutHandle=xi(Fa.bind(null,t),n);break}}Fa(t);break;default:throw Error(o(329))}if(wa(t),t.callbackNode===e)return _a.bind(null,t)}}return null}function Sa(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Yl&(Dl|Rl))!==Fl)throw Error(o(327));if(Ra(),t===Kl&&e===Jl||Ta(t,e),null!==Hl){var i=Yl;Yl|=Dl;for(var n=Ea();;)try{Pa();break}catch(yo){Ia(t,yo)}if(rs(),Yl=i,Bl.current=n,Ql===Ul)throw i=Gl,Ta(t,e),ih(t,e),wa(t),i;if(null!==Hl)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Kl=null,Fa(t),wa(t)}return null}function xa(t,e){var i=Yl;Yl|=1;try{return t(e)}finally{(Yl=i)===Fl&&Gr()}}function Ma(t,e){var i=Yl;Yl&=-2,Yl|=Ll;try{return t(e)}finally{(Yl=i)===Fl&&Gr()}}function Ta(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,Mi(i)),null!==Hl)for(i=Hl.return;null!==i;){var n=i;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&_r();break;case 3:Ds(),fr(gr),fr(yr);break;case 5:zs(n);break;case 4:Ds();break;case 13:case 19:fr(Us);break;case 10:ss(n)}i=i.return}Kl=t,Hl=Qa(t.current,null),Jl=e,Ql=zl,Gl=null,ql=Xl=1073741823,Zl=null,ta=0,ea=!1}function Ia(t,e){for(;;){try{if(rs(),Ws.current=xo,Qs)for(var i=Ks.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}if(Ys=0,Js=Hs=Ks=null,Qs=!1,null===Hl||null===Hl.return)return Ql=Ul,Gl=e,Hl=null;t:{var r=t,s=Hl.return,o=Hl,l=e;if(e=Jl,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var a=l;if(0===(2&o.mode)){var h=o.alternate;h?(o.updateQueue=h.updateQueue,o.memoizedState=h.memoizedState,o.expirationTime=h.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Us.current),c=s;do{var d;if(d=13===c.tag){var f=c.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=c.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=c.updateQueue;if(null===m){var y=new Set;y.add(a),c.updateQueue=y}else m.add(a);if(0===(2&c.mode)){if(c.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=ds(1073741823,null);g.tag=2,fs(o,g)}o.expirationTime=1073741823;break t}l=void 0,o=e;var b=r.pingCache;if(null===b?(b=r.pingCache=new Cl,l=new Set,b.set(a,l)):void 0===(l=b.get(a))&&(l=new Set,b.set(a,l)),!l.has(o)){l.add(o);var v=Va.bind(null,r,a,o);a.then(v,v)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);l=Error((yt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(o))}Ql!==$l&&(Ql=jl),l=cl(l,o),c=s;do{switch(c.tag){case 3:a=l,c.effectTag|=4096,c.expirationTime=e,ps(c,kl(c,a,e));break t;case 1:a=l;var w=c.type,_=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===la||!la.has(_)))){c.effectTag|=4096,c.expirationTime=e,ps(c,Pl(c,a,e));break t}}c=c.return}while(null!==c)}Hl=Ba(Hl)}catch(S){e=S;continue}break}}function Ea(){var t=Bl.current;return Bl.current=xo,null===t?xo:t}function Ca(t,e){t<Xl&&2<t&&(Xl=t),null!==e&&t<ql&&2<t&&(ql=t,Zl=e)}function ka(t){t>ta&&(ta=t)}function Pa(){for(;null!==Hl;)Hl=Oa(Hl)}function Na(){for(;null!==Hl&&!Rr();)Hl=Oa(Hl)}function Oa(t){var e=Nl(t.alternate,t,Jl);return t.memoizedProps=t.pendingProps,null===e&&(e=Ba(t)),Al.current=null,e}function Ba(t){Hl=t;do{var e=Hl.alternate;if(t=Hl.return,0===(2048&Hl.effectTag)){if(e=hl(e,Hl,Jl),1===Jl||1!==Hl.childExpirationTime){for(var i=0,n=Hl.child;null!==n;){var r=n.expirationTime,s=n.childExpirationTime;r>i&&(i=r),s>i&&(i=s),n=n.sibling}Hl.childExpirationTime=i}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Hl.firstEffect),null!==Hl.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Hl.firstEffect),t.lastEffect=Hl.lastEffect),1<Hl.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Hl:t.firstEffect=Hl,t.lastEffect=Hl))}else{if(null!==(e=ul(Hl)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Hl.sibling))return e;Hl=t}while(null!==Hl);return Ql===zl&&(Ql=$l),null}function Aa(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Fa(t){var e=Yr();return Hr(99,La.bind(null,t,e)),null}function La(t,e){do{Ra()}while(null!==ha);if((Yl&(Dl|Rl))!==Fl)throw Error(o(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(null===i)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=Aa(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Kl&&(Hl=Kl=null,Jl=0),1<i.effectTag?null!==i.lastEffect?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,null!==r){var s=Yl;Yl|=Rl,Al.current=null,vi=Ke;var l=fi();if(pi(l)){if("selectionStart"in l)var a={start:l.selectionStart,end:l.selectionEnd};else t:{var h=(a=(a=l.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(h&&0!==h.rangeCount){a=h.anchorNode;var u=h.anchorOffset,c=h.focusNode;h=h.focusOffset;try{a.nodeType,c.nodeType}catch(I){a=null;break t}var d=0,f=-1,p=-1,m=0,y=0,g=l,b=null;e:for(;;){for(var v;g!==a||0!==u&&3!==g.nodeType||(f=d+u),g!==c||0!==h&&3!==g.nodeType||(p=d+h),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)b=g,g=v;for(;;){if(g===l)break e;if(b===a&&++m===u&&(f=d),b===c&&++y===h&&(p=d),null!==(v=g.nextSibling))break;b=(g=b).parentNode}g=v}a=-1===f||-1===p?null:{start:f,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;wi={activeElementDetached:null,focusedElem:l,selectionRange:a},Ke=!1,ra=r;do{try{Da()}catch(I){if(null===ra)throw Error(o(330));ja(ra,I),ra=ra.nextEffect}}while(null!==ra);ra=r;do{try{for(l=t,a=e;null!==ra;){var w=ra.effectTag;if(16&w&&Ut(ra.stateNode,""),128&w){var _=ra.alternate;if(null!==_){var S=_.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&w){case 2:Sl(ra),ra.effectTag&=-3;break;case 6:Sl(ra),ra.effectTag&=-3,Il(ra.alternate,ra);break;case 1024:ra.effectTag&=-1025;break;case 1028:ra.effectTag&=-1025,Il(ra.alternate,ra);break;case 4:Il(ra.alternate,ra);break;case 8:Tl(l,u=ra,a),wl(u)}ra=ra.nextEffect}}catch(I){if(null===ra)throw Error(o(330));ja(ra,I),ra=ra.nextEffect}}while(null!==ra);if(S=wi,_=fi(),w=S.focusedElem,a=S.selectionRange,_!==w&&w&&w.ownerDocument&&di(w.ownerDocument.documentElement,w)){null!==a&&pi(w)&&(_=a.start,void 0===(S=a.end)&&(S=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(S,w.value.length)):(S=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(S=S.getSelection(),u=w.textContent.length,l=Math.min(a.start,u),a=void 0===a.end?l:Math.min(a.end,u),!S.extend&&l>a&&(u=a,a=l,l=u),u=ci(w,l),c=ci(w,a),u&&c&&(1!==S.rangeCount||S.anchorNode!==u.node||S.anchorOffset!==u.offset||S.focusNode!==c.node||S.focusOffset!==c.offset)&&((_=_.createRange()).setStart(u.node,u.offset),S.removeAllRanges(),l>a?(S.addRange(_),S.extend(c.node,c.offset)):(_.setEnd(c.node,c.offset),S.addRange(_))))),_=[];for(S=w;S=S.parentNode;)1===S.nodeType&&_.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(S=_[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Ke=!!vi,wi=vi=null,t.current=i,ra=r;do{try{for(w=t;null!==ra;){var x=ra.effectTag;if(36&x&&bl(w,ra.alternate,ra),128&x){_=void 0;var M=ra.ref;if(null!==M){var T=ra.stateNode;ra.tag,_=T,"function"===typeof M?M(_):M.current=_}}ra=ra.nextEffect}}catch(I){if(null===ra)throw Error(o(330));ja(ra,I),ra=ra.nextEffect}}while(null!==ra);ra=null,zr(),Yl=s}else t.current=i;if(aa)aa=!1,ha=t,ua=e;else for(ra=r;null!==ra;)e=ra.nextEffect,ra.nextEffect=null,ra=e;if(0===(e=t.firstPendingTime)&&(la=null),1073741823===e?t===fa?da++:(da=0,fa=t):da=0,"function"===typeof $a&&$a(i.stateNode,n),wa(t),sa)throw sa=!1,t=oa,oa=null,t;return(Yl&Ll)!==Fl||Gr(),null}function Da(){for(;null!==ra;){var t=ra.effectTag;0!==(256&t)&&ml(ra.alternate,ra),0===(512&t)||aa||(aa=!0,Jr(97,(function(){return Ra(),null}))),ra=ra.nextEffect}}function Ra(){if(90!==ua){var t=97<ua?97:ua;return ua=90,Hr(t,za)}}function za(){if(null===ha)return!1;var t=ha;if(ha=null,(Yl&(Dl|Rl))!==Fl)throw Error(o(331));var e=Yl;for(Yl|=Rl,t=t.current.firstEffect;null!==t;){try{var i=t;if(0!==(512&i.effectTag))switch(i.tag){case 0:case 11:case 15:case 22:yl(5,i),gl(5,i)}}catch(Io){if(null===t)throw Error(o(330));ja(t,Io)}i=t.nextEffect,t.nextEffect=null,t=i}return Yl=e,Gr(),!0}function Ua(t,e,i){fs(t,e=kl(t,e=cl(i,e),1073741823)),null!==(t=ba(t,1073741823))&&wa(t)}function ja(t,e){if(3===t.tag)Ua(t,t,e);else for(var i=t.return;null!==i;){if(3===i.tag){Ua(i,t,e);break}if(1===i.tag){var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===la||!la.has(n))){fs(i,t=Pl(i,t=cl(e,t),1073741823)),null!==(i=ba(i,1073741823))&&wa(i);break}}i=i.return}}function Va(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),Kl===t&&Jl===i?Ql===Wl||Ql===Vl&&1073741823===Xl&&$r()-ia<na?Ta(t,Jl):ea=!0:eh(t,i)&&(0!==(e=t.lastPingedTime)&&e<i||(t.lastPingedTime=i,wa(t)))}function Wa(t,e){var i=t.stateNode;null!==i&&i.delete(e),0===(e=0)&&(e=ya(e=ma(),t,null)),null!==(t=ba(t,e))&&wa(t)}Nl=function(t,e,i){var n=e.expirationTime;if(null!==t){var r=e.pendingProps;if(t.memoizedProps!==r||gr.current)Vo=!0;else{if(n<i){switch(Vo=!1,e.tag){case 3:Xo(e),Uo();break;case 5:if(Rs(e),4&e.mode&&1!==i&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:wr(e.type)&&Mr(e);break;case 4:Ls(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,pr(ts,r._currentValue),r._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=i?nl(t,e,i):(pr(Us,1&Us.current),null!==(e=ll(t,e,i))?e.sibling:null);pr(Us,1&Us.current);break;case 19:if(n=e.childExpirationTime>=i,0!==(64&t.effectTag)){if(n)return ol(t,e,i);e.effectTag|=64}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null),pr(Us,Us.current),!n)return null}return ll(t,e,i)}Vo=!1}}else Vo=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=vr(e,yr.current),ls(e,i),r=qs(null,e,n,t,r,i),e.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(n)){var s=!0;Mr(e)}else s=!1;e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,us(e);var l=n.getDerivedStateFromProps;"function"===typeof l&&vs(e,n,l,t),r.updater=ws,e.stateNode=r,r._reactInternalFiber=e,Ms(e,n,t,i),e=Go(null,e,n,!0,s,i)}else e.tag=0,Wo(null,e,r,i),e=e.child;return e;case 16:t:{if(r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,e.type=r,s=e.tag=function(t){if("function"===typeof t)return Ja(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===at)return 11;if(t===ct)return 14}return 2}(r),t=Zr(r,t),s){case 0:e=Jo(null,e,r,t,i);break t;case 1:e=Qo(null,e,r,t,i);break t;case 11:e=$o(null,e,r,t,i);break t;case 14:e=Yo(null,e,r,Zr(r.type,t),n,i);break t}throw Error(o(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,Jo(t,e,n,r=e.elementType===n?r:Zr(n,r),i);case 1:return n=e.type,r=e.pendingProps,Qo(t,e,n,r=e.elementType===n?r:Zr(n,r),i);case 3:if(Xo(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,r=null!==(r=e.memoizedState)?r.element:null,cs(t,e),ms(e,n,null,i),(n=e.memoizedState.element)===r)Uo(),e=ll(t,e,i);else{if((r=e.stateNode.hydrate)&&(No=Ti(e.stateNode.containerInfo.firstChild),ko=e,r=Oo=!0),r)for(i=Ps(e,null,n,i),e.child=i;i;)i.effectTag=-3&i.effectTag|1024,i=i.sibling;else Wo(t,e,n,i),Uo();e=e.child}return e;case 5:return Rs(e),null===t&&Lo(e),n=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,l=r.children,Si(n,r)?l=null:null!==s&&Si(n,s)&&(e.effectTag|=16),Ho(t,e),4&e.mode&&1!==i&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Wo(t,e,l,i),e=e.child),e;case 6:return null===t&&Lo(e),null;case 13:return nl(t,e,i);case 4:return Ls(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=ks(e,null,n,i):Wo(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,$o(t,e,n,r=e.elementType===n?r:Zr(n,r),i);case 7:return Wo(t,e,e.pendingProps,i),e.child;case 8:case 12:return Wo(t,e,e.pendingProps.children,i),e.child;case 10:t:{n=e.type._context,r=e.pendingProps,l=e.memoizedProps,s=r.value;var a=e.type._context;if(pr(ts,a._currentValue),a._currentValue=s,null!==l)if(a=l.value,0===(s=Vn(a,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(a,s):1073741823))){if(l.children===r.children&&!gr.current){e=ll(t,e,i);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var h=a.dependencies;if(null!==h){l=a.child;for(var u=h.firstContext;null!==u;){if(u.context===n&&0!==(u.observedBits&s)){1===a.tag&&((u=ds(i,null)).tag=2,fs(a,u)),a.expirationTime<i&&(a.expirationTime=i),null!==(u=a.alternate)&&u.expirationTime<i&&(u.expirationTime=i),os(a.return,i),h.expirationTime<i&&(h.expirationTime=i);break}u=u.next}}else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}Wo(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=(s=e.pendingProps).children,ls(e,i),n=n(r=as(r,s.unstable_observedBits)),e.effectTag|=1,Wo(t,e,n,i),e.child;case 14:return s=Zr(r=e.type,e.pendingProps),Yo(t,e,r,s=Zr(r.type,s),n,i);case 15:return Ko(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Zr(n,r),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,wr(n)?(t=!0,Mr(e)):t=!1,ls(e,i),Ss(e,n,r),Ms(e,n,r,i),Go(null,e,n,!0,t,i);case 19:return ol(t,e,i)}throw Error(o(156,e.tag))};var $a=null,Ya=null;function Ka(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ha(t,e,i,n){return new Ka(t,e,i,n)}function Ja(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Qa(t,e){var i=t.alternate;return null===i?((i=Ha(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ga(t,e,i,n,r,s){var l=2;if(n=t,"function"===typeof t)Ja(t)&&(l=1);else if("string"===typeof t)l=5;else t:switch(t){case it:return Xa(i.children,r,s,e);case lt:l=8,r|=7;break;case nt:l=8,r|=1;break;case rt:return(t=Ha(12,i,e,8|r)).elementType=rt,t.type=rt,t.expirationTime=s,t;case ht:return(t=Ha(13,i,e,r)).type=ht,t.elementType=ht,t.expirationTime=s,t;case ut:return(t=Ha(19,i,e,r)).elementType=ut,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case st:l=10;break t;case ot:l=9;break t;case at:l=11;break t;case ct:l=14;break t;case dt:l=16,n=null;break t;case ft:l=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Ha(l,i,e,r)).elementType=t,e.type=n,e.expirationTime=s,e}function Xa(t,e,i,n){return(t=Ha(7,t,n,e)).expirationTime=i,t}function qa(t,e,i){return(t=Ha(6,t,null,e)).expirationTime=i,t}function Za(t,e,i){return(e=Ha(4,null!==t.children?t.children:[],t.key,e)).expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function th(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function eh(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==i&&i>=e&&t<=e}function ih(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||0===i)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function nh(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;0!==i&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function rh(t,e){var i=t.lastExpiredTime;(0===i||i>e)&&(t.lastExpiredTime=e)}function sh(t,e,i,n){var r=e.current,s=ma(),l=gs.suspense;s=ya(s,r,l);t:if(i){e:{if(Zt(i=i._reactInternalFiber)!==i||1!==i.tag)throw Error(o(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);throw Error(o(171))}if(1===i.tag){var h=i.type;if(wr(h)){i=xr(i,h,a);break t}}i=a}else i=mr;return null===e.context?e.context=i:e.pendingContext=i,(e=ds(s,l)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),fs(r,e),ga(r,s),s}function oh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function lh(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ah(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function hh(t,e,i){var n=new th(t,e,i=null!=i&&!0===i.hydrate),r=Ha(3,null,null,2===e?7:1===e?3:0);n.current=r,r.stateNode=n,us(r),t[Pi]=n.current,i&&0!==e&&function(t,e){var i=qt(e);Ie.forEach((function(t){pe(t,e,i)})),Ee.forEach((function(t){pe(t,e,i)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function uh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ch(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s._internalRoot;if("function"===typeof r){var l=r;r=function(){var t=oh(o);l.call(t)}}sh(e,o,t,r)}else{if(s=i._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new hh(t,0,e?{hydrate:!0}:void 0)}(i,n),o=s._internalRoot,"function"===typeof r){var a=r;r=function(){var t=oh(o);a.call(t)}}Ma((function(){sh(e,o,t,r)}))}return oh(o)}function dh(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!uh(e))throw Error(o(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)}hh.prototype.render=function(t){sh(t,this._internalRoot,null,null)},hh.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;sh(null,t,null,(function(){e[Pi]=null}))},me=function(t){if(13===t.tag){var e=qr(ma(),150,100);ga(t,e),ah(t,e)}},ye=function(t){13===t.tag&&(ga(t,3),ah(t,3))},ge=function(t){if(13===t.tag){var e=ma();ga(t,e=ya(e,t,null)),ah(t,e)}},C=function(t,e,i){switch(e){case"input":if(Tt(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Ai(n);if(!r)throw Error(o(90));_t(n),Tt(n,r)}}}break;case"textarea":Ot(t,i);break;case"select":null!=(e=i.value)&&kt(t,!!i.multiple,e,!1)}},A=xa,F=function(t,e,i,n,r){var s=Yl;Yl|=4;try{return Hr(98,t.bind(null,e,i,n,r))}finally{(Yl=s)===Fl&&Gr()}},L=function(){(Yl&(1|Dl|Rl))===Fl&&(function(){if(null!==ca){var t=ca;ca=null,t.forEach((function(t,e){rh(e,t),wa(e)})),Gr()}}(),Ra())},D=function(t,e){var i=Yl;Yl|=2;try{return t(e)}finally{(Yl=i)===Fl&&Gr()}};var fh={Events:[Oi,Bi,Ai,I,x,ji,function(t){re(t,Ui)},O,B,Xe,le,Ra,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);$a=function(t){try{e.onCommitFiberRoot(i,t,void 0,64===(64&t.current.effectTag))}catch(yo){}},Ya=function(t){try{e.onCommitFiberUnmount(i,t)}catch(yo){}}}catch(Io){}})(r({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ni,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fh,e.createPortal=dh,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},e.flushSync=function(t,e){if((Yl&(Dl|Rl))!==Fl)throw Error(o(187));var i=Yl;Yl|=1;try{return Hr(99,t.bind(null,e))}finally{Yl=i,Gr()}},e.hydrate=function(t,e,i){if(!uh(e))throw Error(o(200));return ch(null,t,e,!0,i)},e.render=function(t,e,i){if(!uh(e))throw Error(o(200));return ch(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!uh(t))throw Error(o(40));return!!t._reactRootContainer&&(Ma((function(){ch(null,null,t,!1,(function(){t._reactRootContainer=null,t[Pi]=null}))})),!0)},e.unstable_batchedUpdates=xa,e.unstable_createPortal=function(t,e){return dh(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!uh(i))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return ch(t,e,i,!1,n)},e.version="16.14.0"},853:(t,e,i)=>{t.exports=i(234)},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n,r,s,o,l,a,h,u,c,d=i(43),f=i(950),p=i(219),m=i.n(p);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(n||(n={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(r||(r={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(s||(s={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(o||(o={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(l||(l={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(u||(u={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(c||(c={}));const[y,g]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[b,v]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[w,_]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),S=t=>"number"===typeof t,x=t=>"boolean"===typeof t,M=t=>"function"===typeof t,T=t=>null!=t&&Object(t)===t,I=t=>T(t)&&M(t.then),E=t=>T(t)&&M(t[Symbol.iterator]),C=t=>T(t)&&M(t[Symbol.asyncIterator]),k=t=>T(t)&&T(t.schema),P=t=>T(t)&&"done"in t&&"value"in t,N=t=>T(t)&&M(t.stat)&&S(t.fd),O=t=>T(t)&&A(t.body),B=t=>"_getDOMStream"in t&&"_getNodeStream"in t,A=t=>T(t)&&M(t.cancel)&&M(t.getReader)&&!B(t),F=t=>T(t)&&M(t.read)&&M(t.pipe)&&x(t.readable)&&!B(t);function L(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof b||t instanceof w?`[${[...t].map((t=>L(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"===typeof e?`${e}`:e))}function D(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{a(n.next(t))}catch(yo){s(yo)}}function l(t){try{a(n.throw(t))}catch(yo){s(yo)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,l)}a((n=n.apply(t,e||[])).next())}))}Object.create;function R(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(t){return this instanceof z?(this.v=t,this):new z(t)}function U(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(t){return function(e){return Promise.resolve(e).then(t,h)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){r[t]&&(n[t]=function(e){return new Promise((function(i,n){s.push([t,e,i,n])>1||l(t,e)}))},e&&(n[t]=e(n[t])))}function l(t,e){try{!function(t){t.value instanceof z?Promise.resolve(t.value.v).then(a,h):u(s[0][2],t)}(r[t](e))}catch(yo){u(s[0][3],yo)}}function a(t){l("next",t)}function h(t){l("throw",t)}function u(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function j(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:z(t[n](e)),done:!1}:r?r(e):e}:r}}function V(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=R(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,r){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,r,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const W=new TextDecoder("utf-8"),$=t=>W.decode(t),Y=new TextEncoder,K=t=>Y.encode(t),H="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function J(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function Q(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,l,a=0,h=0,u=t.length;++a<u;)o=e[h],l=t[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset?l&&(e[++h]=l):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=l),i+r<n||n+s<i?l&&(e[++h]=l):e[h]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce(((t,e)=>t+e.byteLength),0);let r,s,o,l=0,a=-1;const h=Math.min(e||Number.POSITIVE_INFINITY,n);for(const u=i.length;++a<u;){if(r=i[a],s=r.subarray(0,Math.min(r.length,h-l)),h<=l+s.length){s.length<r.length?i[a]=r.subarray(s.length):s.length===r.length&&a++,o?J(o,s,l):o=s;break}J(o||(o=new Uint8Array(h)),s,l),l+=s.length}return[o||new Uint8Array(0),i.slice(a),n-(o?o.byteLength:0)]}function G(t,e){let i=P(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=K(i)),i instanceof ArrayBuffer||i instanceof H?new t(i):(t=>T(t)&&M(t.clear)&&M(t.bytes)&&M(t.position)&&M(t.setPosition)&&M(t.capacity)&&M(t.getBufferIdentifier)&&M(t.createLong))(i)?G(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const X=t=>G(Int32Array,t),q=t=>G(Uint8Array,t),Z=t=>(t.next(),t);function*tt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):E(e)?e:i(e);return yield*Z(function*(e){let i=null;do{i=e.next(yield G(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function et(t,e){return U(this,arguments,(function*(){if(I(e))return yield z(yield z(yield*j(V(et(t,yield z(e))))));const i=function(t){return U(this,arguments,(function*(){yield yield z(yield z(t))}))},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):E(e)?function(t){return U(this,arguments,(function*(){yield z(yield*j(V(Z(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):C(e)?e:i(e);return yield z(yield*j(V(Z(function(e){return U(this,arguments,(function*(){let i=null;do{i=yield z(e.next(yield yield z(G(t,i))))}while(!i.done)}))}(n[Symbol.asyncIterator]()))))),yield z(new t)}))}function it(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const nt=Symbol.for("isArrowBigNum");function rt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(G(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function at(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new w(e,i,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let l=o?BigInt(1):BigInt(0),a=BigInt(0);if(o){for(const t of s)l+=~t*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const h of s)l+=h*(BigInt(1)<<BigInt(32)*a++);return l}let ht,ut;function ct(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}rt.prototype[nt]=!0,rt.prototype.toJSON=function(){return`"${ht(this)}"`},rt.prototype.valueOf=function(){return at(this)},rt.prototype.toString=function(){return ht(this)},rt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return at(this);case"string":return ht(this);case"default":return ut(this)}return ht(this)},Object.setPrototypeOf(st.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(ot.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lt.prototype,Object.create(Uint32Array.prototype)),Object.assign(st.prototype,rt.prototype,{constructor:st,signed:!0,TypedArray:Int32Array,BigIntArray:b}),Object.assign(ot.prototype,rt.prototype,{constructor:ot,signed:!1,TypedArray:Uint32Array,BigIntArray:w}),Object.assign(lt.prototype,rt.prototype,{constructor:lt,signed:!0,TypedArray:Uint32Array,BigIntArray:w}),g?(ut=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ct(t),ht=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:ct(t)):(ht=ct,ut=ht);class dt{static new(t,e){switch(e){case!0:return new st(t);case!1:return new ot(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case b:return new st(t)}return 16===t.byteLength?new lt(t):new ot(t)}static signed(t){return new st(t)}static unsigned(t){return new ot(t)}static decimal(t){return new lt(t)}constructor(t,e){return dt.new(t,e)}}var ft,pt,mt,yt,gt,bt,vt,wt,_t,St,xt,Mt,Tt,It,Et,Ct,kt,Pt,Nt,Ot;class Bt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===u.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===u.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===u.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===u.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===u.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===u.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===u.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===u.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===u.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===u.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===u.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===u.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===u.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===u.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Dictionary}static isDenseUnion(t){return Bt.isUnion(t)&&t.mode===r.Dense}static isSparseUnion(t){return Bt.isUnion(t)&&t.mode===r.Sparse}get typeId(){return u.NONE}}ft=Symbol.toStringTag,Bt[ft]=((Ot=Bt.prototype).children=null,Ot.ArrayType=Array,Ot[Symbol.toStringTag]="DataType");class At extends Bt{toString(){return"Null"}get typeId(){return u.Null}}pt=Symbol.toStringTag,At[pt]=(t=>t[Symbol.toStringTag]="Null")(At.prototype);class Ft extends Bt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return u.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?b:w}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}mt=Symbol.toStringTag,Ft[mt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ft.prototype);class Lt extends Ft{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Ft{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Lt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,64)}get ArrayType(){return b}}.prototype,"ArrayType",{value:b}),Object.defineProperty(class extends Ft{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,64)}get ArrayType(){return w}}.prototype,"ArrayType",{value:w});class Dt extends Bt{constructor(t){super(),this.precision=t}get typeId(){return u.Float}get ArrayType(){switch(this.precision){case s.HALF:return Uint16Array;case s.SINGLE:return Float32Array;case s.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}yt=Symbol.toStringTag,Dt[yt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Dt.prototype);Object.defineProperty(class extends Dt{constructor(){super(s.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Dt{constructor(){super(s.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Dt{constructor(){super(s.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Rt extends Bt{constructor(){super()}get typeId(){return u.Binary}toString(){return"Binary"}}gt=Symbol.toStringTag,Rt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Rt.prototype);class zt extends Bt{constructor(){super()}get typeId(){return u.Utf8}toString(){return"Utf8"}}bt=Symbol.toStringTag,zt[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(zt.prototype);class Ut extends Bt{constructor(){super()}get typeId(){return u.Bool}toString(){return"Bool"}}vt=Symbol.toStringTag,Ut[vt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Ut.prototype);class jt extends Bt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return u.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}wt=Symbol.toStringTag,jt[wt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(jt.prototype);class Vt extends Bt{constructor(t){super(),this.unit=t}get typeId(){return u.Date}toString(){return`Date${32*(this.unit+1)}<${o[this.unit]}>`}}_t=Symbol.toStringTag,Vt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Vt.prototype);class Wt extends Bt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return u.Time}toString(){return`Time${this.bitWidth}<${l[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return b}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}St=Symbol.toStringTag,Wt[St]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Wt.prototype);class $t extends Bt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return u.Timestamp}toString(){return`Timestamp<${l[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}xt=Symbol.toStringTag,$t[xt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))($t.prototype);class Yt extends Bt{constructor(t){super(),this.unit=t}get typeId(){return u.Interval}toString(){return`Interval<${a[this.unit]}>`}}Mt=Symbol.toStringTag,Yt[Mt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Yt.prototype);class Kt extends Bt{constructor(t){super(),this.children=[t]}get typeId(){return u.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}Tt=Symbol.toStringTag,Kt[Tt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Kt.prototype);class Ht extends Bt{constructor(t){super(),this.children=t}get typeId(){return u.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}It=Symbol.toStringTag,Ht[It]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Ht.prototype);class Jt extends Bt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return u.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}Et=Symbol.toStringTag,Jt[Et]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Jt.prototype);class Qt extends Bt{constructor(t){super(),this.byteWidth=t}get typeId(){return u.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Ct=Symbol.toStringTag,Qt[Ct]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Qt.prototype);class Gt extends Bt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return u.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}kt=Symbol.toStringTag,Gt[kt]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Gt.prototype);class Xt extends Bt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return u.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Pt=Symbol.toStringTag,Xt[Pt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Xt.prototype);const qt=(Zt=-1,()=>++Zt);var Zt;class te extends Bt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?qt():"number"===typeof i?i:i.low}get typeId(){return u.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function ee(t){const e=t;switch(t.typeId){case u.Decimal:return t.bitWidth/32;case u.Timestamp:return 2;case u.Date:case u.Interval:return 1+e.unit;case u.FixedSizeList:return e.listSize;case u.FixedSizeBinary:return e.byteWidth;default:return 1}}Nt=Symbol.toStringTag,te[Nt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(te.prototype);class ie{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ne(t,e,i);if("string"===typeof e&&e in u)return ne(t,u[e],i);if(e&&e instanceof Bt)return ne(t,re(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Bt)return ne(t,re(e.type),i);return ne(t,u.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ne(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ne(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case u.Null:n=t.visitNull;break;case u.Bool:n=t.visitBool;break;case u.Int:n=t.visitInt;break;case u.Int8:n=t.visitInt8||t.visitInt;break;case u.Int16:n=t.visitInt16||t.visitInt;break;case u.Int32:n=t.visitInt32||t.visitInt;break;case u.Int64:n=t.visitInt64||t.visitInt;break;case u.Uint8:n=t.visitUint8||t.visitInt;break;case u.Uint16:n=t.visitUint16||t.visitInt;break;case u.Uint32:n=t.visitUint32||t.visitInt;break;case u.Uint64:n=t.visitUint64||t.visitInt;break;case u.Float:n=t.visitFloat;break;case u.Float16:n=t.visitFloat16||t.visitFloat;break;case u.Float32:n=t.visitFloat32||t.visitFloat;break;case u.Float64:n=t.visitFloat64||t.visitFloat;break;case u.Utf8:n=t.visitUtf8;break;case u.Binary:n=t.visitBinary;break;case u.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case u.Date:n=t.visitDate;break;case u.DateDay:n=t.visitDateDay||t.visitDate;break;case u.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case u.Timestamp:n=t.visitTimestamp;break;case u.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case u.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case u.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case u.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case u.Time:n=t.visitTime;break;case u.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case u.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case u.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case u.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case u.Decimal:n=t.visitDecimal;break;case u.List:n=t.visitList;break;case u.Struct:n=t.visitStruct;break;case u.Union:n=t.visitUnion;break;case u.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case u.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case u.Dictionary:n=t.visitDictionary;break;case u.Interval:n=t.visitInterval;break;case u.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case u.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case u.FixedSizeList:n=t.visitFixedSizeList;break;case u.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${u[e]}'`)}function re(t){switch(t.typeId){case u.Null:return u.Null;case u.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?u.Int8:u.Uint8;case 16:return i?u.Int16:u.Uint16;case 32:return i?u.Int32:u.Uint32;case 64:return i?u.Int64:u.Uint64}return u.Int}case u.Float:switch(t.precision){case s.HALF:return u.Float16;case s.SINGLE:return u.Float32;case s.DOUBLE:return u.Float64}return u.Float;case u.Binary:return u.Binary;case u.Utf8:return u.Utf8;case u.Bool:return u.Bool;case u.Decimal:return u.Decimal;case u.Time:switch(t.unit){case l.SECOND:return u.TimeSecond;case l.MILLISECOND:return u.TimeMillisecond;case l.MICROSECOND:return u.TimeMicrosecond;case l.NANOSECOND:return u.TimeNanosecond}return u.Time;case u.Timestamp:switch(t.unit){case l.SECOND:return u.TimestampSecond;case l.MILLISECOND:return u.TimestampMillisecond;case l.MICROSECOND:return u.TimestampMicrosecond;case l.NANOSECOND:return u.TimestampNanosecond}return u.Timestamp;case u.Date:switch(t.unit){case o.DAY:return u.DateDay;case o.MILLISECOND:return u.DateMillisecond}return u.Date;case u.Interval:switch(t.unit){case a.DAY_TIME:return u.IntervalDayTime;case a.YEAR_MONTH:return u.IntervalYearMonth}return u.Interval;case u.Map:return u.Map;case u.List:return u.List;case u.Struct:return u.Struct;case u.Union:switch(t.mode){case r.Dense:return u.DenseUnion;case r.Sparse:return u.SparseUnion}return u.Union;case u.FixedSizeBinary:return u.FixedSizeBinary;case u.FixedSizeList:return u.FixedSizeList;case u.Dictionary:return u.Dictionary}throw new Error(`Unrecognized type '${u[t.typeId]}'`)}ie.prototype.visitInt8=null,ie.prototype.visitInt16=null,ie.prototype.visitInt32=null,ie.prototype.visitInt64=null,ie.prototype.visitUint8=null,ie.prototype.visitUint16=null,ie.prototype.visitUint32=null,ie.prototype.visitUint64=null,ie.prototype.visitFloat16=null,ie.prototype.visitFloat32=null,ie.prototype.visitFloat64=null,ie.prototype.visitDateDay=null,ie.prototype.visitDateMillisecond=null,ie.prototype.visitTimestampSecond=null,ie.prototype.visitTimestampMillisecond=null,ie.prototype.visitTimestampMicrosecond=null,ie.prototype.visitTimestampNanosecond=null,ie.prototype.visitTimeSecond=null,ie.prototype.visitTimeMillisecond=null,ie.prototype.visitTimeMicrosecond=null,ie.prototype.visitTimeNanosecond=null,ie.prototype.visitDenseUnion=null,ie.prototype.visitSparseUnion=null,ie.prototype.visitIntervalDayTime=null,ie.prototype.visitIntervalYearMonth=null;const se=new Float64Array(1),oe=new Uint32Array(se.buffer);function le(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class ae extends ie{}function he(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const ue=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},ce=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},de=(t,e,i)=>{let{values:n}=t;n[e]=i},fe=(t,e,i)=>{let{values:n}=t;n[e]=i},pe=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;se[0]=t;const e=(2147483648&oe[1])>>16&65535;let i=2146435072&oe[1],n=0;return i>=1089470464?oe[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&oe[1])>>10):i<=1056964608?(n=1048576+(1048575&oe[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&oe[1])>>10),e|i|65535&n}(i)},me=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},ye=(t,e,i)=>{let{values:n}=t;ue(n,2*e,i.valueOf())},ge=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i/1e3)},be=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i)},ve=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},we=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},Se=(t,e,i)=>{let{values:n}=t;n[e]=i},xe=(t,e,i)=>{let{values:n}=t;n[e]=i},Me=(t,e,i)=>{let{values:n}=t;n[e]=i},Te=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];ke.visit(r,t.valueOffsets[e],i)},Ie=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];ke.visit(r,e,i)},Ee=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Ce=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};ae.prototype.visitBool=he(((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)})),ae.prototype.visitInt=he(de),ae.prototype.visitInt8=he(de),ae.prototype.visitInt16=he(de),ae.prototype.visitInt32=he(de),ae.prototype.visitInt64=he(de),ae.prototype.visitUint8=he(de),ae.prototype.visitUint16=he(de),ae.prototype.visitUint32=he(de),ae.prototype.visitUint64=he(de),ae.prototype.visitFloat=he(((t,e,i)=>{switch(t.type.precision){case s.HALF:return pe(t,e,i);case s.SINGLE:case s.DOUBLE:return fe(t,e,i)}})),ae.prototype.visitFloat16=he(pe),ae.prototype.visitFloat32=he(fe),ae.prototype.visitFloat64=he(fe),ae.prototype.visitUtf8=he(((t,e,i)=>{let{values:n,valueOffsets:r}=t;ce(n,r,e,K(i))})),ae.prototype.visitBinary=he(((t,e,i)=>{let{values:n,valueOffsets:r}=t;return ce(n,r,e,i)})),ae.prototype.visitFixedSizeBinary=he(((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)})),ae.prototype.visitDate=he(((t,e,i)=>{t.type.unit===o.DAY?me(t,e,i):ye(t,e,i)})),ae.prototype.visitDateDay=he(me),ae.prototype.visitDateMillisecond=he(ye),ae.prototype.visitTimestamp=he(((t,e,i)=>{switch(t.type.unit){case l.SECOND:return ge(t,e,i);case l.MILLISECOND:return be(t,e,i);case l.MICROSECOND:return ve(t,e,i);case l.NANOSECOND:return we(t,e,i)}})),ae.prototype.visitTimestampSecond=he(ge),ae.prototype.visitTimestampMillisecond=he(be),ae.prototype.visitTimestampMicrosecond=he(ve),ae.prototype.visitTimestampNanosecond=he(we),ae.prototype.visitTime=he(((t,e,i)=>{switch(t.type.unit){case l.SECOND:return _e(t,e,i);case l.MILLISECOND:return Se(t,e,i);case l.MICROSECOND:return xe(t,e,i);case l.NANOSECOND:return Me(t,e,i)}})),ae.prototype.visitTimeSecond=he(_e),ae.prototype.visitTimeMillisecond=he(Se),ae.prototype.visitTimeMicrosecond=he(xe),ae.prototype.visitTimeNanosecond=he(Me),ae.prototype.visitDecimal=he(((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)})),ae.prototype.visitList=he(((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=ke.getVisitFn(n);if(Array.isArray(i))for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i[++o]);else for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i.get(++o))})),ae.prototype.visitStruct=he(((t,e,i)=>{const n=t.type.children.map((t=>ke.getVisitFn(t.type))),r=i instanceof Map?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(r.name)))(e,i):i instanceof Ki?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);t.type.children.forEach(((e,i)=>r(n[i],t.children[i],e,i)))})),ae.prototype.visitUnion=he(((t,e,i)=>{t.type.mode===r.Dense?Te(t,e,i):Ie(t,e,i)})),ae.prototype.visitDenseUnion=he(Te),ae.prototype.visitSparseUnion=he(Ie),ae.prototype.visitDictionary=he(((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)})),ae.prototype.visitInterval=he(((t,e,i)=>{t.type.unit===a.DAY_TIME?Ee(t,e,i):Ce(t,e,i)})),ae.prototype.visitIntervalDayTime=he(Ee),ae.prototype.visitIntervalYearMonth=he(Ce),ae.prototype.visitFixedSizeList=he(((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=ke.getVisitFn(r);if(Array.isArray(i))for(let o=-1,l=e*n;++o<n;)s(r,l+o,i[o]);else for(let o=-1,l=e*n;++o<n;)s(r,l+o,i.get(o))})),ae.prototype.visitMap=he(((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=ke.getVisitFn(n);let{[e]:o,[e+1]:l}=r;const a=i instanceof Map?i.entries():Object.entries(i);for(const h of a)if(s(n,o,h),++o>=l)break}));const ke=new ae,Pe=Symbol.for("parent"),Ne=Symbol.for("rowIndex");class Oe{constructor(t,e){return this[Pe]=t,this[Ne]=e,new Proxy(this,new Ae)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ne],e=this[Pe],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=ii.visit(e.children[r],t);return n}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${L(e)}: ${L(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Be(this[Pe],this[Ne])}}class Be{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ii.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Oe.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Pe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ne]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Ae{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Pe].type.children.map((t=>t.name))}has(t,e){return-1!==t[Pe].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Pe].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Pe].type.children.findIndex((t=>t.name===e));if(-1!==i){const n=ii.visit(t[Pe].children[i],t[Ne]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Pe].type.children.findIndex((t=>t.name===e));return-1!==n?(ke.visit(t[Pe].children[n],t[Ne],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Fe extends ie{}function Le(t){return(e,i)=>e.getValid(i)?t(e,i):null}const De=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Re=t=>new Date(t),ze=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>Re(((t,e)=>864e5*t[e])(t,e)))(i,e)},je=(t,e)=>{let{values:i}=t;return((t,e)=>Re(De(t,e)))(i,2*e)},Ve=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},We=(t,e)=>{let{values:i}=t;return i[e]},$e=(t,e)=>{let{values:i}=t;return 1e3*De(i,2*e)},Ye=(t,e)=>{let{values:i}=t;return De(i,2*e)},Ke=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Je=(t,e)=>{let{values:i}=t;return i[e]},Qe=(t,e)=>{let{values:i}=t;return i[e]},Ge=(t,e)=>{let{values:i}=t;return i[e]},Xe=(t,e)=>{let{values:i}=t;return i[e]},qe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,t.valueOffsets[e])},Ze=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,e)},ti=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},ei=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Fe.prototype.visitNull=Le(((t,e)=>null)),Fe.prototype.visitBool=Le(((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)})),Fe.prototype.visitInt=Le(((t,e)=>{let{values:i}=t;return i[e]})),Fe.prototype.visitInt8=Le(Ve),Fe.prototype.visitInt16=Le(Ve),Fe.prototype.visitInt32=Le(Ve),Fe.prototype.visitInt64=Le(We),Fe.prototype.visitUint8=Le(Ve),Fe.prototype.visitUint16=Le(Ve),Fe.prototype.visitUint32=Le(Ve),Fe.prototype.visitUint64=Le(We),Fe.prototype.visitFloat=Le(((t,e)=>{let{type:i,values:n}=t;return i.precision!==s.HALF?n[e]:le(n[e])})),Fe.prototype.visitFloat16=Le(((t,e)=>{let{stride:i,values:n}=t;return le(n[i*e])})),Fe.prototype.visitFloat32=Le(Ve),Fe.prototype.visitFloat64=Le(Ve),Fe.prototype.visitUtf8=Le(((t,e)=>{let{values:i,valueOffsets:n}=t;const r=ze(i,n,e);return null!==r?$(r):null})),Fe.prototype.visitBinary=Le(((t,e)=>{let{values:i,valueOffsets:n}=t;return ze(i,n,e)})),Fe.prototype.visitFixedSizeBinary=Le(((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))})),Fe.prototype.visitDate=Le(((t,e)=>t.type.unit===o.DAY?Ue(t,e):je(t,e))),Fe.prototype.visitDateDay=Le(Ue),Fe.prototype.visitDateMillisecond=Le(je),Fe.prototype.visitTimestamp=Le(((t,e)=>{switch(t.type.unit){case l.SECOND:return $e(t,e);case l.MILLISECOND:return Ye(t,e);case l.MICROSECOND:return Ke(t,e);case l.NANOSECOND:return He(t,e)}})),Fe.prototype.visitTimestampSecond=Le($e),Fe.prototype.visitTimestampMillisecond=Le(Ye),Fe.prototype.visitTimestampMicrosecond=Le(Ke),Fe.prototype.visitTimestampNanosecond=Le(He),Fe.prototype.visitTime=Le(((t,e)=>{switch(t.type.unit){case l.SECOND:return Je(t,e);case l.MILLISECOND:return Qe(t,e);case l.MICROSECOND:return Ge(t,e);case l.NANOSECOND:return Xe(t,e)}})),Fe.prototype.visitTimeSecond=Le(Je),Fe.prototype.visitTimeMillisecond=Le(Qe),Fe.prototype.visitTimeMicrosecond=Le(Ge),Fe.prototype.visitTimeNanosecond=Le(Xe),Fe.prototype.visitDecimal=Le(((t,e)=>{let{values:i,stride:n}=t;return dt.decimal(i.subarray(n*e,n*(e+1)))})),Fe.prototype.visitList=Le(((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,l=r[0].slice(s,o-s);return new Ki([l])})),Fe.prototype.visitStruct=Le(((t,e)=>new Oe(t,e))),Fe.prototype.visitUnion=Le(((t,e)=>t.type.mode===r.Dense?qe(t,e):Ze(t,e))),Fe.prototype.visitDenseUnion=Le(qe),Fe.prototype.visitSparseUnion=Le(Ze),Fe.prototype.visitDictionary=Le(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),Fe.prototype.visitInterval=Le(((t,e)=>t.type.unit===a.DAY_TIME?ti(t,e):ei(t,e))),Fe.prototype.visitIntervalDayTime=Le(ti),Fe.prototype.visitIntervalYearMonth=Le(ei),Fe.prototype.visitFixedSizeList=Le(((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Ki([r])})),Fe.prototype.visitMap=Le(((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new si(o.slice(r,s-r))}));const ii=new Fe,ni=Symbol.for("keys"),ri=Symbol.for("vals");class si{constructor(t){return this[ni]=new Ki([t.children[0]]).memoize(),this[ri]=t.children[1],new Proxy(this,new li)}[Symbol.iterator](){return new oi(this[ni],this[ri])}get size(){return this[ni].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ni],e=this[ri],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=ii.visit(e,n);return i}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${L(e)}: ${L(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oi{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ii.visit(this.vals,t)]})}}class li{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ni].toArray().map(String)}has(t,e){return t[ni].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ni].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ni].indexOf(e);if(-1!==i){const n=ii.visit(Reflect.get(t,ri),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[ni].indexOf(e);return-1!==n?(ke.visit(Reflect.get(t,ri),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ai;function hi(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(ai=s,s=o,o=ai),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(si.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ni]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ri]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const ui=t=>t!==t;function ci(t){if("object"!==typeof t||null===t)return ui(t)?ui:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=ci(n);return di(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t[i]);return di(e)}(t):t instanceof Ki?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t.get(i));return di(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=ci(t[i[r]]);return di(n,i)}(t,!0)}function di(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return fi(t,i,i.keys());case si:case Oe:case Object:case void 0:return fi(t,i,e||Object.keys(i))}return i instanceof Ki&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function fi(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const l=t.length;let a=s.next(),h=n.next(),u=r.next();for(;o<l&&!h.done&&!u.done&&!a.done&&(h.value===u.value&&t[o](a.value));++o,h=n.next(),u=r.next(),a=s.next());return!!(o===l&&h.done&&u.done&&a.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class pi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function mi(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function yi(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function gi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],l=e[s],{length:a}=o;if(l>=n)break;if(i>=l+a)continue;if(l>=i&&l+a<=n){r.push(o);continue}const h=Math.max(0,i-l),u=Math.min(n-l,a);r.push(o.slice(h,u-h))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function bi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function vi(t,e){return t.getValid(e)}function wi(t){function e(e,i,n){return t(e[i],n)}return function(t){return bi(this.data,this._offsets,t,e)}}function _i(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=bi(r,this._offsets,t,i);return e=void 0,s}}function Si(t){let e;function i(i,n,r){let s=r,o=0,l=0;for(let a=n-1,h=i.length;++a<h;){const n=i[a];if(~(o=t(n,e,s)))return l+o;s=0,l+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):bi(r,this._offsets,n,i);return e=void 0,s}}function xi(t,e,i,n){return 0!==(i&1<<n)}function Mi(t,e,i,n){return(i&1<<n)>>n}function Ti(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Ii(new Ei(i,t,e,null,xi)).subarray(0,n)),r}return i}function Ii(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ei{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ci(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new Ei(t,e,i-e,t,Mi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Ci(t,e,r)+Ci(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=ki(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=ki(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=ki(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function ki(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Pi extends ie{}function Ni(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new Ei(i,t.offset+(e||0),t.length,i,xi)){if(!r)return n;++n}return-1}(t,i);const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function Oi(t,e,i){const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Pi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Pi.prototype.visitBool=Ni,Pi.prototype.visitInt=Ni,Pi.prototype.visitInt8=Ni,Pi.prototype.visitInt16=Ni,Pi.prototype.visitInt32=Ni,Pi.prototype.visitInt64=Ni,Pi.prototype.visitUint8=Ni,Pi.prototype.visitUint16=Ni,Pi.prototype.visitUint32=Ni,Pi.prototype.visitUint64=Ni,Pi.prototype.visitFloat=Ni,Pi.prototype.visitFloat16=Ni,Pi.prototype.visitFloat32=Ni,Pi.prototype.visitFloat64=Ni,Pi.prototype.visitUtf8=Ni,Pi.prototype.visitBinary=Ni,Pi.prototype.visitFixedSizeBinary=Ni,Pi.prototype.visitDate=Ni,Pi.prototype.visitDateDay=Ni,Pi.prototype.visitDateMillisecond=Ni,Pi.prototype.visitTimestamp=Ni,Pi.prototype.visitTimestampSecond=Ni,Pi.prototype.visitTimestampMillisecond=Ni,Pi.prototype.visitTimestampMicrosecond=Ni,Pi.prototype.visitTimestampNanosecond=Ni,Pi.prototype.visitTime=Ni,Pi.prototype.visitTimeSecond=Ni,Pi.prototype.visitTimeMillisecond=Ni,Pi.prototype.visitTimeMicrosecond=Ni,Pi.prototype.visitTimeNanosecond=Ni,Pi.prototype.visitDecimal=Ni,Pi.prototype.visitList=Ni,Pi.prototype.visitStruct=Ni,Pi.prototype.visitUnion=Ni,Pi.prototype.visitDenseUnion=Oi,Pi.prototype.visitSparseUnion=Oi,Pi.prototype.visitDictionary=Ni,Pi.prototype.visitInterval=Ni,Pi.prototype.visitIntervalDayTime=Ni,Pi.prototype.visitIntervalYearMonth=Ni,Pi.prototype.visitFixedSizeList=Ni,Pi.prototype.visitMap=Ni;const Bi=new Pi;class Ai extends ie{}function Fi(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===u.Timestamp||e instanceof Ft&&64!==e.bitWidth||e instanceof Wt&&64!==e.bitWidth||e instanceof Dt&&e.precision!==s.HALF))return new pi(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new pi(t.data.length,(e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Li(r)}))}class Li{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ai.prototype.visitNull=Fi,Ai.prototype.visitBool=Fi,Ai.prototype.visitInt=Fi,Ai.prototype.visitInt8=Fi,Ai.prototype.visitInt16=Fi,Ai.prototype.visitInt32=Fi,Ai.prototype.visitInt64=Fi,Ai.prototype.visitUint8=Fi,Ai.prototype.visitUint16=Fi,Ai.prototype.visitUint32=Fi,Ai.prototype.visitUint64=Fi,Ai.prototype.visitFloat=Fi,Ai.prototype.visitFloat16=Fi,Ai.prototype.visitFloat32=Fi,Ai.prototype.visitFloat64=Fi,Ai.prototype.visitUtf8=Fi,Ai.prototype.visitBinary=Fi,Ai.prototype.visitFixedSizeBinary=Fi,Ai.prototype.visitDate=Fi,Ai.prototype.visitDateDay=Fi,Ai.prototype.visitDateMillisecond=Fi,Ai.prototype.visitTimestamp=Fi,Ai.prototype.visitTimestampSecond=Fi,Ai.prototype.visitTimestampMillisecond=Fi,Ai.prototype.visitTimestampMicrosecond=Fi,Ai.prototype.visitTimestampNanosecond=Fi,Ai.prototype.visitTime=Fi,Ai.prototype.visitTimeSecond=Fi,Ai.prototype.visitTimeMillisecond=Fi,Ai.prototype.visitTimeMicrosecond=Fi,Ai.prototype.visitTimeNanosecond=Fi,Ai.prototype.visitDecimal=Fi,Ai.prototype.visitList=Fi,Ai.prototype.visitStruct=Fi,Ai.prototype.visitUnion=Fi,Ai.prototype.visitDenseUnion=Fi,Ai.prototype.visitSparseUnion=Fi,Ai.prototype.visitDictionary=Fi,Ai.prototype.visitInterval=Fi,Ai.prototype.visitIntervalDayTime=Fi,Ai.prototype.visitIntervalYearMonth=Fi,Ai.prototype.visitFixedSizeList=Fi,Ai.prototype.visitMap=Fi;const Di=new Ai,Ri=(t,e)=>t+e;class zi extends ie{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===l.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Vi.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Vi.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Ui=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Vi.visit(n[o],s[e])},ji=(t,e)=>{let{children:i}=t;return 4+Vi.visitMany(i,i.map((()=>e))).reduce(Ri,0)};zi.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},zi.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},zi.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:l}=i,a=Vi.getVisitFn(s.type),h=s.slice(o,l-o);let u=8;for(let c=-1,d=l-o;++c<d;)u+=a(h,c);return u},zi.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Vi.getVisitFn(r.type);let l=0;for(let a=-1,h=s.length;++a<h;)l+=o(s,a);return l},zi.prototype.visitUnion=(t,e)=>t.type.mode===r.Dense?Ui(t,e):ji(t,e),zi.prototype.visitDenseUnion=Ui,zi.prototype.visitSparseUnion=ji;const Vi=new zi;var Wi;const $i={},Yi={};class Ki{constructor(t){var e,i,n;const r=t[0]instanceof Ki?t.flatMap((t=>t.data)):t;if(0===r.length||r.some((t=>!(t instanceof Ji))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=$i[s.typeId],o=r[0];this.isValid=t=>vi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,Yi[s.typeId]),this._offsets=yi(r)}this.data=r,this.type=s,this.stride=ee(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${u[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Di.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Ki(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Ki(hi(this,t,e,((t,e,i)=>{let{data:n,_offsets:r}=t;return gi(n,r,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case u.Int:case u.Float:case u.Decimal:case u.Time:case u.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce(((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t}),{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Ki(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!Bt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Bt.isDictionary(this.type)){const t=new Hi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Ki(e)}return new Hi(this)}unmemoize(){if(Bt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Ki(e)}return this}}Wi=Symbol.toStringTag,Ki[Wi]=(t=>{t.type=Bt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(u).map((t=>u[t])).filter((t=>"number"===typeof t&&t!==u.NONE));for(const i of e){const e=ii.getVisitFnByTypeId(i),n=ke.getVisitFnByTypeId(i),r=Bi.getVisitFnByTypeId(i),s=Vi.getVisitFnByTypeId(i);$i[i]={get:e,set:n,indexOf:r,byteLength:s},Yi[i]=Object.create(t,{isValid:{value:wi(vi)},get:{value:wi(ii.getVisitFnByTypeId(i))},set:{value:_i(ke.getVisitFnByTypeId(i))},indexOf:{value:Si(Bi.getVisitFnByTypeId(i))},getByteLength:{value:wi(Vi.getVisitFnByTypeId(i))}})}return"Vector"})(Ki.prototype);class Hi extends Ki{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Hi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ki(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Ji{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Ji?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ee(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Ci(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Ji(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,l=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,l,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===u.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(Ti(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[c.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[c.TYPE])&&(s[c.TYPE]=r.subarray(t,t+e)),(r=s[c.OFFSET])&&(s[c.OFFSET]=r.subarray(t,t+e+1))||(r=s[c.DATA])&&(s[c.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Ji.prototype.children=Object.freeze([]);class Qi extends ie{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Ji(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=q(t.data),r=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=q(t.data),r=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=q(t.nullBitmap),{length:s=n.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=q(t.nullBitmap),s=G(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:l=(t.nullBitmap?-1:0)}=t;if(Bt.isSparseUnion(e))return new Ji(e,i,o,l,[void 0,void 0,r,s],n);const a=X(t.valueOffsets);return new Ji(e,i,o,l,[a,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.indices.ArrayType,t.data),{dictionary:s=new Ki([(new Qi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=q(t.nullBitmap),r=G(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new Qi).visit({type:e.valueType})}=t,r=q(t.nullBitmap),{length:s=n.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new Qi).visit({type:e.childType})}=t,r=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Ji(e,i,o,l,[s,void 0,r],[n])}}function Gi(t){return(new Qi).visit(t)}class Xi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=tn(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new Xi(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Xi(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Xi?e[0]:Array.isArray(e[0])?new Xi(e[0]):new Xi(e),r=[...this.fields],s=Zi(Zi(new Map,this.metadata),n.metadata),o=n.fields.filter((t=>{const e=r.findIndex((e=>e.name===t.name));return!~e||(r[e]=t.clone({metadata:Zi(Zi(new Map,r[e].metadata),t.metadata)}))&&!1})),l=tn(o,new Map);return new Xi([...r,...o],s,new Map([...this.dictionaries,...l]))}}Xi.prototype.fields=null,Xi.prototype.metadata=null,Xi.prototype.dictionaries=null;class qi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new qi(`${n}`,r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,qi.new(n,r,s,o)}}function Zi(t,e){return new Map([...t||new Map,...e||new Map])}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Bt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&tn(n.children,e)}return e}qi.prototype.type=null,qi.prototype.name=null,qi.prototype.nullable=null,qi.prototype.metadata=null;class en extends ie{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function nn(t,e){return e instanceof t.constructor}function rn(t,e){return t===e||nn(t,e)}function sn(t,e){return t===e||nn(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function on(t,e){return t===e||nn(t,e)&&t.precision===e.precision}function ln(t,e){return t===e||nn(t,e)&&t.unit===e.unit}function an(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function hn(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function un(t,e){return t===e||nn(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&dn.compareManyFields(t.children,e.children)}function cn(t,e){return t===e||nn(t,e)&&t.unit===e.unit}en.prototype.visitNull=rn,en.prototype.visitBool=rn,en.prototype.visitInt=sn,en.prototype.visitInt8=sn,en.prototype.visitInt16=sn,en.prototype.visitInt32=sn,en.prototype.visitInt64=sn,en.prototype.visitUint8=sn,en.prototype.visitUint16=sn,en.prototype.visitUint32=sn,en.prototype.visitUint64=sn,en.prototype.visitFloat=on,en.prototype.visitFloat16=on,en.prototype.visitFloat32=on,en.prototype.visitFloat64=on,en.prototype.visitUtf8=rn,en.prototype.visitBinary=rn,en.prototype.visitFixedSizeBinary=function(t,e){return t===e||nn(t,e)&&t.byteWidth===e.byteWidth},en.prototype.visitDate=ln,en.prototype.visitDateDay=ln,en.prototype.visitDateMillisecond=ln,en.prototype.visitTimestamp=an,en.prototype.visitTimestampSecond=an,en.prototype.visitTimestampMillisecond=an,en.prototype.visitTimestampMicrosecond=an,en.prototype.visitTimestampNanosecond=an,en.prototype.visitTime=hn,en.prototype.visitTimeSecond=hn,en.prototype.visitTimeMillisecond=hn,en.prototype.visitTimeMicrosecond=hn,en.prototype.visitTimeNanosecond=hn,en.prototype.visitDecimal=rn,en.prototype.visitList=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitStruct=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitUnion=un,en.prototype.visitDenseUnion=un,en.prototype.visitSparseUnion=un,en.prototype.visitDictionary=function(t,e){return t===e||nn(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&dn.visit(t.indices,e.indices)&&dn.visit(t.dictionary,e.dictionary)},en.prototype.visitInterval=cn,en.prototype.visitIntervalDayTime=cn,en.prototype.visitIntervalYearMonth=cn,en.prototype.visitFixedSizeList=function(t,e){return t===e||nn(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitMap=function(t,e){return t===e||nn(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)};const dn=new en;function fn(t,e){return dn.compareSchemas(t,e)}var pn,mn;class yn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Xi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Gi({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map((t=>Gi({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Ji))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=gn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce(((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=qi.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new Xi(i),o=Gi({type:new Ht(i),length:r,children:n,nullCount:0});[this.schema,this.data]=gn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=bn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ii.visit(this.data,t)}set(t,e){return ke.visit(this.data,t,e)}indexOf(t,e){return Bi.visit(this.data,t,e)}getByteLength(t){return Vi.visit(this.data,t)}[Symbol.iterator](){return Di.visit(new Ki([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Sn(this.schema,[this,...e])}slice(t,e){const[i]=new Ki([this.data]).slice(t,e).data;return new yn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Ki([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Ki([Gi({type:new At,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Xi(r,new Map(this.schema.metadata)),n=Gi({type:new Ht(r),children:s})}return new yn(i,n)}select(t){const e=this.schema.select(t),i=new Ht(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex((t=>t.name===r));~t&&(n[t]=this.data.children[t])}return new yn(e,Gi({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),n=Gi({type:new Ht(e.fields),length:this.numRows,children:i});return new yn(e,n)}}function gn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[l,a]of t.fields.entries()){const t=e[l];t&&t.length===i||(r[l]=a.clone({nullable:!0}),s[l]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Gi({type:a.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Gi({type:new Ht(r),length:i,children:s})]}function bn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(Bt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&bn(r.children,s.children,i)}return i}pn=Symbol.toStringTag,yn[pn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(yn.prototype);class vn extends yn{constructor(t){const e=t.fields.map((t=>Gi({type:t.type})));super(t,Gi({type:new Ht(t.fields),nullCount:0,children:e}))}}function wn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,l=-1;const a=e.length;let h,u=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)u[l]=h=e[l].shift(),o=Math.min(o,h?h.length:o);Number.isFinite(o)&&(u=_n(i,o,u,e,r),o>0&&(n[s++]=Gi({type:new Ht(i),length:o,nullCount:0,children:u.slice()})))}return[t=t.assign(i),n.map((e=>new yn(t,e)))]}(t,e.map((t=>t.data.concat())))}function _n(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const a=i[l],h=null===a||void 0===a?void 0:a.length;if(h>=e)h===e?i[l]=a:(i[l]=a.slice(0,e),r.numBatches=Math.max(r.numBatches,n[l].unshift(a.slice(e,h-e))));else{const n=t[l];t[l]=n.clone({nullable:!0}),i[l]=null!==(s=null===a||void 0===a?void 0:a._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Gi({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class Sn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Xi([]),this._offsets=[0],this;let s,o;n[0]instanceof Xi&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const l=t=>{if(t){if(t instanceof yn)return[t];if(t instanceof Sn)return t.batches;if(t instanceof Ji){if(t.type instanceof Ht)return[new yn(new Xi(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>l(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>l(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Ki([t[e]]))),n=new Xi(e.map(((t,e)=>new qi(String(t),i[e].type)))),[,r]=wn(n,i);return 0===r.length?[new yn(t)]:r}}}return[]},a=n.flatMap((t=>l(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=a[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Xi([]),!(s instanceof Xi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const h of a){if(!(h instanceof yn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!fn(s,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=null!==o&&void 0!==o?o:yi(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Di.visit(new Ki(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new Sn(t,r.map((e=>new yn(t,e))))}slice(t,e){const i=this.schema;[t,e]=hi({length:this.numRows},t,e);const n=gi(this.data,this._offsets,t,e);return new Sn(i,n.map((t=>new yn(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],n=Gi({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Ki(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Ki([Gi({type:new At,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[r[t],o[t]]=[s,e],[i,n]=wn(i,o)}return new Sn(i,n)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new Sn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce(((t,i,n)=>{const[r,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=n:r.push(n),t}),[[],[]]),r=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,n[e]])).map((e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new Sn(...wn(r,s))}}mn=Symbol.toStringTag,Sn[mn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=wi(vi),t.get=wi(ii.getVisitFn(u.Struct)),t.set=_i(ke.getVisitFn(u.Struct)),t.indexOf=Si(Bi.getVisitFn(u.Struct)),t.getByteLength=wi(Vi.getVisitFn(u.Struct)),"Table"))(Sn.prototype);class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const Mn=new Int32Array(2),Tn=new Float32Array(Mn.buffer),In=new Float64Array(Mn.buffer),En=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Cn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Cn.ZERO:new Cn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var kn,Pn,Nn,On,Bn;Cn.ZERO=new Cn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(kn||(kn={}));class An{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new An(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Cn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Cn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Mn[0]=this.readInt32(t),Tn[0]}readFloat64(t){return Mn[En?0:1]=this.readInt32(t),Mn[En?1:0]=this.readInt32(t+4),In[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Tn[0]=e,this.writeInt32(t,Mn[0])}writeFloat64(t,e){In[0]=e,this.writeInt32(t,Mn[En?0:1]),this.writeInt32(t+4,Mn[En?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===kn.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Cn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class Fn{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=An.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=Fn.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=An.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return Cn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Ln.startKeyValue(t),Ln.addKey(t,e),Ln.addValue(t,i),Ln.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Pn||(Pn={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Nn||(Nn={})),function(t){t[t.DenseArray=0]="DenseArray"}(On||(On={}));class Dn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Dn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Dn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Dn.startInt(t),Dn.addBitWidth(t,e),Dn.addIsSigned(t,i),Dn.endInt(t)}}class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Dn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):On.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,On.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Bn||(Bn={}));class zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Bn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Rn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new zn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Bn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Nn.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new zn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Nn.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Un.startSchema(t),Un.addEndianness(t,e),Un.addFields(t,i),Un.addCustomMetadata(t,n),Un.addFeatures(t,r),Un.endSchema(t)}}class jn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pn.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Un).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Pn.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Vn=Cn,Wn=Fn,$n=An;class Yn{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}static decode(t){t=new $n(q(t));const e=jn.getRootAsFooter(t),i=Xi.decode(e.schema());return new Kn(i,e)}static encode(t){const e=new Wn,i=Xi.encode(e,t.schema);jn.startRecordBatchesVector(e,t.numRecordBatches);for(const n of[...t.recordBatches()].slice().reverse())Hn.encode(e,n);const r=e.endVector();jn.startDictionariesVector(e,t.numDictionaries);for(const n of[...t.dictionaryBatches()].slice().reverse())Hn.encode(e,n);const s=e.endVector();return jn.startFooter(e),jn.addSchema(e,i),jn.addVersion(e,n.V4),jn.addRecordBatches(e,r),jn.addDictionaries(e,s),jn.finishFooterBuffer(e,jn.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Kn extends Yn{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hn.decode(e)}return null}}class Hn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new Vn(e.offset,0),r=new Vn(e.bodyLength,0);return xn.createBlock(t,n,i,r)}}const Jn={fromIterable:t=>Qn(function*(t){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?Q(o,r)[0]:([i,o,l]=Q(o,r),i)}({cmd:n,size:r}=yield null);const h=(u=t,tt(Uint8Array,u))[Symbol.iterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?h.next():h.next(r-l)),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield a())}while(r<l)}while(!e)}catch(yo){(s=!0)&&"function"===typeof h.throw&&h.throw(yo)}finally{!1===s&&"function"===typeof h.return&&h.return(null)}return null}(t)),fromAsyncIterable:t=>Qn(function(t){return U(this,arguments,(function*(){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?Q(o,r)[0]:([i,o,l]=Q(o,r),i)}({cmd:n,size:r}=yield yield z(null));const h=(u=t,et(Uint8Array,u))[Symbol.asyncIterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?yield z(h.next()):yield z(h.next(r-l))),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield yield z(a()))}while(r<l)}while(!e)}catch(yo){(s=!0)&&"function"===typeof h.throw&&(yield z(h.throw(yo)))}finally{!1===s&&"function"===typeof h.return&&(yield z(h.return(new Uint8Array(0))))}return yield z(null)}))}(t)),fromDOMStream:t=>Qn(function(t){return U(this,arguments,(function*(){let e,i,n,r=!1,s=!1,o=[],l=0;function a(){return"peek"===i?Q(o,n)[0]:([e,o,l]=Q(o,n),e)}({cmd:i,size:n}=yield yield z(null));const h=new Gn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-l)?yield z(h.read()):yield z(h.read(n-l))),!r&&e.byteLength>0&&(o.push(q(e)),l+=e.byteLength),r||n<=l)do{({cmd:i,size:n}=yield yield z(a()))}while(n<l)}while(!r)}catch(yo){(s=!0)&&(yield z(h.cancel(yo)))}finally{!1===s?yield z(h.cancel()):t.locked&&h.releaseLock()}return yield z(null)}))}(t)),fromNodeStream:t=>Qn(function(t){return U(this,arguments,(function*(){const e=[];let i,n,r,s="error",o=!1,l=null,a=0,h=[];function u(){return"peek"===i?Q(h,n)[0]:([r,h,a]=Q(h,n),r)}if(({cmd:i,size:n}=yield yield z(null)),t.isTTY)return yield yield z(new Uint8Array(0)),yield z(null);try{e[0]=Xn(t,"end"),e[1]=Xn(t,"error");do{if(e[2]=Xn(t,"readable"),[s,l]=yield z(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-a)?(r=q(t.read(n-a)),r.byteLength<n-a&&(r=q(t.read()))):r=q(t.read()),r.byteLength>0&&(h.push(r),a+=r.byteLength)),o||n<=a)do{({cmd:i,size:n}=yield yield z(u()))}while(n<a)}while(!o)}finally{yield z(c(e,"error"===s?l:null))}return yield z(null);function c(e,i){return r=h=null,new Promise(((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(yo){i=yo||i}finally{null!=i?r(i):n()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Qn=t=>(t.next(),t);class Gn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return D(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return D(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=q(e)),e}))}}const Xn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise((r=>(n=r)&&t.once(e,i)))]};const qn=Object.freeze({done:!0,value:void 0});class Zn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class tr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class er extends tr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return D(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(qn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Jn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Jn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return D(this,void 0,void 0,(function*(){return yield this.abort(t),qn}))}return(t){return D(this,void 0,void 0,(function*(){return yield this.close(),qn}))}read(t){return D(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return D(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(qn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ir extends er{write(t){if((t=q(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?$(this.toUint8Array(!0)):this.toUint8Array(!1).then($)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Q(this._values)[0]:(()=>D(this,void 0,void 0,(function*(){var t,e;const i=[];let n=0;try{for(var r,s=V(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return Q(i,n)[0]})))()}}class nr{constructor(t){t&&(this.source=new sr(Jn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof ir?this.source=new or(Jn.fromAsyncIterable(t)):F(t)?this.source=new or(Jn.fromNodeStream(t)):A(t)?this.source=new or(Jn.fromDOMStream(t)):O(t)?this.source=new or(Jn.fromDOMStream(t.body)):E(t)?this.source=new or(Jn.fromIterable(t)):(I(t)||C(t))&&(this.source=new or(Jn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class sr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||qn)}return(t){return Object.create(this.source.return&&this.source.return(t)||qn)}}class or{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return D(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return D(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return D(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return D(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return D(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||qn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return D(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||qn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class lr extends nr{constructor(t,e){super(),this.position=0,this.buffer=q(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ar extends rr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>D(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return D(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return D(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return D(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const l=Math.min(i,r+Math.min(i-r,t)),a=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=o)<l&&(s+=o)<a.byteLength;)({bytesRead:o}=yield e.read(a,s,a.byteLength-s,r));return a}return null}))}readAt(t,e){return D(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return D(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return D(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return D(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function hr(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const ur=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class cr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${hr(this.buffer[1])} ${hr(this.buffer[0])}`}}class dr extends cr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new dr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new dr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new dr(new Uint32Array([ur[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)dr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}}class fr extends cr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new fr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new fr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new fr(new Uint32Array([ur[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)fr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr{constructor(t){this.buffer=t}high(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new dr(new Uint32Array([this.buffer[3],0])),i=new dr(new Uint32Array([this.buffer[2],0])),n=new dr(new Uint32Array([this.buffer[1],0])),r=new dr(new Uint32Array([this.buffer[0],0])),s=new dr(new Uint32Array([t.buffer[3],0])),o=new dr(new Uint32Array([t.buffer[2],0])),l=new dr(new Uint32Array([t.buffer[1],0])),a=new dr(new Uint32Array([t.buffer[0],0]));let h=dr.multiply(r,a);this.buffer[0]=h.low();const u=new dr(new Uint32Array([h.high(),0]));h=dr.multiply(n,a),u.plus(h),h=dr.multiply(r,l),u.plus(h),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(h)?1:0,this.buffer[2]=u.high();return new dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(dr.multiply(i,a)).plus(dr.multiply(n,l)).plus(dr.multiply(r,o)),this.buffer[3]+=dr.multiply(e,a).plus(dr.multiply(i,l)).plus(dr.multiply(n,o)).plus(dr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${hr(this.buffer[3])} ${hr(this.buffer[2])} ${hr(this.buffer[1])} ${hr(this.buffer[0])}`}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new pr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new pr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new pr(new Uint32Array([ur[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)pr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class mr extends ie{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof qi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===r.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Gi({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class yr extends mr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Ii(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return G(Uint8Array,G(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return G(Uint8Array,G(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Bt.isTimestamp(t)||(Bt.isInt(t)||Bt.isTime(t))&&64===t.bitWidth||Bt.isDate(t)&&t.unit===o.MILLISECOND?G(Uint8Array,fr.convertArray(i[e])):Bt.isDecimal(t)?G(Uint8Array,pr.convertArray(i[e])):Bt.isBinary(t)||Bt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):Bt.isBool(t)?Ii(i[e]):Bt.isUtf8(t)?K(i[e].join("")):G(Uint8Array,G(t.ArrayType,i[e].map((t=>+t))))}}var gr,br,vr,wr,_r,Sr,xr,Mr;!function(t){t[t.BUFFER=0]="BUFFER"}(gr||(gr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(br||(br={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):br.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):gr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,br.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,gr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return Tr.startBodyCompression(t),Tr.addCodec(t,e),Tr.addMethod(t,i),Tr.endBodyCompression(t)}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Er).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Ir).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new Tr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Cr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(vr||(vr={}));class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,vr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Pr.startFloatingPoint(t),Pr.addPrecision(t,e),Pr.endFloatingPoint(t)}}class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Nr.startDecimal(t),Nr.addPrecision(t,e),Nr.addScale(t,i),Nr.addBitWidth(t,n),Nr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(wr||(wr={}));class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Or.startDate(t),Or.addUnit(t,e),Or.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_r||(_r={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Br.startTime(t),Br.addUnit(t,e),Br.addBitWidth(t,i),Br.endTime(t)}}class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Ar.startTimestamp(t),Ar.addUnit(t,e),Ar.addTimezone(t,i),Ar.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(Sr||(Sr={}));class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Sr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Fr.startInterval(t),Fr.addUnit(t,e),Fr.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(xr||(xr={}));class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,xr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Lr.startUnion(t),Lr.addMode(t,e),Lr.addTypeIds(t,i),Lr.endUnion(t)}}class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Dr.startFixedSizeBinary(t),Dr.addByteWidth(t,e),Dr.endFixedSizeBinary(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Rr.startFixedSizeList(t),Rr.addListSize(t,e),Rr.endFixedSizeList(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return zr.startMap(t),zr.addKeysSorted(t,e),zr.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Mr||(Mr={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Pn.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Mr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Pn.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Mr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Ur.startMessage(t),Ur.addVersion(t,e),Ur.addHeaderType(t,i),Ur.addHeader(t,n),Ur.addBodyLength(t,r),Ur.addCustomMetadata(t,s),Ur.endMessage(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return jr.startNull(t),jr.endNull(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Vr.startBinary(t),Vr.endBinary(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Wr.startBool(t),Wr.endBool(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return $r.startUtf8(t),$r.endUtf8(t)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Yr.startList(t),Yr.endList(t)}}class Kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Kr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Kr.startStruct_(t),Kr.endStruct_(t)}}var Hr=Cn;const Jr=new class extends ie{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return jr.startNull(e),jr.endNull(e)}visitInt(t,e){return Dn.startInt(e),Dn.addBitWidth(e,t.bitWidth),Dn.addIsSigned(e,t.isSigned),Dn.endInt(e)}visitFloat(t,e){return Pr.startFloatingPoint(e),Pr.addPrecision(e,t.precision),Pr.endFloatingPoint(e)}visitBinary(t,e){return Vr.startBinary(e),Vr.endBinary(e)}visitBool(t,e){return Wr.startBool(e),Wr.endBool(e)}visitUtf8(t,e){return $r.startUtf8(e),$r.endUtf8(e)}visitDecimal(t,e){return Nr.startDecimal(e),Nr.addScale(e,t.scale),Nr.addPrecision(e,t.precision),Nr.addBitWidth(e,t.bitWidth),Nr.endDecimal(e)}visitDate(t,e){return Or.startDate(e),Or.addUnit(e,t.unit),Or.endDate(e)}visitTime(t,e){return Br.startTime(e),Br.addUnit(e,t.unit),Br.addBitWidth(e,t.bitWidth),Br.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Ar.startTimestamp(e),Ar.addUnit(e,t.unit),void 0!==i&&Ar.addTimezone(e,i),Ar.endTimestamp(e)}visitInterval(t,e){return Fr.startInterval(e),Fr.addUnit(e,t.unit),Fr.endInterval(e)}visitList(t,e){return Yr.startList(e),Yr.endList(e)}visitStruct(t,e){return Kr.startStruct_(e),Kr.endStruct_(e)}visitUnion(t,e){Lr.startTypeIdsVector(e,t.typeIds.length);const i=Lr.createTypeIdsVector(e,t.typeIds);return Lr.startUnion(e),Lr.addMode(e,t.mode),Lr.addTypeIds(e,i),Lr.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Rn.startDictionaryEncoding(e),Rn.addId(e,new Hr(t.id,0)),Rn.addIsOrdered(e,t.isOrdered),void 0!==i&&Rn.addIndexType(e,i),Rn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Dr.startFixedSizeBinary(e),Dr.addByteWidth(e,t.byteWidth),Dr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Rr.startFixedSizeList(e),Rr.addListSize(e,t.listSize),Rr.endFixedSizeList(e)}visitMap(t,e){return zr.startMap(e),zr.addKeysSorted(e,t.keysSorted),zr.endMap(e)}};function Qr(t){return new os(t.count,Xr(t.columns),qr(t.columns))}function Gr(t,e){return(t.children||[]).filter(Boolean).map((t=>qi.fromJSON(t,e)))}function Xr(t){return(t||[]).reduce(((t,e)=>{return[...t,new hs(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Xr(e.children)];var i}),[])}function qr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new as(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new as(e.length,n.TYPE.length)),n.OFFSET&&e.push(new as(e.length,n.OFFSET.length)),n.DATA&&e.push(new as(e.length,n.DATA.length)),e=qr(n.children,e)}return e}function Zr(t){return new Map(Object.entries(t||{}))}function ts(t){return new Ft(t.isSigned,t.bitWidth)}function es(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new At;case"binary":return new Rt;case"utf8":return new zt;case"bool":return new Ut;case"list":return new Kt((e||[])[0]);case"struct":case"struct_":return new Ht(e||[])}switch(i){case"int":{const e=t.type;return new Ft(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Dt(s[e.precision])}case"decimal":{const e=t.type;return new jt(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Vt(o[e.unit])}case"time":{const e=t.type;return new Wt(l[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new $t(l[e.unit],e.timezone)}case"interval":{const e=t.type;return new Yt(a[e.unit])}case"union":{const i=t.type;return new Jt(r[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Qt(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Gt(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Xt((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var is=Cn,ns=Fn,rs=An;class ss{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new ss(0,n.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Xi.fromJSON(t);case h.RecordBatch:return os.fromJSON(t);case h.DictionaryBatch:return ls.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(t,e),i}static decode(t){t=new rs(q(t));const e=Ur.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ss(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Xi.decode(t.header(new Un));case h.RecordBatch:return os.decode(t.header(new Cr),t.version());case h.DictionaryBatch:return ls.decode(t.header(new kr),t.version())}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(e,r),s}static encode(t){const e=new ns;let i=-1;return t.isSchema()?i=Xi.encode(e,t.header()):t.isRecordBatch()?i=os.encode(e,t.header()):t.isDictionaryBatch()&&(i=ls.encode(e,t.header())),Ur.startMessage(e),Ur.addVersion(e,n.V4),Ur.addHeader(e,i),Ur.addHeaderType(e,t.headerType),Ur.addBodyLength(e,new is(t.bodyLength,0)),Ur.finishMessageBuffer(e,Ur.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Xi)return new ss(0,n.V4,h.Schema,t);if(t instanceof os)return new ss(e,n.V4,h.RecordBatch,t);if(t instanceof ls)return new ss(e,n.V4,h.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===h.Schema}isRecordBatch(){return this.headerType===h.RecordBatch}isDictionaryBatch(){return this.headerType===h.DictionaryBatch}}class os{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ls{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class as{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class hs{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function us(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=qi.decode(n,e));return i}function cs(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ds(t){return new Ft(t.isSigned(),t.bitWidth())}function fs(t,e){const i=t.typeType();switch(i){case Bn.NONE:case Bn.Null:return new At;case Bn.Binary:return new Rt;case Bn.Utf8:return new zt;case Bn.Bool:return new Ut;case Bn.List:return new Kt((e||[])[0]);case Bn.Struct_:return new Ht(e||[])}switch(i){case Bn.Int:{const e=t.type(new Dn);return new Ft(e.isSigned(),e.bitWidth())}case Bn.FloatingPoint:{const e=t.type(new Pr);return new Dt(e.precision())}case Bn.Decimal:{const e=t.type(new Nr);return new jt(e.scale(),e.precision(),e.bitWidth())}case Bn.Date:{const e=t.type(new Or);return new Vt(e.unit())}case Bn.Time:{const e=t.type(new Br);return new Wt(e.unit(),e.bitWidth())}case Bn.Timestamp:{const e=t.type(new Ar);return new $t(e.unit(),e.timezone())}case Bn.Interval:{const e=t.type(new Fr);return new Yt(e.unit())}case Bn.Union:{const i=t.type(new Lr);return new Jt(i.mode(),i.typeIdsArray()||[],e||[])}case Bn.FixedSizeBinary:{const e=t.type(new Dr);return new Qt(e.byteWidth())}case Bn.FixedSizeList:{const i=t.type(new Rr);return new Gt(i.listSize(),(e||[])[0])}case Bn.Map:{const i=t.type(new zr);return new Xt((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Bn[i]}" (${i})`)}qi.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;Bt.isDictionary(s)?(o=s.dictionary.typeId,r=Jr.visit(s,t),n=Jr.visit(s.dictionary,t)):n=Jr.visit(s,t);const l=(s.children||[]).map((e=>qi.encode(t,e))),a=zn.createChildrenVector(t,l),h=e.metadata&&e.metadata.size>0?zn.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Ln.startKeyValue(t),Ln.addKey(t,r),Ln.addValue(t,s),Ln.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));zn.startField(t),zn.addType(t,n),zn.addTypeType(t,o),zn.addChildren(t,a),zn.addNullable(t,!!e.nullable),-1!==i&&zn.addName(t,i);-1!==r&&zn.addDictionary(t,r);-1!==h&&zn.addCustomMetadata(t,h);return zn.endField(t)},qi.decode=function(t,e){let i,n,r,s,o,l;e&&(l=t.dictionary())?e.has(i=l.id().low)?(s=(s=l.indexType())?ds(s):new Lt,o=new te(e.get(i),s,i,l.isOrdered()),n=new qi(t.name(),o,t.nullable(),cs(t))):(s=(s=l.indexType())?ds(s):new Lt,e.set(i,r=fs(t,us(t,e))),o=new te(r,s,i,l.isOrdered()),n=new qi(t.name(),o,t.nullable(),cs(t))):(r=fs(t,us(t,e)),n=new qi(t.name(),r,t.nullable(),cs(t)));return n||null},qi.fromJSON=function(t,e){let i,n,r,s,o,l;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?ts(n):new Lt,l=new te(e.get(i),n,i,s.isOrdered),r=new qi(t.name,l,t.nullable,Zr(t.customMetadata))):(n=(n=s.indexType)?ts(n):new Lt,e.set(i,o=es(t,Gr(t,e))),l=new te(o,n,i,s.isOrdered),r=new qi(t.name,l,t.nullable,Zr(t.customMetadata))):(o=es(t,Gr(t,e)),r=new qi(t.name,o,t.nullable,Zr(t.customMetadata))),r||null},Xi.encode=function(t,e){const i=e.fields.map((e=>qi.encode(t,e)));Un.startFieldsVector(t,i.length);const n=Un.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Un.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Ln.startKeyValue(t),Ln.addKey(t,r),Ln.addValue(t,s),Ln.endKeyValue(t)}))):-1;Un.startSchema(t),Un.addFields(t,n),Un.addEndianness(t,ps?Nn.Little:Nn.Big),-1!==r&&Un.addCustomMetadata(t,r);return Un.endSchema(t)},Xi.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=qi.decode(n,e));return i}(t,e);return new Xi(i,cs(t),e)},Xi.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Xi(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>qi.fromJSON(t,e)))}(t,e),Zr(t.customMetadata),e)},os.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];Cr.startNodesVector(t,i.length);for(const o of i.slice().reverse())hs.encode(t,o);const r=t.endVector();Cr.startBuffersVector(t,n.length);for(const o of n.slice().reverse())as.encode(t,o);const s=t.endVector();return Cr.startRecordBatch(t),Cr.addLength(t,new is(e.length,0)),Cr.addNodes(t,r),Cr.addBuffers(t,s),Cr.endRecordBatch(t)},os.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;if(null!==t.compression())throw new Error("Record batch compression not implemented");return new os(t.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=hs.decode(i));return e}(t),function(t,e){const i=[];for(let r,s=-1,o=-1,l=t.buffersLength();++s<l;)(r=t.buffers(s))&&(e<n.V4&&(r.bb_pos+=8*(s+1)),i[++o]=as.decode(r));return i}(t,e))},os.fromJSON=Qr,ls.encode=function(t,e){const i=os.encode(t,e.data);return kr.startDictionaryBatch(t),kr.addId(t,new is(e.id,0)),kr.addIsDelta(t,e.isDelta),kr.addData(t,i),kr.endDictionaryBatch(t)},ls.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;return new ls(os.decode(t.data(),e),t.id(),t.isDelta())},ls.fromJSON=function(t){return new ls(Qr(t.data),t.id,t.isDelta)},hs.encode=function(t,e){return Er.createFieldNode(t,new is(e.length,0),new is(e.nullCount,0))},hs.decode=function(t){return new hs(t.length(),t.nullCount())},as.encode=function(t,e){return Ir.createBuffer(t,new is(e.offset,0),new is(e.length,0))},as.decode=function(t){return new as(t.offset(),t.length())};const ps=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ms=t=>`Expected ${h[t]} Message in stream, but was null or length 0.`,ys=t=>`Header pointer of flatbuffer-encoded ${h[t]} Message is null or length 0.`,gs=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,bs=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class vs{constructor(t){this.source=t instanceof nr?t:new nr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?qn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=q(this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=h.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n}readMetadataLength(){const t=this.source.read(Ss),e=t&&new An(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return qn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}}}class ws{constructor(t,e){this.source=t instanceof rr?t:N(t)?new ar(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return D(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?qn:t}))}throw(t){return D(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return D(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return D(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}))}readMessageBody(t){return D(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=q(yield this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return D(this,void 0,void 0,(function*(){const e=h.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n}))}readMetadataLength(){return D(this,void 0,void 0,(function*(){const t=yield this.source.read(Ss),e=t&&new An(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return D(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return qn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}}))}}class _s extends vs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Zn?t:new Zn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ss.fromJSON(t.schema,h.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ss.fromJSON(e,h.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ss.fromJSON(e,h.RecordBatch)}}return this._body=[],qn}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readSchema(){const t=h.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(ys(t));return i}}const Ss=4,xs="ARROW1",Ms=new Uint8Array(6);for(let rd=0;rd<6;rd+=1)Ms[rd]=xs.codePointAt(rd);function Ts(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ms.length;++i<n;)if(Ms[i]!==t[e+i])return!1;return!0}const Is=Ms.length,Es=Is+Ss,Cs=2*Is+Ss;class ks extends tr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return I(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Jn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Jn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof ks?t:k(t)?function(t){return new Ps(new zs(t))}(t):N(t)?function(t){return D(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new ar(t,e);return e>=Cs&&Ts(yield i.readAt(0,Is+7&-8))?new Bs(new Rs(i)):new Ns(new Ls(i))}))}(t):I(t)?(()=>D(this,void 0,void 0,(function*(){return yield ks.from(yield t)})))():O(t)||A(t)||F(t)||C(t)?function(t){return D(this,void 0,void 0,(function*(){const e=yield t.peek(Is+7&-8);return e&&e.byteLength>=4?Ts(e)?new Os(new Ds(yield t.read())):new Ns(new Ls(t)):new Ns(new Ls(function(){return U(this,arguments,(function*(){}))}()))}))}(new rr(t)):function(t){const e=t.peek(Is+7&-8);return e&&e.byteLength>=4?Ts(e)?new Os(new Ds(t.read())):new Ps(new Fs(t)):new Ps(new Fs(function*(){}()))}(new nr(t))}static readAll(t){return t instanceof ks?t.isSync()?js(t):Vs(t):k(t)||ArrayBuffer.isView(t)||E(t)||P(t)?js(t):Vs(t)}}class Ps extends ks{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return U(this,arguments,(function*(){yield z(yield*j(V(this[Symbol.iterator]())))}))}}class Ns extends ks{constructor(t){super(t),this._impl=t}readAll(){var t,e;return D(this,void 0,void 0,(function*(){const i=new Array;try{for(var n,r=V(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Os extends Ps{constructor(t){super(t),this._impl=t}}class Bs extends Ns{constructor(t){super(t),this._impl=t}}class As{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Gi({type:new Ht(this.schema.fields),length:t.length,children:i});return new yn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),l=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Ki(l)):new Ki(l)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new mr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Fs extends As{constructor(t,e){super(e),this._reader=k(t)?new _s(this._handle=t):new vs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):qn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):qn}next(){if(this.closed)return qn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ls extends As{constructor(t,e){super(e),this._reader=new ws(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return D(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return D(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return D(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):qn}))}return(t){return D(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):qn}))}next(){return D(this,void 0,void 0,(function*(){if(this.closed)return qn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return D(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Ds extends Fs{constructor(t,e){super(t instanceof lr?t:new lr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Es,i=t.readInt32(e),n=t.readAt(e-i,i);return Yn.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Rs extends Ls{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof ar?t:new ar(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return D(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return D(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return D(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}))}_readFooter(){return D(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Es,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return Yn.decode(n)}))}_readNextMessageAndValidate(t){return D(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class zs extends Fs{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new yr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Us(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*js(t){const e=ks.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Vs(t){return U(this,arguments,(function*(){const e=yield z(ks.from(t));try{if(!(yield z(e.open({autoDestroy:!1}))).closed)do{yield yield z(e)}while(!(yield z(e.reset().open())).closed)}finally{yield z(e.cancel())}}))}class Ws extends ie{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof yn?e.data.children:e.data)),e=new Ws;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Ki)return this.visitMany(t.data),this;const{type:e}=t;if(!Bt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Bt.isNull(e)||$s.call(this,n<=0?new Uint8Array(0):Ti(t.offset,i,t.nullBitmap)),this.nodes.push(new hs(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function $s(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new as(this._byteLength,e)),this._byteLength+=e,this}function Ys(t){return $s.call(this,t.values.subarray(0,t.length*t.stride))}function Ks(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return $s.call(this,it(-n[0],e,n)),$s.call(this,i.subarray(r,r+o)),this}function Hs(t){const{length:e,valueOffsets:i}=t;return i&&$s.call(this,it(i[0],e,i)),this.visit(t.children[0])}function Js(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}Ws.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?$s.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?$s.call(this,Ti(t.offset,t.length,e)):$s.call(this,Ii(t.values))},Ws.prototype.visitInt=Ys,Ws.prototype.visitFloat=Ys,Ws.prototype.visitUtf8=Ks,Ws.prototype.visitBinary=Ks,Ws.prototype.visitFixedSizeBinary=Ys,Ws.prototype.visitDate=Ys,Ws.prototype.visitTimestamp=Ys,Ws.prototype.visitTime=Ys,Ws.prototype.visitDecimal=Ys,Ws.prototype.visitList=Hs,Ws.prototype.visitStruct=Js,Ws.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:s}=t;if($s.call(this,n),e.mode===r.Sparse)return Js.call(this,t);if(e.mode===r.Dense){if(t.offset<=0)return $s.call(this,s),Js.call(this,t);{const r=n.reduce(((t,e)=>Math.max(t,e)),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(i),h=it(-s[0],i,s);for(let t,e,s=-1;++s<i;)-1===(e=l[t=n[s]])&&(e=l[t]=h[t]),a[s]=h[s]-e,++o[t];$s.call(this,a);for(let n,s=-1,u=e.children.length;++s<u;)if(n=t.children[s]){const t=e.typeIds[s],r=Math.min(i,o[t]);this.visit(n.slice(l[t],r))}}}return this},Ws.prototype.visitInterval=Ys,Ws.prototype.visitFixedSizeList=Hs,Ws.prototype.visitMap=Hs;class Qs extends tr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ir,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,T(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return I(t)?t.then((t=>this.writeAll(t))):C(t)?Zs(this,t):qs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof ir?this._sink=t:(this._sink=new ir,t&&(t=>T(t)&&M(t.abort)&&M(t.getWriter)&&!B(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>T(t)&&M(t.end)&&M(t.write)&&x(t.writable)&&!B(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&fn(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof Sn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof yn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!fn(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof yn?t instanceof vn||this._writeRecordBatch(t):t instanceof Sn?this.writeAll(t.batches):E(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ss.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===h.RecordBatch?this._recordBatchBlocks.push(new Hn(s,t.bodyLength,this._position)):t.headerType===h.DictionaryBatch&&this._dictionaryBlocks.push(new Hn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=q(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ss.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ms)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=Ws.assemble(t),s=new os(t.numRows,i,n),o=ss.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=Ws.assemble(new Ki([t])),l=new os(t.length,r,s),a=new ls(l,e,i),h=ss.from(a,n);return this._writeMessage(h)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Gs extends Qs{static writeAll(t,e){const i=new Gs(e);return I(t)?t.then((t=>i.writeAll(t))):C(t)?Zs(i,t):qs(i,t)}}class Xs extends Qs{static writeAll(t){const e=new Xs;return I(t)?t.then((t=>e.writeAll(t))):C(t)?Zs(e,t):qs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Yn.encode(new Yn(t,n.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function qs(t,e){let i=e;e instanceof Sn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function Zs(t,e){var i,n,r,s;return D(this,void 0,void 0,(function*(){try{for(i=V(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()}))}function to(t){const e=ks.from(t);return I(e)?e.then((t=>to(t))):e.isAsync()?e.readAll().then((t=>new Sn(t))):new Sn(e.readAll())}function eo(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Gs:Xs).writeAll(t).toUint8Array(!0)}var io,no=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(a=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,a,t)};if(n){o=["row_heading","level"+e,"row"+(l=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(l),classNames:o.join(" "),content:r.getContent(r.indexTable,l,e)}}o=["data","row"+(l=t-r.headerRows),"col"+(a=e-r.headerColumns)];var l,a,h=r.styler?r.getContent(r.styler.displayValuesTable,l,a):r.getContent(r.dataTable,l,a);return{type:"data",id:"T_".concat(r.uuid,"row").concat(l,"_col").concat(a),classNames:o.join(" "),content:h}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===u.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=to(t),this.indexTable=to(e),this.columnsTable=to(i),this.styler=n?{caption:n.caption,displayValuesTable:to(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:eo(this.dataTable),index:eo(this.indexTable),columns:eo(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ro=function(){return ro=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ro.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(io||(io={}));var so=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(io.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(io.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof no?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(yo){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(io.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=ro(ro({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&oo(s);var o={disabled:r,args:i,theme:s},l=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(l)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new no(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(ro({isStreamlitMessage:!0,type:t},e),"*")},t}(),oo=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var lo=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}lo(e,t),e.prototype.componentDidMount=function(){so.setFrameHeight()},e.prototype.componentDidUpdate=function(){so.setFrameHeight()}}(d.PureComponent);function ao(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function ho(t,e){return t.width===e.width&&t.height===e.height}var uo=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter((function(t){return t!==i}))}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach((function(e){return e.next(t._window.devicePixelRatio)})),this._reinstallResolutionListener()},t}();var co=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=ao({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(n=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ao({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=ao(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter((function(e){return e!==t}))},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter((function(e){return e!==t}))},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;ho(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=ao(this._transformBitmapSize(t,this._canvasElementClientSize)),n=ho(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&ho(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach((function(n){return n.call(i,t,e)}))},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise((function(t){var e=new ResizeObserver((function(i){t(i.every((function(t){return"devicePixelContentBoxSize"in t}))),e.disconnect()}));e.observe(document.body,{box:"device-pixel-content-box"})})).catch((function(){return!1})).then((function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=fo(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new uo(t)}(e),this._devicePixelRatioObservable.subscribe((function(){return t._invalidateBitmapSize()})),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=fo(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,r=this._canvasElement.getClientRects(),s=void 0!==r[0]?function(t,e){return ao({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],n):ao({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver((function(e){var i=e.find((function(e){return e.target===t._canvasElement}));if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],r=ao({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}})),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function fo(t){return t.ownerDocument.defaultView}var po=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function mo(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new po(r,i,n)}const yo={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var go,bo,vo;function wo(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function _o(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function So(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function xo(t){if(void 0===t)throw new Error("Value is undefined");return t}function Mo(t){if(null===t)throw new Error("Value is null");return t}function To(t){return Mo(xo(t))}(vo=go||(go={}))[vo.Simple=0]="Simple",vo[vo.WithSteps=1]="WithSteps",vo[vo.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(bo||(bo={}));class Io{constructor(){this.t=[]}i(t,e,i){const n={h:t,l:e,o:!0===i};this.t.push(n)}_(t){const e=this.t.findIndex((e=>t===e.h));e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter((e=>e.l!==t))}p(t,e,i){const n=[...this.t];this.t=this.t.filter((t=>!t.o)),n.forEach((n=>n.h(t,e,i)))}v(){return this.t.length>0}m(){this.t=[]}}function Eo(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:Eo(t[e],r[e]));return t}function Co(t){return"number"==typeof t&&isFinite(t)}function ko(t){return"number"==typeof t&&t%1==0}function Po(t){return"string"==typeof t}function No(t){return"boolean"==typeof t}function Oo(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?Oo(r):r);return i}function Bo(t){return null!==t}function Ao(t){return null===t?void 0:t}const Fo="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Lo(t,e,i){return void 0===e&&(e=Fo),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class Do{constructor(t){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),i=this.W();return t.k===e&&t.T===i||(t.k=e,t.T=i,t.P=Lo(e,i),t.A=2.5/12*e,t.I=t.A,t.V=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function Ro(t){return t<0?0:t>255?255:Math.round(t)||0}function zo(t){return.199*t[0]+.687*t[1]+.114*t[2]}class Uo{constructor(t,e){this.q=new Map,this.j=t,e&&(this.q=e)}Y(t,e){if("transparent"===t)return t;const i=this.K(t),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*n})`}Z(t){const e=this.K(t);return{G:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,X:zo(e)>160?"black":"white"}}J(t){return zo(this.K(t))}tt(t,e,i){const[n,r,s,o]=this.K(t),[l,a,h,u]=this.K(e),c=[Ro(n+i*(l-n)),Ro(r+i*(a-r)),Ro(s+i*(h-s)),(d=o+i*(u-o),d<=0||d>1?Math.min(Math.max(d,0),1):Math.round(1e4*d)/1e4)];var d;return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=function(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),e.style.color=t;const i=window.getComputedStyle(e).color;return document.body.removeChild(e),i}(t),n=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.j.length)for(const e of this.j){const i=e(t);if(i)return this.q.set(t,i),i}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}}class jo{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach((n=>{n.nt(t,e,i)}))}}class Vo{nt(t,e,i){t.useBitmapCoordinateSpace((t=>this.et(t,e,i)))}}class Wo extends Vo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(i))%2/2,l=t=>{e.beginPath();for(let l=r.to-1;l>=r.from;--l){const r=s.ot[l],a=Math.round(r._t*i)+o,h=r.ut*n,u=t*n+o;e.moveTo(a,h),e.arc(a,h,u,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,l(s.ft+s.ct)),e.fillStyle=s.vt,l(s.ft)}}function $o(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const Yo={from:0,to:1};class Ko{constructor(t,e,i){this.Mt=new jo,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.yt=i,this.Mt.st(this.bt)}kt(t){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const t=this.yt.Dt();t.length!==this.bt.length&&(this.St=t.map($o),this.bt=this.St.map((t=>{const e=new Wo;return e.ht(t),e})),this.Mt.st(this.bt))}Rt(){const t=2===this.Ct.N().mode||!this.Ct.It(),e=this.yt.Vt(),i=this.Ct.Bt(),n=this.O.Et();this.Pt(),e.forEach(((e,r)=>{const s=this.St[r],o=e.At(i),l=e.Lt();!t&&null!==o&&e.It()&&null!==l?(s.vt=o.zt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=e.Ft().Nt(o.gt,l.Wt),s.dt=o.Ht??this.O.Ut(s.ot[0].ut/e.Ft().$t()),s.ot[0].wt=i,s.ot[0]._t=n.qt(i),s.lt=Yo):s.lt=null}))}}class Ho extends Vo{constructor(t){super(),this.jt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.jt)return;const s=this.jt.Yt.It,o=this.jt.Kt.It;if(!s&&!o)return;const l=Math.round(this.jt._t*n),a=Math.round(this.jt.ut*r);e.lineCap="butt",s&&l>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,wo(e,this.jt.Yt.Zt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(e,l,0,i.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*r),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,wo(e,this.jt.Kt.Zt),_o(e,a,0,i.width))}}class Jo{constructor(t,e){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new Ho(this.Gt),this.Jt=t,this.yt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const t=this.Jt.It(),e=this.yt.Qt().N().crosshair,i=this.Gt;if(2===e.mode)return i.Kt.It=!1,void(i.Yt.It=!1);i.Kt.It=t&&this.Jt.ti(this.yt),i.Yt.It=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Zt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.Yt.ct=e.vertLine.width,i.Yt.Zt=e.vertLine.style,i.Yt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function Qo(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function Go(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function Xo(t,e,i,n,r,s){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,s):(t.lineTo(e+n-s[1],i),0!==s[1]&&t.arcTo(e+n,i,e+n,i+s[1],s[1]),t.lineTo(e+n,i+r-s[2]),0!==s[2]&&t.arcTo(e+n,i+r,e+n-s[2],i+r,s[2]),t.lineTo(e+s[3],i+r),0!==s[3]&&t.arcTo(e,i+r,e,i+r-s[3],s[3]),t.lineTo(e,i+s[0]),0!==s[0]&&t.arcTo(e,i,e+s[0],i,s[0]))}function qo(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!o||!a||a===s)return Xo(t,e,i,n,r,l),t.fillStyle=s,t.fill(),void t.restore();const h=o/2;var u;Xo(t,e+h,i+h,n-o,r-o,(u=-h,l.map((t=>0===t?t:t+u)))),"transparent"!==s&&(t.fillStyle=s,t.fill()),"transparent"!==a&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function Zo(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,s),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,i,n,r),t.restore()}class tl{constructor(t,e){this.ht(t,e)}ht(t,e){this.jt=t,this.ei=e}$t(t,e){return this.jt.It?t.k+t.A+t.I:0}nt(t,e,i,n){if(!this.jt.It||0===this.jt.ri.length)return;const r=this.jt.R,s=this.ei.G,o=t.useBitmapCoordinateSpace((t=>{const o=t.context;o.font=e.P;const l=this.hi(t,e,i,n),a=l.ai;return l.li?qo(o,a.oi,a._i,a.ui,a.ci,s,a.di,[a.ft,0,0,a.ft],s):qo(o,a.fi,a._i,a.ui,a.ci,s,a.di,[0,a.ft,a.ft,0],s),this.jt.pi&&(o.fillStyle=r,o.fillRect(a.fi,a.mi,a.wi-a.fi,a.gi)),this.jt.Mi&&(o.fillStyle=e.D,o.fillRect(l.li?a.bi-a.di:0,a._i,a.di,a.Si-a._i)),l}));t.useMediaCoordinateSpace((t=>{let{context:i}=t;const n=o.xi;i.font=e.P,i.textAlign=o.li?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this.jt.ri,n.Ci,(n._i+n.Si)/2+n.yi)}))}hi(t,e,i,n){const{context:r,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:a}=t,h=this.jt.pi||!this.jt.ki?e.C:0,u=this.jt.Pi?e.S:0,c=e.A+this.ei.Ti,d=e.I+this.ei.Ri,f=e.V,p=e.B,m=this.jt.ri,y=e.k,g=i.Di(r,m),b=Math.ceil(i.Ii(r,m)),v=y+c+d,w=e.S+f+p+b+h,_=Math.max(1,Math.floor(a));let S=Math.round(v*a);S%2!=_%2&&(S+=1);const x=u>0?Math.max(1,Math.floor(u*l)):0,M=Math.round(w*l),T=Math.round(h*l),I=this.ei.Vi??this.ei.Bi??this.ei.Ei,E=Math.round(I*a)-Math.floor(.5*a),C=Math.floor(E+_/2-S/2),k=C+S,P="right"===n,N=P?o.width-u:u,O=P?s.width-x:x;let B,A,F;return P?(B=O-M,A=O-T,F=N-h-f-u):(B=O+M,A=O+T,F=N+h+f),{li:P,ai:{_i:C,mi:E,Si:k,ui:M,ci:S,ft:2*l,di:x,oi:B,fi:O,wi:A,gi:_,bi:s.width},xi:{_i:C/a,Si:k/a,Ci:F,yi:g}}}}class el{constructor(t){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(t||tl)(this.Li,this.Ai),this.Ni=new(t||tl)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Oi.$t(t,e),this.Ni.$t(t,e))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(t){this.Ai.Bi=t??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(t){return this.Fi(),this.Li.pi=this.Li.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class il extends el{constructor(t,e,i){super(),this.Jt=t,this.Ki=e,this.Zi=i}Yi(t,e,i){if(t.It=!1,2===this.Jt.N().mode)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||null===r)return;const s=this.Ki.Xi().Z(n.labelBackgroundColor);i.G=s.G,t.R=s.X;const o=2/12*this.Ki.k();i.Ti=o,i.Ri=o;const l=this.Zi(this.Ki);i.Ei=l.Ei,t.ri=this.Ki.Ji(l.gt,r),t.It=!0}}const nl=/[1-9]/g;class rl{constructor(){this.jt=null}ht(t){this.jt=t}nt(t,e){if(null===this.jt||!1===this.jt.It||0===this.jt.ri.length)return;const i=t.useMediaCoordinateSpace((t=>{let{context:i}=t;return i.font=e.P,Math.round(e.Qi.Ii(i,Mo(this.jt).ri,nl))}));if(i<=0)return;const n=e.ts,r=i+2*n,s=r/2,o=this.jt.ss;let l=this.jt.Ei,a=Math.floor(l-s)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-s)+.5):a+r>o&&(l-=Math.abs(o-(a+r)),a=Math.floor(l-s)+.5);const h=a+r,u=Math.ceil(0+e.S+e.C+e.A+e.k+e.I);t.useBitmapCoordinateSpace((t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const s=Mo(this.jt);i.fillStyle=s.G;const o=Math.round(a*n),l=Math.round(0*r),c=Math.round(h*n),d=Math.round(u*r),f=Math.round(2*n);if(i.beginPath(),i.moveTo(o,l),i.lineTo(o,d-f),i.arcTo(o,d,o+f,d,f),i.lineTo(c-f,d),i.arcTo(c,d,c,d-f,f),i.lineTo(c,l),i.fill(),s.pi){const t=Math.round(s.Ei*n),o=l,a=Math.round((o+e.C)*r);i.fillStyle=s.R;const h=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);i.fillRect(t-u,o,h,a-o)}})),t.useMediaCoordinateSpace((t=>{let{context:i}=t;const r=Mo(this.jt),s=0+e.S+e.C+e.A+e.k/2;i.font=e.P,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r.R;const o=e.Qi.Di(i,"Apr0");i.translate(a+n,s+o),i.fillText(r.ri,0,0)}))}}class sl{constructor(t,e,i){this.xt=!0,this.Xt=new rl,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=t,this.ns=e,this.Zi=i}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const t=this.Gt;if(t.It=!1,2===this.Ct.N().mode)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ns.Et();if(i.Gi())return;t.ss=i.ss();const n=this.Zi();if(null===n)return;t.Ei=n.Ei;const r=i.es(this.Ct.Bt());t.ri=i.rs(Mo(r)),t.It=!0;const s=this.ns.Xi().Z(e.labelBackgroundColor);t.G=s.G,t.R=s.X,t.pi=i.N().ticksVisible}}class ol{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(t){this.ls=t}Ft(){return this.hs}cs(t){this.hs=t}ds(t){return[]}fs(){return[]}It(){return!0}}var ll;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"}(ll||(ll={}));class al extends ol{constructor(t,e){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=t,this.Ps=e,this.Ts=((t,e)=>i=>{const n=e(),r=t();if(i===Mo(this.yt).Rs())return{gt:r,Ei:n};{const t=Mo(i.Lt());return{gt:i.Ds(n,t),Ei:n}}})((()=>this.ps),(()=>this.Cs));const i=((t,e)=>()=>{const i=this.ns.Et().Is(t()),n=e();return i&&Number.isFinite(n)?{wt:i,Ei:n}:null})((()=>this.vs),(()=>this.si()));this.Vs=new sl(this,t,i)}N(){return this.Ps}Bs(t,e){this.ys=t,this.ks=e}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(t,e,i){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(t,e,i)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(t){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return t;const e=this.ns,i=e.Et();let n=null,r=null;for(const a of e.Us()){const e=a.qs().$s(t,-1);if(e){if(e.js===t)return t;(null===n||e.js>n)&&(n=e.js)}const i=a.qs().$s(t,1);if(i){if(i.js===t)return t;(null===r||i.js<r)&&(r=i.js)}}const s=[n,r].filter(Bo);if(0===s.length)return t;const o=i.qt(t),l=s.map((t=>Math.abs(o-i.qt(t))));return s[l.indexOf(Math.min(...l))]}Ys(t){let e=this.bs.get(t);e||(e=new Jo(this,t),this.bs.set(t,e));let i=this.Ss.get(t);return i||(i=new Ko(this.ns,this,t),this.Ss.set(t,i)),[e,i]}ti(t){return t===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(t,e){this.ws&&this.yt===t||this.gs.clear();const i=[];return this.yt===t&&i.push(this.Zs(this.gs,e,this.Ts)),i}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((t=>{this.bs.get(t)?.kt(),this.Ss.get(t)?.kt()})),this.gs.forEach((t=>t.kt())),this.Vs.kt()}Js(t){return t&&!t.Rs().Gi()?t.Rs():null}Os(t,e,i){this.Qs(t,e,i)&&this.Ws()}Qs(t,e,i){const n=this.xs,r=this.Cs,s=this.ps,o=this.vs,l=this.yt,a=this.Js(i);this.vs=t,this.xs=isNaN(t)?NaN:this.ns.Et().qt(t),this.yt=i;const h=null!==a?a.Lt():null;return null!==a&&null!==h?(this.ps=e,this.Cs=a.Nt(e,h)):(this.ps=NaN,this.Cs=NaN),n!==this.xs||r!==this.Cs||o!==this.vs||s!==this.ps||l!==this.yt}Fs(){const t=this.ns.tn().map((t=>t.qs().sn())).filter(Bo),e=0===t.length?null:Math.max(...t);this.vs=null!==e?e:NaN}Zs(t,e,i){let n=t.get(e);return void 0===n&&(n=new il(this,e,i),t.set(e,n)),n}}function hl(t){return"left"===t||"right"===t}class ul{constructor(t){this.nn=new Map,this.en=[],this.rn=t}hn(t,e){const i=function(t,e){return void 0===t?e:{an:Math.max(t.an,e.an),ln:t.ln||e.ln}}(this.nn.get(t),e);this.nn.set(t,i)}_n(){return this.rn}un(t){const e=this.nn.get(t);return void 0===e?{an:this.rn}:{an:Math.max(this.rn,e.an),ln:e.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(t){this.dn(),this.en=[{fn:1,Wt:t}]}vn(t){this.mn(),this.en.push({fn:5,Wt:t})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(t){this.dn(),this.en.push({fn:2,Wt:t})}Mn(t){this.dn(),this.en.push({fn:3,Wt:t})}bn(){return this.en}Sn(t){for(const e of t.en)this.xn(e);this.rn=Math.max(this.rn,t.rn),t.nn.forEach(((t,e)=>{this.hn(e,t)}))}static Cn(){return new ul(2)}static yn(){return new ul(3)}xn(t){switch(t.fn){case 0:this.cn();break;case 1:this.pn(t.Wt);break;case 2:this.gn(t.Wt);break;case 3:this.Mn(t.Wt);break;case 4:this.wn();break;case 5:this.vn(t.Wt);break;case 6:this.mn()}}mn(){const t=this.en.findIndex((t=>5===t.fn));-1!==t&&this.en.splice(t,1)}}class cl{formatTickmarks(t){return t.map((t=>this.format(t)))}}function dl(t,e){if(!Co(t))return"n/a";if(!ko(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class fl extends cl{constructor(t,e){if(super(),e||(e=1),Co(t)&&ko(t)||(t=100),t<0)throw new TypeError("invalid base");this.Ki=t,this.kn=e,this.Pn()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.Tn(t)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let t=this.Ki;for(;t>1;)t/=10,this.Rn++}}Tn(t){const e=this.Ki/this.kn;let i=Math.floor(t),n="";const r=void 0!==this.Rn?this.Rn:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this.Rn);s>=e&&(s-=e,i+=1),n="."+dl(+s.toFixed(this.Rn)*this.kn,r)}else i=Math.round(i*e)/e,r>0&&(n="."+dl(0,r));return i.toFixed(0)+n}}class pl extends fl{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return`${super.format(t)}%`}}class ml extends cl{constructor(t){super(),this.Dn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.In(t):t<999995?e+this.In(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.In(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.In(t/1e9)+"B")}In(t){let e;const i=Math.pow(10,this.Dn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Dn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,((t,e)=>e))}}const yl=/[2-9]/g;class gl{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=t}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(t,e,i){return this.Nn(t,e,i).width}Di(t,e,i){const n=this.Nn(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}Nn(t,e,i){const n=i||yl,r=String(e).replace(n,"0");if(this.Ln.has(r))return xo(this.Ln.get(r)).Fn;if(this.Vn===this.zn){const t=this.An[this.En];delete this.An[this.En],this.Ln.delete(t),this.En++,this.Vn--}t.save(),t.textBaseline="middle";const s=t.measureText(r);return t.restore(),0===s.width&&e.length||(this.Ln.set(r,{Fn:s,Wn:this.Bn}),this.An[this.Bn]=r,this.Vn++,this.Bn++),s}}class bl{constructor(t){this.Hn=null,this.M=null,this.Un="right",this.$n=t}qn(t,e,i){this.Hn=t,this.M=e,this.Un=i}nt(t){null!==this.M&&null!==this.Hn&&this.Hn.nt(t,this.M,this.$n,this.Un)}}class vl{constructor(t,e,i){this.jn=t,this.$n=new gl(50),this.Yn=e,this.O=i,this.F=-1,this.Xt=new bl(this.$n)}Tt(){const t=this.O.Kn(this.Yn);if(null===t)return null;const e=t.Zn(this.Yn)?t.Gn():this.Yn.Ft();if(null===e)return null;const i=t.Xn(e);if("overlay"===i)return null;const n=this.O.Jn();return n.k!==this.F&&(this.F=n.k,this.$n.On()),this.Xt.qn(this.jn.ji(),n,i),this.Xt}}class wl extends Vo{constructor(){super(...arguments),this.jt=null}ht(t){this.jt=t}Qn(t,e){if(!this.jt?.It)return null;const{ut:i,ct:n,te:r}=this.jt;return e>=i-n-7&&e<=i+n+7?{ie:this.jt,te:r}:null}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.jt)return;if(!1===this.jt.It)return;const s=Math.round(this.jt.ut*r);s<0||s>i.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),wo(e,this.jt.Zt),_o(e,s,0,i.width))}}class _l{constructor(t){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new wl,this.xt=!0,this.ee=t,this.re=t.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class Sl extends _l{constructor(t){super(t)}he(){this.se.It=!1;const t=this.ee.Ft(),e=t.ae().ae;if(2!==e&&3!==e)return;const i=this.ee.N();if(!i.baseLineVisible||!this.ee.It())return;const n=this.ee.Lt();null!==n&&(this.se.It=!0,this.se.ut=t.Nt(n.Wt,n.Wt),this.se.R=i.baseLineColor,this.se.ct=i.baseLineWidth,this.se.Zt=i.baseLineStyle)}}class xl extends Vo{constructor(){super(...arguments),this.jt=null}ht(t){this.jt=t}le(){return this.jt}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this.jt;if(null===r)return;const s=Math.max(1,Math.floor(i)),o=s%2/2,l=Math.round(r.oe.x*i)+o,a=r.oe.y*n;e.fillStyle=r._e,e.beginPath();const h=Math.max(2,1.5*r.ue)*i;e.arc(l,a,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.ce,e.beginPath(),e.arc(l,a,r.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=r.de,e.beginPath(),e.arc(l,a,r.ft*i+s/2,0,2*Math.PI,!1),e.stroke()}}const Ml=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class Tl{constructor(t){this.Xt=new xl,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=t}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),2===this.ye.N().lastPriceAnimation){const t=performance.now(),e=this.Ce-t;if(e>0)return void(e<650&&(this.Ce+=2600));this.xe=t,this.Ce=t+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return 0!==this.ye.N().lastPriceAnimation}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const t=this.ye.Qt().Et(),e=t.Ie(),i=this.ye.Lt();if(null===e||null===i)return;const n=this.ye.Ve(!0);if(n.Be||!e.Ee(n.js))return;const r={x:t.qt(n.js),y:this.ye.Ft().Nt(n.gt,i.Wt)},s=n.R,o=this.ye.N().lineWidth,l=this.Ae(this.Le(),s);this.Xt.ht({_e:s,ue:o,ce:l.ce,de:l.de,ft:l.ft,oe:r})}De(){const t=this.Xt.le();if(null!==t){const e=this.Ae(this.Le(),t._e);t.ce=e.ce,t.de=e.de,t.ft=e.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(t,e,i,n){const r=i+(n-i)*e;return this.ye.Qt().Xi().Y(t,r)}Ae(t,e){const i=t%2600/2600;let n;for(const a of Ml)if(i>=a.fe&&i<=a.pe){n=a;break}So(void 0!==n,"Last price animation internal logic error");const r=(i-n.fe)/(n.pe-n.fe);return{ce:this.ze(e,r,n.we,n.ge),de:this.ze(e,r,n.Me,n.be),ft:(s=r,o=n.ve,l=n.me,o+(l-o)*s)};var s,o,l}}class Il extends _l{constructor(t){super(t)}he(){const t=this.se;t.It=!1;const e=this.ee.N();if(!e.priceLineVisible||!this.ee.It())return;const i=this.ee.Ve(0===e.priceLineSource);i.Be||(t.It=!0,t.ut=i.Ei,t.R=this.ee.Oe(i.R),t.ct=e.priceLineWidth,t.Zt=e.priceLineStyle)}}class El extends el{constructor(t){super(),this.Jt=t}Yi(t,e,i){t.It=!1,e.It=!1;const n=this.Jt;if(!n.It())return;const r=n.N(),s=r.lastValueVisible,o=""!==n.Ne(),l=0===r.seriesLastValueMode,a=n.Ve(!1);if(a.Be)return;s&&(t.ri=this.Fe(a,s,l),t.It=0!==t.ri.length),(o||l)&&(e.ri=this.We(a,s,o,l),e.It=e.ri.length>0);const h=n.Oe(a.R),u=this.Jt.Qt().Xi().Z(h);i.G=u.G,i.Ei=a.Ei,e.Ht=n.Qt().Ut(a.Ei/n.Ft().$t()),t.Ht=h,t.R=u.X,e.R=u.X}We(t,e,i,n){let r="";const s=this.Jt.Ne();return i&&0!==s.length&&(r+=`${s} `),e&&n&&(r+=this.Jt.Ft().He()?t.Ue:t.$e),r.trim()}Fe(t,e,i){return e?i?this.Jt.Ft().He()?t.$e:t.Ue:t.ri:""}}function Cl(t,e,i,n){const r=Number.isFinite(e),s=Number.isFinite(i);return r&&s?t(e,i):r||s?r?e:i:n}class kl{constructor(t,e){this.qe=t,this.je=e}Ye(t){return null!==t&&this.qe===t.qe&&this.je===t.je}Ke(){return new kl(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(t){return null===t?this:new kl(Cl(Math.min,this.Ze(),t.Ze(),-1/0),Cl(Math.max,this.Ge(),t.Ge(),1/0))}Je(t){if(!Co(t))return;if(0===this.je-this.qe)return;const e=.5*(this.je+this.qe);let i=this.je-e,n=this.qe-e;i*=t,n*=t,this.je=e+i,this.qe=e+n}Qe(t){Co(t)&&(this.je+=t,this.qe+=t)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(t){return null===t?null:new kl(t.minValue,t.maxValue)}}class Pl{constructor(t,e){this.sr=t,this.nr=e||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:null===this.sr?null:this.sr.tr(),margins:this.nr||void 0}}static ir(t){return null===t?null:new Pl(kl.ir(t.priceRange),t.margins)}}const Nl=[2,4,8,16,32,64,128,256,512];class Ol extends _l{constructor(t,e){super(t),this.hr=e}he(){const t=this.se;t.It=!1;const e=this.hr.N();if(!this.ee.It()||!e.lineVisible)return;const i=this.hr.ar();null!==i&&(t.It=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Zt=e.lineStyle,t.te=this.hr.N().id)}}class Bl extends el{constructor(t,e){super(),this.ye=t,this.hr=e}Yi(t,e,i){t.It=!1,e.It=!1;const n=this.hr.N(),r=n.axisLabelVisible,s=""!==n.title,o=this.ye;if(!r||!o.It())return;const l=this.hr.ar();if(null===l)return;s&&(e.ri=n.title,e.It=!0),e.Ht=o.Qt().Ut(l/o.Ft().$t()),t.ri=this.lr(n.price),t.It=!0;const a=this.ye.Qt().Xi().Z(n.axisLabelColor||n.color);i.G=a.G;const h=n.axisLabelTextColor||a.X;t.R=h,e.R=h,i.Ei=l}lr(t){const e=this.ye.Lt();return null===e?"":this.ye.Ft().Ji(t,e.Wt)}}class Al{constructor(t,e){this.ye=t,this.Ps=e,this._r=new Ol(t,this),this.jn=new Bl(t,this),this.ur=new vl(this.jn,t,t.Qt())}cr(t){Eo(this.Ps,t),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const t=this.ye,e=t.Ft();if(t.Qt().Et().Gi()||e.Gi())return null;const i=t.Lt();return null===i?null:e.Nt(this.Ps.price,i.Wt)}}class Fl{constructor(){this.wr=new WeakMap}gr(t,e,i){const n=1/e*i;if(t>=n)return 1;const r=n/t,s=Math.pow(2,Math.floor(Math.log2(r)));return Math.min(s,512)}Mr(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;if(0===t.length||e<=1)return t;const s=this.br(e);if(s<=1)return t;const o=this.Sr(t);let l=o.Cr.get(s);return void 0!==l||(l=this.yr(t,s,i,n,r,o.Cr),o.Cr.set(s,l)),l}kr(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0;if(i<1||0===t.length)return t;const o=this.Sr(t),l=o.Cr.get(i);if(!l)return this.Mr(t,i,n,r,s);const a=this.Pr(t,e,i,l,r,n,s);return o.Cr.set(i,a),a}br(t){if(t<=2)return 2;for(const e of Nl)if(t<=e)return e;return 512}Tr(t){if(0===t.length)return 0;const e=t[0],i=t[t.length-1];return 31*t.length+17*e.js+13*i.js}yr(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Map;if(2===e)return this.Rr(t,2,i,n,r);const o=e/2;let l=s.get(o);return l||(l=this.yr(t,o,i,n,r,s),s.set(o,l)),this.Dr(l,i,n,r)}Rr(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;const s=this.Ir(t,e,i,n,r);return this.Vr(s,n)}Dr(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=this.Ir(t,2,e,i,n);return this.Vr(r,i)}Ir(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;const s=[];for(let o=0;o<t.length;o+=e)if(t.length-o>=e){const e=this.Br(t[o],t[o+1],i,n,r);e.Er=!1,s.push(e)}else if(0===s.length)s.push(this.Ar(t[o],!0));else{const e=s[s.length-1];s[s.length-1]=this.Lr(e,t[o],i,n,r)}return s}zr(t,e){return(t??1)+(e??1)}Br(t,e,i){let n=arguments.length>4?arguments[4]:void 0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])||!i||!n){const i=t.Wt[1]>e.Wt[1]?t.Wt[1]:e.Wt[1],n=t.Wt[2]<e.Wt[2]?t.Wt[2]:e.Wt[2];return{Or:t.js,Nr:e.js,Fr:t.wt,Wr:e.wt,Hr:t.Wt[0],Ur:i,$r:n,qr:e.Wt[3],jr:this.zr(t.jr,e.jr),Yr:void 0,Er:!1}}const r=i(this.Kr(t,n),this.Kr(e,n)),s=n(r),o=s.length?s[s.length-1]:0;return{Or:t.js,Nr:e.js,Fr:t.wt,Wr:e.wt,Hr:t.Wt[0],Ur:Math.max(t.Wt[1],o),$r:Math.min(t.Wt[2],o),qr:o,jr:this.zr(t.jr,e.jr),Yr:r,Er:!1}}Lr(t,e,i){let n=arguments.length>4?arguments[4]:void 0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])||!i||!n)return{Or:t.Or,Nr:e.js,Fr:t.Fr,Wr:e.wt,Hr:t.Hr,Ur:t.Ur>e.Wt[1]?t.Ur:e.Wt[1],$r:t.$r<e.Wt[2]?t.$r:e.Wt[2],qr:e.Wt[3],jr:t.jr+(e.jr??1),Yr:t.Yr,Er:!1};const r=t.Yr,s=this.Kr(e,n),o=r?{data:r,index:t.Or,originalTime:t.Fr,time:t.Fr,priceValues:n(r)}:null,l=o?i(o,s):s.data,a=o?n(l):s.priceValues,h=a.length?a[a.length-1]:0;return{Or:t.Or,Nr:e.js,Fr:t.Fr,Wr:e.wt,Hr:t.Hr,Ur:Math.max(t.Ur,h),$r:Math.min(t.$r,h),qr:h,jr:t.jr+(e.jr??1),Yr:l,Er:!1}}Zr(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0;const a=e===n?r:t[e];if(i-e==1)return this.Ar(a,!0);const h=e+1===n?r:t[e+1];let u=this.Br(a,h,s,o,l);for(let c=e+2;c<i;c++){const e=c===n?r:t[c];u=this.Lr(u,e,s,o,l)}return u}Kr(t,e){const i=t.le??{};return{data:t.le,index:t.js,originalTime:t.Gr,time:t.wt,priceValues:e(i)}}Xr(t){const e=!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1]),i=!!t.Yr;return{js:t.Or,wt:t.Fr,Gr:t.Fr,Wt:[e?t.qr:t.Hr,t.Ur,t.$r,t.qr],jr:t.jr,le:e?i?t.Yr:{wt:t.Fr}:void 0}}Vr(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((t=>this.Xr(t,e)))}Pr(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(0===n.length)return n;const l=t.length-1,a=Math.floor(l/i)*i;if(Math.min(a+i,t.length)-a<i&&t.length>i){const n=t.slice();return n[n.length-1]=e,this.Mr(n,i,s,r,o)}if(Math.floor((l-1)/i)===Math.floor(l/i)||1===n.length){const h=Math.min(a+i,t.length),u=h-a;if(u<=0)return n;const c=1===u?this.Ar(a===l?e:t[a],!0):this.Zr(t,a,h,l,e,s,r,o);return n[n.length-1]=this.Xr(c,r),n}{const n=t.slice();return n[n.length-1]=e,this.Mr(n,i,s,r,o)}}Ar(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{Or:t.js,Nr:t.js,Fr:t.wt,Wr:t.wt,Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3],jr:t.jr??1,Yr:t.le,Er:e}}Sr(t){const e=this.Jr(t),i=this.Tr(t);return e.Qr!==i&&(e.Cr.clear(),e.Qr=i),e}Jr(t){let e=this.wr.get(t);return void 0===e&&(e={Qr:this.Tr(t),Cr:new Map},this.wr.set(t,e)),e}}class Ll extends ol{constructor(t){super(),this.ns=t}Qt(){return this.ns}}const Dl={Bar:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=Mo(t(i,n)),l=To(o.Wt[0])<=To(o.Wt[3]);return{th:o.R??(l?r:s)}},Candlestick:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=e.borderUpColor,l=e.borderDownColor,a=e.wickUpColor,h=e.wickDownColor,u=Mo(t(i,n)),c=To(u.Wt[0])<=To(u.Wt[3]);return{th:u.R??(c?r:s),ih:u.Ht??(c?o:l),sh:u.nh??(c?a:h)}},Custom:(t,e,i,n)=>({th:Mo(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const r=Mo(t(i,n));return{th:r.vt??e.lineColor,vt:r.vt??e.lineColor,eh:r.eh??e.topColor,rh:r.rh??e.bottomColor}},Baseline:(t,e,i,n)=>{const r=Mo(t(i,n));return{th:r.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:r.hh??e.topLineColor,ah:r.ah??e.bottomLineColor,oh:r.oh??e.topFillColor1,_h:r._h??e.topFillColor2,uh:r.uh??e.bottomFillColor1,dh:r.dh??e.bottomFillColor2}},Line:(t,e,i,n)=>{const r=Mo(t(i,n));return{th:r.R??e.color,vt:r.R??e.color}},Histogram:(t,e,i,n)=>({th:Mo(t(i,n)).R??e.color})};class Rl{constructor(t){this.fh=(t,e)=>void 0!==e?e.Wt:this.ye.qs().ph(t),this.ye=t,this.mh=Dl[t.wh()]}gh(t,e){return this.mh(this.fh,this.ye.N(),t,e)}}function zl(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;for(;0<s;){const o=s>>1,l=r+o;n(e[l],i)===t?(r=l+1,s-=o+1):s=o}return r}const Ul=zl.bind(null,!0),jl=zl.bind(null,!1);var Vl;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Vl||(Vl={}));const Wl=30;class $l{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return 0===this.yh()}Ee(t){return null!==this.Th(t,0)}ph(t){return this.$s(t)}$s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.Th(t,e);return null===i?null:{...this.Rh(i),js:this.Ph(i)}}Dh(){return this.Mh}Ih(t,e,i){if(this.Gi())return null;let n=null;for(const r of i)n=Yl(n,this.Vh(t,e,r));return n}ht(t){this.Sh.clear(),this.bh.clear(),this.Mh=t,this.xh=t.map((t=>t.js))}Bh(){return this.xh}Ph(t){return this.Mh[t].js}Rh(t){return this.Mh[t]}Th(t,e){const i=this.Eh(t);if(null===i&&0!==e)switch(e){case-1:return this.Ah(t);case 1:return this.Lh(t);default:throw new TypeError("Unknown search mode")}return i}Ah(t){let e=this.zh(t);return e>0&&(e-=1),e!==this.Mh.length&&this.Ph(e)<t?e:null}Lh(t){const e=this.Oh(t);return e!==this.Mh.length&&t<this.Ph(e)?e:null}Eh(t){const e=this.zh(t);return e===this.Mh.length||t<this.Mh[e].js?null:e}zh(t){return Ul(this.Mh,t,((t,e)=>t.js<e))}Oh(t){return jl(this.Mh,t,((t,e)=>t.js>e))}Nh(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.Mh[r].Wt[i];Number.isNaN(t)||(null===n?n={Fh:t,Wh:t}:(t<n.Fh&&(n.Fh=t),t>n.Wh&&(n.Wh=t)))}return n}Vh(t,e,i){if(this.Gi())return null;let n=null;const r=Mo(this.kh()),s=Mo(this.sn()),o=Math.max(t,r),l=Math.min(e,s),a=Math.ceil(o/Wl)*Wl,h=Math.max(a,Math.floor(l/Wl)*Wl);{const t=this.zh(o),r=this.Oh(Math.min(l,a,e));n=Yl(n,this.Nh(t,r,i))}let u=this.bh.get(i);void 0===u&&(u=new Map,this.bh.set(i,u));for(let c=Math.max(a+1,o);c<h;c+=Wl){const t=Math.floor(c/Wl);let e=u.get(t);if(void 0===e){const n=this.zh(t*Wl),r=this.Oh((t+1)*Wl-1);e=this.Nh(n,r,i),u.set(t,e)}n=Yl(n,e)}{const t=this.zh(h),e=this.Oh(l);n=Yl(n,this.Nh(t,e,i))}return n}}function Yl(t,e){return null===t?e:null===e?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function Kl(){return new $l}const Hl={setLineStyle:wo};class Jl{constructor(t){this.Hh=t}nt(t,e,i){this.Hh.draw(t,Hl)}Uh(t,e,i){this.Hh.drawBackground?.(t,Hl)}}class Ql{constructor(t){this.Ln=null,this.$h=t}Tt(){const t=this.$h.renderer();if(null===t)return null;if(this.Ln?.qh===t)return this.Ln.jh;const e=new Jl(t);return this.Ln={qh:t,jh:e},e}Yh(){return this.$h.zOrder?.()??"normal"}}class Gl{constructor(t){this.Kh=null,this.Zh=t}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const t=this.Zh.paneViews?.()??[];if(this.Kh?.qh===t)return this.Kh.jh;const e=t.map((t=>new Ql(t)));return this.Kh={qh:t,jh:e},e}Qn(t,e){return this.Zh.hitTest?.(t,e)??null}}let Xl=class extends Gl{ds(){return[]}};class ql{constructor(t){this.Hh=t}nt(t,e,i){this.Hh.draw(t,Hl)}Uh(t,e,i){this.Hh.drawBackground?.(t,Hl)}}class Zl{constructor(t){this.Ln=null,this.$h=t}Tt(){const t=this.$h.renderer();if(null===t)return null;if(this.Ln?.qh===t)return this.Ln.jh;const e=new ql(t);return this.Ln={qh:t,jh:e},e}Yh(){return this.$h.zOrder?.()??"normal"}}function ta(t){return{ri:t.text(),Ei:t.coordinate(),Vi:t.fixedCoordinate?.(),R:t.textColor(),G:t.backColor(),It:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class ea{constructor(t,e){this.Xt=new rl,this.Xh=t,this.Jh=e}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...ta(this.Xh)}),this.Xt}}class ia extends el{constructor(t,e){super(),this.Xh=t,this.Ki=e}Yi(t,e,i){const n=ta(this.Xh);i.G=n.G,t.R=n.R;const r=2/12*this.Ki.k();i.Ti=r,i.Ri=r,i.Ei=n.Ei,i.Vi=n.Vi,t.ri=n.ri,t.It=n.It,t.pi=n.pi}}class na extends Gl{constructor(t,e){super(t),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=e}fs(){const t=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===t)return this.Qh.jh;const e=this.ye.Qt().Et(),i=t.map((t=>new ea(t,e)));return this.Qh={qh:t,jh:i},i}Ks(){const t=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===t)return this.ta.jh;const e=this.ye.Ft(),i=t.map((t=>new ia(t,e)));return this.ta={qh:t,jh:i},i}na(){const t=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===t)return this.ia.jh;const e=t.map((t=>new Zl(t)));return this.ia={qh:t,jh:e},e}ea(){const t=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===t)return this.sa.jh;const e=t.map((t=>new Zl(t)));return this.sa={qh:t,jh:e},e}ra(t,e){return this.Zh.autoscaleInfo?.(t,e)??null}}function ra(t,e,i,n){t.forEach((t=>{e(t).forEach((t=>{t.Yh()===i&&n.push(t)}))}))}function sa(t){return t.Ys()}function oa(t){return t.na()}function la(t){return t.ea()}const aa=["Area","Line","Baseline"];class ha extends Ll{constructor(t,e,i,n,r){super(t),this.jt=Kl(),this._r=new Il(this),this.ha=[],this.aa=new Sl(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new Fl,this.da=new Map,this.fa=null,this.Ps=i,this.pa=e;const s=new El(this);if(this.gs=[s],this.ur=new vl(s,this,t),aa.includes(this.pa)&&(this.la=new Tl(this)),this.va(),this.$h=n(this,this.Qt(),r),"Custom"===this.pa){const t=this.$h;t.ma&&this.wa(t.ma)}}m(){null!==this._a&&clearTimeout(this._a)}Oe(t){return this.Ps.priceLineColor||t}Ve(t){const e={Be:!0},i=this.Ft();if(this.Qt().Et().Gi()||i.Gi()||this.jt.Gi())return e;const n=this.Qt().Et().Ie(),r=this.Lt();if(null===n||null===r)return e;let s,o;if(t){const t=this.jt.Ch();if(null===t)return e;s=t,o=t.js}else{const t=this.jt.$s(n.bi(),-1);if(null===t)return e;if(s=this.jt.ph(t.js),null===s)return e;o=t.js}const l=s.Wt[3],a=this.ga().gh(o,{Wt:s}),h=i.Nt(l,r.Wt);return{Be:!1,gt:l,ri:i.Ji(l,r.Wt),Ue:i.Ma(l),$e:i.ba(l,r.Wt),R:a.th,Ei:h,js:o}}ga(){return null!==this.oa||(this.oa=new Rl(this)),this.oa}N(){return this.Ps}cr(t){const e=this.Qt(),{priceScaleId:i,visible:n,priceFormat:r}=t;void 0!==i&&i!==this.Ps.priceScaleId&&e.Sa(this,i),void 0!==n&&n!==this.Ps.visible&&e.xa();const s=void 0!==t.conflationThresholdFactor;Eo(this.Ps,t),s&&(this.da.clear(),this.Qt().dr()),void 0!==r&&(this.va(),e.Ca()),e.ya(this),e.ka(),this.$h.kt("options")}ht(t,e){this.jt.ht(t),this.da.clear();const i=this.Qt().Et().N();i.enableConflation&&i.precomputeConflationOnInit&&this.Pa(i.precomputeConflationPriority),this.$h.kt("data"),null!==this.la&&(e&&e.Ta?this.la.Pe():0===t.length&&this.la.ke());const n=this.Qt().Kn(this);this.Qt().Ra(n),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(t){const e=new Al(this,t);return this.ha.push(e),this.Qt().ya(this),e}Ia(t){const e=this.ha.indexOf(t);-1!==e&&this.ha.splice(e,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const t=this.Ba();return null===t?null:{Wt:t.Wt[3],Ea:t.wt}}Ba(){const t=this.Qt().Et().Ie();if(null===t)return null;const e=t.Aa();return this.jt.$s(e,1)}qs(){return this.jt}wa(t){this.fa=t,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(t){if(!this.La())return;const e=this.za();if(!this.da.has(e))return;const i="Custom"===this.pa,n=i&&this.fa||void 0,r=i&&this.$h.Oa?t=>{const e=t,i=this.$h.Oa(e);return Array.isArray(i)?i:["number"==typeof i?i:0]}:void 0,s=this.ca.kr(this.jt.Dh(),t,e,n,i,r),o=Kl();o.ht(s),this.da.set(e,o)}Na(){const t=this.Qt().Et().N().enableConflation;if("Custom"===this.pa&&null===this.fa)return this.jt;if(!t)return this.jt;const e=this.za(),i=this.da.get(e);return i||(this.Fa(e),this.da.get(e)??this.jt)}Wa(t){const e=this.jt.ph(t);return null===e?null:"Bar"===this.pa||"Candlestick"===this.pa||"Custom"===this.pa?{Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3]}:e.Wt[3]}Ha(t){const e=[];ra(this.ua,sa,"top",e);const i=this.la;return null!==i&&i.It()?(null===this._a&&i.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),i.Te(),e.unshift(i),e):e}Ys(){const t=[];this.$a()||t.push(this.aa),t.push(this.$h,this._r);const e=this.ha.map((t=>t.pr()));return t.push(...e),ra(this.ua,sa,"normal",t),t}qa(){return this.ja(sa,"bottom")}Ya(t){return this.ja(oa,t)}Ka(t){return this.ja(la,t)}Za(t,e){return this.ua.map((i=>i.Qn(t,e))).filter((t=>null!==t))}ds(){return[this.ur,...this.ha.map((t=>t.vr()))]}Ks(t,e){if(e!==this.hs&&!this.$a())return[];const i=[...this.gs];for(const n of this.ha)i.push(n.mr());return this.ua.forEach((t=>{i.push(...t.Ks())})),i}fs(){const t=[];return this.ua.forEach((e=>{t.push(...e.fs())})),t}ra(t,e){if(void 0!==this.Ps.autoscaleInfoProvider){const i=this.Ps.autoscaleInfoProvider((()=>{const i=this.Ga(t,e);return null===i?null:i.tr()}));return Pl.ir(i)}return this.Ga(t,e)}qh(){const t=this.Ps.priceFormat;return t.base??1/t.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const t of this.gs)t.kt();for(const t of this.ha)t.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((t=>t.Ws()))}Ft(){return Mo(super.Ft())}At(t){if("Line"!==this.pa&&"Area"!==this.pa&&"Baseline"!==this.pa||!this.Ps.crosshairMarkerVisible)return null;const e=this.jt.ph(t);return null===e?null:{gt:e.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(t)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(t){this.ua.push(new na(t,this))}el(t){this.ua=this.ua.filter((e=>e.Gh()!==t))}rl(){if("Custom"===this.pa)return t=>this.$h.Oa(t)}hl(){if("Custom"===this.pa)return t=>this.$h.al(t)}ll(){return this.jt.Bh()}$a(){return!hl(this.Ft().ol())}Ga(t,e){if(!ko(t)||!ko(e)||this.jt.Gi())return null;const i="Line"===this.pa||"Area"===this.pa||"Baseline"===this.pa||"Histogram"===this.pa?[3]:[2,1],n=this.jt.Ih(t,e,i);let r=null!==n?new kl(n.Fh,n.Wh):null,s=null;if("Histogram"===this.wh()){const t=this.Ps.base,e=new kl(t,t);r=null!==r?r.Sn(e):e}return this.ua.forEach((i=>{const n=i.ra(t,e);if(n?.priceRange){const t=new kl(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.Sn(t):t}n?.margins&&(s=n.margins)})),new Pl(r,s)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(t){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.ga().gh(t).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.Ja={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.Ja=new ml(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new pl(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new fl(t,this.Ps.priceFormat.minMove*t)}}null!==this.hs&&this.hs._l()}ja(t,e){const i=[];return ra(this.ua,t,e,i),i}za(){const{ul:t,cl:e,dl:i}=this.fl();return this.ca.gr(t,e,i)}fl(){const t=this.Qt().Et(),e=t.ul(),i=window.devicePixelRatio||1,n=t.N().conflationThresholdFactor;return{ul:e,cl:i,dl:this.Ps.conflationThresholdFactor??n??1}}pl(t){const e=this.jt.Dh();let i;if("Custom"===this.pa&&null!==this.fa){const n=this.rl();if(!n)throw new Error("Custom series with conflation reducer must have a priceValueBuilder method");i=this.ca.Mr(e,t,this.fa,!0,(t=>n(t)))}else i=this.ca.Mr(e,t);const n=Kl();return n.ht(i),n}Fa(t){const e=this.pl(t);this.da.set(t,e)}Pa(t){if("Custom"===this.pa&&(null===this.fa||!this.rl()))return;this.da.clear();const e=this.Qt().Et().vl();for(const i of e){const e=()=>{this.ml(i)},n="object"==typeof window&&window||"object"==typeof self&&self;n?.gl?.wl?n.gl.wl((()=>{e()}),{Ml:t}):Promise.resolve().then((()=>e()))}}ml(t){if(this.da.has(t))return;if(0===this.jt.Dh().length)return;const e=this.pl(t);this.da.set(t,e)}}const ua=[3],ca=[0,1,2,3];class da{constructor(t){this.Ps=t}bl(t,e,i){let n=t;if(0===this.Ps.mode)return n;const r=i.Rs(),s=r.Lt();if(null===s)return n;const o=r.Nt(t,s),l=i.Sl().filter((t=>t instanceof ha)).reduce(((t,n)=>{if(i.Zn(n)||!n.It())return t;const r=n.Ft(),s=n.qs();if(r.Gi()||!s.Ee(e))return t;const o=s.ph(e);if(null===o)return t;const l=To(n.Lt()),a=3===this.Ps.mode?ca:ua;return t.concat(a.map((t=>r.Nt(o.Wt[t],l.Wt))))}),[]);if(0===l.length)return n;l.sort(((t,e)=>Math.abs(t-o)-Math.abs(e-o)));const a=l[0];return n=r.Ds(a,s),n}}function fa(t,e,i){return Math.min(Math.max(t,e),i)}function pa(t,e,i){return e-t<=i}function ma(t){const e=Math.ceil(t);return e%2==0?e-1:e}class ya extends Vo{constructor(){super(...arguments),this.jt=null}ht(t){this.jt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.jt)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,(()=>{const t=Mo(this.jt);if(t.xl){e.strokeStyle=t.Cl,wo(e,t.yl),e.beginPath();for(const r of t.kl){const t=Math.round(r.Pl*n);e.moveTo(t,-s),e.lineTo(t,i.height+s)}e.stroke()}if(t.Tl){e.strokeStyle=t.Rl,wo(e,t.Dl),e.beginPath();for(const n of t.Il){const t=Math.round(n.Pl*r);e.moveTo(-s,t),e.lineTo(i.width+s,t)}e.stroke()}}))}}class ga{constructor(t){this.Xt=new ya,this.xt=!0,this.yt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.yt.Qt().N().grid,e={Tl:t.horzLines.visible,xl:t.vertLines.visible,Rl:t.horzLines.color,Cl:t.vertLines.color,Dl:t.horzLines.style,yl:t.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((t=>({Pl:t.coord})))};this.Xt.ht(e),this.xt=!1}return this.Xt}}class ba{constructor(t){this.$h=new ga(t)}pr(){return this.$h}}const va={Bl:4,El:1e-4};function wa(t,e){const i=100*(t-e)/e;return e<0?-i:i}function _a(t,e){const i=wa(t.Ze(),e),n=wa(t.Ge(),e);return new kl(i,n)}function Sa(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function xa(t,e){const i=Sa(t.Ze(),e),n=Sa(t.Ge(),e);return new kl(i,n)}function Ma(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.El)+e.Bl;return t<0?-n:n}function Ta(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Bl)-e.El;return t<0?-n:n}function Ia(t,e){if(null===t)return null;const i=Ma(t.Ze(),e),n=Ma(t.Ge(),e);return new kl(i,n)}function Ea(t,e){if(null===t)return null;const i=Ta(t.Ze(),e),n=Ta(t.Ge(),e);return new kl(i,n)}function Ca(t){if(null===t)return va;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return va;const i=Math.ceil(Math.abs(Math.log10(e))),n=va.Bl+i;return{Bl:n,El:1/Math.pow(10,n)}}class ka{constructor(t,e){if(this.Al=t,this.Ll=e,function(t){if(t<0)return!1;if(t>1e18)return!0;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let t=this.Al;1!==t;){if(t%2==0)this.zl.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),t/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(t,e,i){const n=0===this.Al?0:1/this.Al;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Ll[0];for(;;){const t=pa(r,n,1e-14)&&r>n+1e-14,e=pa(r,i*o,1e-14),l=pa(r,1,1e-14);if(!(t&&e&&l))break;r/=o,o=this.Ll[++s%this.Ll.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.zl.length>0&&(l=r,Math.abs(l-1)<1e-14))for(s=0,o=this.zl[0];pa(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.zl[++s%this.zl.length];var l;return r}}class Pa{constructor(t,e,i,n){this.Nl=[],this.Ki=t,this.Al=e,this.Fl=i,this.Wl=n}Ol(t,e){if(t<e)throw new Error("high < low");const i=this.Ki.$t(),n=(t-e)*this.Hl()/i,r=new ka(this.Al,[2,2.5,2]),s=new ka(this.Al,[2,2,2.5]),o=new ka(this.Al,[2.5,2,2]),l=[];return l.push(r.Ol(t,e,n),s.Ol(t,e,n),o.Ol(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}Ul(){const t=this.Ki,e=t.Lt();if(null===e)return void(this.Nl=[]);const i=t.$t(),n=this.Fl(i-1,e),r=this.Fl(0,e),s=this.Ki.N().entireTextOnly?this.$l()/2:0,o=s,l=i-1-s,a=Math.max(n,r),h=Math.min(n,r);if(a===h)return void(this.Nl=[]);const u=this.Ol(a,h);if(this.ql(e,u,a,h,o,l),t.jl()&&this.Yl(u,h,a)){const t=this.Ki.Kl();this.Zl(e,u,o,l,t,2*t)}const c=this.Nl.map((t=>t.Gl)),d=this.Ki.Xl(c);for(let f=0;f<this.Nl.length;f++)this.Nl[f].Jl=d[f]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(t,e,i,n,r,s){const o=this.Nl,l=this.Ki;let a=i%e;a+=a<0?e:0;const h=i>=n?1:-1;let u=null,c=0;for(let d=i-a;d>n;d-=e){const i=this.Wl(d,t,!0);null!==u&&Math.abs(i-u)<this.Hl()||i<r||i>s||(c<o.length?(o[c].Pl=i,o[c].Jl=l.Ql(d),o[c].Gl=d):o.push({Pl:i,Jl:l.Ql(d),Gl:d}),c++,u=i,l.io()&&(e=this.Ol(d*h,n)))}o.length=c}Zl(t,e,i,n,r,s){const o=this.Nl,l=this.so(t,i,r,s),a=this.so(t,n,-s,-r),h=this.Wl(0,t,!0)-this.Wl(e,t,!0);o.length>0&&o[0].Pl-l.Pl<h/2&&o.shift(),o.length>0&&a.Pl-o[o.length-1].Pl<h/2&&o.pop(),o.unshift(l),o.push(a)}so(t,e,i,n){const r=(i+n)/2,s=this.Fl(e+i,t),o=this.Fl(e+n,t),l=Math.min(s,o),a=Math.max(s,o),h=Math.max(.1,this.Ol(a,l)),u=this.Fl(e+r,t),c=u-u%h,d=this.Wl(c,t,!0);return{Jl:this.Ki.Ql(c),Pl:d,Gl:c}}Yl(t,e,i){let n=To(this.Ki.er());return this.Ki.io()&&(n=Ea(n,this.Ki.no())),n.Ze()-e<t&&i-n.Ge()<t}}function Na(t){return t.slice().sort(((t,e)=>Mo(t._s())-Mo(e._s())))}var Oa;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Oa||(Oa={}));const Ba=new pl,Aa=new fl(100,1);class Fa{constructor(t,e,i,n,r){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Io,this.fo=new Io,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=Aa,this.So=Ca(null),this.xo=t,this.Ps=e,this.Co=i,this.yo=n,this.ko=r,this.Po=new Pa(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(t){if(Eo(this.Ps,t),this._l(),void 0!==t.mode&&this.Do({ae:t.mode}),void 0!==t.scaleMargins){const e=xo(t.scaleMargins.top),i=xo(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return 1===this.Ps.mode}He(){return 2===this.Ps.mode}Eo(){return 3===this.Ps.mode}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(t){const e=this.ae();let i=null;void 0!==t.ln&&(this.Ps.autoScale=t.ln),void 0!==t.ae&&(this.Ps.mode=t.ae,2!==t.ae&&3!==t.ae||(this.Ps.autoScale=!0),this.ao.lo=!1),1===e.ae&&t.ae!==e.ae&&(function(t,e){if(null===t)return!1;const i=Ta(t.Ze(),e),n=Ta(t.Ge(),e);return isFinite(i)&&isFinite(n)}(this.sr,this.So)?(i=Ea(this.sr,this.So),null!==i&&this.Lo(i)):this.Ps.autoScale=!0),1===t.ae&&t.ae!==e.ae&&(i=Ia(this.sr,this.So),null!==i&&this.Lo(i));const n=e.ae!==this.Ps.mode;n&&(2===e.ae||this.He())&&this._l(),n&&(3===e.ae||this.Eo())&&this._l(),void 0!==t.Ao&&e.Ao!==t.Ao&&(this.Ps.invertScale=t.Ao,this.zo()),this.fo.p(e,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(t){this.eo!==t&&(this.eo=t,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const t=this.$t()-this.Wo()-this.Ho();return this.ro=t,t}er(){return this.Uo(),this.sr}Lo(t,e){const i=this.sr;(e||null===i&&null!==t||null!==i&&!i.Ye(t))&&(this.wo=null,this.sr=t)}$o(t){this.Lo(t),this.qo(null!==t)}Gi(){return this.Uo(),0===this.eo||!this.sr||this.sr.Gi()}jo(t){return this.Ao()?t:this.$t()-1-t}Nt(t,e){return this.He()?t=wa(t,e):this.Eo()&&(t=Sa(t,e)),this.Ro(t,e)}Yo(t,e,i){this.Uo();const n=this.Ho(),r=Mo(this.er()),s=r.Ze(),o=r.Ge(),l=this.Fo()-1,a=this.Ao(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ko();for(let f=u;f<c;f++){const i=t[f],r=i.gt;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i.gt,e));const l=n+h*(o-s),u=a?l:this.eo-1-l;i.ut=u}}Zo(t,e,i){this.Uo();const n=this.Ho(),r=Mo(this.er()),s=r.Ze(),o=r.Ge(),l=this.Fo()-1,a=this.Ao(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.Ko();for(let f=u;f<c;f++){const i=t[f];let r=i.Hr,o=i.Ur,l=i.$r,u=i.qr;null!==d&&(r=d(i.Hr,e),o=d(i.Ur,e),l=d(i.$r,e),u=d(i.qr,e));let c=n+h*(r-s),p=a?c:this.eo-1-c;i.Go=p,c=n+h*(o-s),p=a?c:this.eo-1-c,i.Xo=p,c=n+h*(l-s),p=a?c:this.eo-1-c,i.Jo=p,c=n+h*(u-s),p=a?c:this.eo-1-c,i.Qo=p}}Ds(t,e){const i=this.To(t,e);return this.t_(i,e)}t_(t,e){let i=t;return this.He()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.Eo()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}Sl(){return this.po}Dt(){return this.mo||(this.mo=Na(this.po)),this.mo}i_(t){-1===this.po.indexOf(t)&&(this.po.push(t),this._l(),this.s_())}n_(t){const e=this.po.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.po.splice(e,1),0===this.po.length&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let t=null;for(const e of this.po){const i=e.Lt();null!==i&&(null===t||i.Ea<t.Ea)&&(t=i)}return null===t?null:t.Wt}Ao(){return this.Ps.invertScale}Vl(){const t=null===this.Lt();if(null!==this.wo&&(t||this.wo.e_===t))return this.wo.Vl;this.Po.Ul();const e=this.Po.Vl();return this.wo={Vl:e,e_:t},this.do.p(),e}r_(){return this.do}h_(t){this.He()||this.Eo()||null===this.Mo&&null===this.ho&&(this.Gi()||(this.Mo=this.eo-t,this.ho=Mo(this.er()).Ke()))}a_(t){if(this.He()||this.Eo())return;if(null===this.Mo)return;this.Do({ln:!1}),(t=this.eo-t)<0&&(t=0);let e=(this.Mo+.2*(this.eo-1))/(t+.2*(this.eo-1));const i=Mo(this.ho).Ke();e=Math.max(e,.1),i.Je(e),this.Lo(i)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(t){this.Vo()||null===this.bo&&null===this.ho&&(this.Gi()||(this.bo=t,this.ho=Mo(this.er()).Ke()))}__(t){if(this.Vo())return;if(null===this.bo)return;const e=Mo(this.er()).Xe()/(this.Fo()-1);let i=t-this.bo;this.Ao()&&(i*=-1);const n=i*e,r=Mo(this.ho).Ke();r.Qe(n),this.Lo(r,!0),this.wo=null}u_(){this.Vo()||null!==this.bo&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(t,e){switch(this.Ps.mode){case 2:return this.c_(wa(t,e));case 3:return this.Xa().format(Sa(t,e));default:return this.lr(t)}}Ql(t){switch(this.Ps.mode){case 2:return this.c_(t);case 3:return this.Xa().format(t);default:return this.lr(t)}}Xl(t){switch(this.Ps.mode){case 2:return this.d_(t);case 3:return this.Xa().formatTickmarks(t);default:return this.f_(t)}}Ma(t){return this.lr(t,Mo(this.vo).Xa())}ba(t,e){return t=wa(t,e),this.c_(t,Ba)}p_(){return this.po}v_(t){this.ao={oo:t,lo:!1}}Ws(){this.po.forEach((t=>t.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let t=1/0;this.vo=null;for(const i of this.po)i._s()<t&&(t=i._s(),this.vo=i);let e=100;null!==this.vo&&(e=Math.round(this.vo.qh())),this.Ja=Aa,this.He()?(this.Ja=Ba,e=100):this.Eo()?(this.Ja=new fl(100,1),e=100):null!==this.vo&&(this.Ja=this.vo.Xa()),this.Po=new Pa(this,e,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return null===this.vo||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(t){this._o=t}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(t,e){if(this.Uo(),this.Gi())return 0;t=this.io()&&t?Ma(t,this.So):t;const i=Mo(this.er()),n=this.Ho()+(this.Fo()-1)*(t-i.Ze())/i.Xe();return this.jo(n)}To(t,e){if(this.Uo(),this.Gi())return 0;const i=this.jo(t),n=Mo(this.er()),r=n.Ze()+n.Xe()*((i-this.Ho())/(this.Fo()-1));return this.io()?Ta(r,this.So):r}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const t=this.ao.oo;if(null===t)return;let e=null;const i=this.p_();let n=0,r=0;for(const l of i){if(!l.It())continue;const i=l.Lt();if(null===i)continue;const s=l.ra(t.Aa(),t.bi());let o=s&&s.er();if(null!==o){switch(this.Ps.mode){case 1:o=Ia(o,this.So);break;case 2:o=_a(o,i.Wt);break;case 3:o=xa(o,i.Wt)}if(e=null===e?o:e.Sn(Mo(o)),null!==s){const t=s.rr();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(this.jl()&&(n=Math.max(n,this.Kl()),r=Math.max(r,this.Kl())),n===this.uo&&r===this.co||(this.uo=n,this.co=r,this.wo=null,this.Io()),null!==e){if(e.Ze()===e.Ge()){const t=5*this.m_();this.io()&&(e=Ea(e,this.So)),e=new kl(e.Ze()-t,e.Ge()+t),this.io()&&(e=Ia(e,this.So))}if(this.io()){const t=Ea(e,this.So),i=Ca(t);if(s=i,o=this.So,s.Bl!==o.Bl||s.El!==o.El){const n=null!==this.ho?Ea(this.ho,this.So):null;this.So=i,e=Ia(t,i),null!==n&&(this.ho=Ia(n,i))}}this.Lo(e)}else null===this.sr&&(this.Lo(new kl(-.5,.5)),this.So=Ca(null));var s,o}Ko(){return this.He()?wa:this.Eo()?Sa:this.io()?t=>Ma(t,this.So):null}g_(t,e,i){return void 0===e?(void 0===i&&(i=this.Xa()),i.format(t)):e(t)}M_(t,e,i){return void 0===e?(void 0===i&&(i=this.Xa()),i.formatTickmarks(t)):e(t)}lr(t,e){return this.g_(t,this.yo.priceFormatter,e)}f_(t,e){const i=this.yo.priceFormatter;return this.M_(t,this.yo.tickmarksPriceFormatter??(i?t=>t.map(i):void 0),e)}c_(t,e){return this.g_(t,this.yo.percentageFormatter,e)}d_(t,e){const i=this.yo.percentageFormatter;return this.M_(t,this.yo.tickmarksPercentageFormatter??(i?t=>t.map(i):void 0),e)}}function La(t){return t instanceof ha}class Da{constructor(t,e){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Io,this.ua=[],this.Jh=t,this.ns=e,this.k_=new ba(this);const i=e.N();this.P_=this.T_("left",i.leftPriceScale),this.R_=this.T_("right",i.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(i)}I_(t){if(t.leftPriceScale&&this.P_.cr(t.leftPriceScale),t.rightPriceScale&&this.R_.cr(t.rightPriceScale),t.localization&&(this.P_._l(),this.R_._l()),t.overlayPriceScales){const e=Array.from(this.b_.values());for(const i of e){const e=Mo(i[0].Ft());e.cr(t.overlayPriceScales),t.localization&&e._l()}}}V_(t){switch(t){case"left":return this.P_;case"right":return this.R_}return this.b_.has(t)?xo(this.b_.get(t))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((t=>{t.m&&t.m()})),this.ua=this.ua.filter((t=>{const e=t.Gh();return e.detached&&e.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(t){this.x_=t}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(t){this.S_=t,this.z_()}No(t){this.eo=t,this.P_.No(t),this.R_.No(t),this.po.forEach((e=>{if(this.Zn(e)){const i=e.Ft();null!==i&&i.No(t)}})),this.z_()}O_(t){this.C_=t}N_(){return this.C_}F_(){return this.po.filter(La)}Sl(){return this.po}Zn(t){const e=t.Ft();return null===e||this.P_!==e&&this.R_!==e}i_(t,e,i){this.W_(t,e,i?t._s():this.po.length)}n_(t,e){const i=this.po.indexOf(t);So(-1!==i,"removeDataSource: invalid data source"),this.po.splice(i,1),e||this.po.forEach(((t,e)=>t.us(e)));const n=Mo(t.Ft()).ol();if(this.b_.has(n)){const e=xo(this.b_.get(n)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.b_.delete(n))}const r=t.Ft();r&&r.Sl().indexOf(t)>=0&&(r.n_(t),this.H_(r)),this.mo=null}Xn(t){return t===this.P_?"left":t===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(t,e){t.h_(e)}Y_(t,e){t.a_(e),this.z_()}K_(t){t.l_()}Z_(t,e){t.o_(e)}G_(t,e){t.__(e),this.z_()}X_(t){t.u_()}z_(){this.po.forEach((t=>{t.Ws()}))}Rs(){let t=null;return this.ns.N().rightPriceScale.visible&&0!==this.R_.Sl().length?t=this.R_:this.ns.N().leftPriceScale.visible&&0!==this.P_.Sl().length?t=this.P_:0!==this.po.length&&(t=this.po[0].Ft()),null===t&&(t=this.R_),t}Gn(){let t=null;return this.ns.N().rightPriceScale.visible?t=this.R_:this.ns.N().leftPriceScale.visible&&(t=this.P_),t}H_(t){null!==t&&t.Vo()&&this.J_(t)}Q_(t){const e=this.Jh.Ie();t.Do({ln:!0}),null!==e&&t.v_(e),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((t=>{this.Zn(t)&&this.H_(t.Ft())})),this.z_(),this.ns.dr()}Dt(){return null===this.mo&&(this.mo=Na(this.po)),this.mo}su(t,e){e=fa(e,0,this.po.length-1);const i=this.po.indexOf(t);So(-1!==i,"setSeriesOrder: invalid data source"),this.po.splice(i,1),this.po.splice(e,0,t),this.po.forEach(((t,e)=>t.us(e))),this.mo=null;for(const n of[this.P_,this.R_])n.s_(),n._l();this.ns.dr()}Vt(){return this.Dt().filter(La)}nu(){return this.y_}eu(){return this.k_}nl(t){this.ua.push(new Xl(t))}el(t){this.ua=this.ua.filter((e=>e.Gh()!==t)),t.detached&&t.detached(),this.ns.dr()}ru(){return this.ua}Za(t,e){return this.ua.map((i=>i.Qn(t,e))).filter((t=>null!==t))}J_(t){const e=t.p_();if(e&&e.length>0&&!this.Jh.Gi()){const e=this.Jh.Ie();null!==e&&t.v_(e)}t.Ws()}W_(t,e,i){let n=this.V_(e);if(null===n&&(n=this.T_(e,this.ns.N().overlayPriceScales)),this.po.splice(i,0,t),!hl(e)){const i=this.b_.get(e)||[];i.push(t),this.b_.set(e,i)}t.us(i),n.i_(t),t.cs(n),this.H_(n),this.mo=null}D_(t,e,i){e.ae!==i.ae&&this.J_(t)}T_(t,e){const i={visible:!0,autoScale:!0,...Oo(e)},n=new Fa(t,i,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return n.No(this.$t()),n}}function Ra(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function za(t,e,i,n){for(const r of t){const t=r.Tt(n);if(null!==t&&t.Qn){const n=t.Qn(e,i);if(null!==n)return{_u:r,au:n}}}return null}function Ua(t){return void 0!==t.Ys}function ja(t,e,i){const n=[t,...t.Dt()],r=function(t,e,i){let n,r;for(const l of t){const t=l.Za?.(e,i)??[];for(const e of t)s=e.zOrder,o=n?.zOrder,(!o||"top"===s&&"top"!==o||"normal"===s&&"bottom"===o)&&(n=e,r=l)}var s,o;return n&&r?{lu:n,hu:r}:null}(n,e,i);if("top"===r?.lu.zOrder)return Ra(r);for(const s of n){if(r&&r.hu===s&&"bottom"!==r.lu.zOrder&&!r.lu.isBackground)return Ra(r);if(Ua(s)){const n=za(s.Ys(t),e,i,t);if(null!==n)return{hu:s,_u:n._u,au:n.au}}if(r&&r.hu===s&&"bottom"!==r.lu.zOrder&&r.lu.isBackground)return Ra(r)}return r?.lu?Ra(r):null}class Va{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=t,this.cu=e,this.zn=i}du(t){const e=t.time,i=this.cu.cacheKey(e),n=this.Ln.get(i);if(void 0!==n)return n.fu;if(this.Vn===this.zn){const t=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(xo(t)),this.En++,this.Vn--}const r=this.uu(t);return this.Ln.set(i,{fu:r,Wn:this.Bn}),this.An.set(this.Bn,i),this.Vn++,this.Bn++,r}}class Wa{constructor(t,e){So(t<=e,"right should be >= left"),this.pu=t,this.vu=e}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(t){return this.pu<=t&&t<=this.vu}Ye(t){return this.pu===t.Aa()&&this.vu===t.bi()}}function $a(t,e){return null===t||null===e?t===e:t.Ye(e)}class Ya{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(t){this.gu=t,this.Ln=null}bu(t,e){this.Su(e),this.Ln=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.wu.get(e.timeWeight);void 0===n&&(n=[],this.wu.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}xu(t,e,i,n,r){const s=Math.ceil(e/t);return null!==this.Ln&&this.Ln.Cu===s&&r===this.Ln.yu&&i===this.Ln.ku||(this.Ln={yu:r,ku:i,Vl:this.Pu(s,i,n),Cu:s}),this.Ln.Vl}Su(t){if(0===t)return void this.wu.clear();const e=[];this.wu.forEach(((i,n)=>{t<=i[0].index?e.push(n):i.splice(Ul(i,t,(e=>e.index<t)),1/0)}));for(const i of e)this.wu.delete(i)}Pu(t,e,i){let n=[];const r=t=>!e||i.has(t.index);for(const s of Array.from(this.wu.keys()).sort(((t,e)=>e-t))){if(!this.wu.get(s))continue;const e=n;n=[];const i=e.length;let o=0;const l=xo(this.wu.get(s)),a=l.length;let h=1/0,u=-1/0;for(let s=0;s<a;s++){const a=l[s],c=a.index;for(;o<i;){const t=e[o],i=t.index;if(!(i<c&&r(t))){h=i;break}o++,n.push(t),u=i,h=1/0}if(h-c>=t&&c-u>=t&&r(a))n.push(a),u=c;else if(this.gu)return e}for(;o<i;o++)r(e[o])&&n.push(e[o])}return n}}class Ka{constructor(t){this.Tu=t}Ru(){return null===this.Tu?null:new Wa(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Ka(null)}}function Ha(t,e){return t.weight>e.weight?t:e}class Ja{constructor(t,e,i,n){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new Ya,this.Au=new Map,this.Lu=Ka.Iu(),this.zu=!0,this.Ou=new Io,this.Nu=new Io,this.Fu=new Io,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=e,this.yo=i,this.Yu=e.rightOffset,this.Ku=e.barSpacing,this.ns=t,this.Zu(e),this.cu=n,this.Gu(),this.Eu.Mu(e.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(t){Eo(this.yo,t),this.tc(),this.Gu()}cr(t,e){Eo(this.Ps,t),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),void 0!==t.barSpacing&&this.ns.gn(t.barSpacing),void 0!==t.rightOffset&&this.ns.Mn(t.rightOffset),this.Zu(t),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ns.gn(t.barSpacing??this.Ku),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),void 0===t.enableConflation&&void 0===t.conflationThresholdFactor||this.Xu(),this.Fu.p()}Is(t){return this.Bu[t]?.time??null}es(t){return this.Bu[t]??null}ec(t,e){if(this.Bu.length<1)return null;if(this.cu.key(t)>this.cu.key(this.Bu[this.Bu.length-1].time))return e?this.Bu.length-1:null;const i=Ul(this.Bu,this.cu.key(t),((t,e)=>this.cu.key(t.time)<e));return this.cu.key(t)<this.cu.key(this.Bu[i].time)?e?i:null:i}Gi(){return 0===this.S_||0===this.Bu.length||null===this.Vu}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const t=this.Ie();if(null===t)return null;const e={from:t.Aa(),to:t.bi()};return this.oc(e)}oc(t){const e=Math.round(t.from),i=Math.round(t.to),n=Mo(this._c()),r=Mo(this.uc());return{from:Mo(this.es(Math.max(n,e))),to:Mo(this.es(Math.min(r,i)))}}cc(t){return{from:Mo(this.ec(t.from,!0)),to:Mo(this.ec(t.to,!0))}}ss(){return this.S_}L_(t){if(!isFinite(t)||t<=0)return;if(this.S_===t)return;const e=this.ac(),i=this.S_;if(this.S_=t,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==i){const e=this.Ku*t/i;this.Ku=e}if(this.Ps.fixLeftEdge&&null!==e&&e.Aa()<=0){const e=i-t;this.Yu-=Math.round(e/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(t){if(this.Gi()||!ko(t))return 0;const e=this.vc()+this.Yu-t;return this.S_-(e+.5)*this.Ku-1}mc(t,e){const i=this.vc(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].wt,n=i+this.Yu-e,r=this.S_-(n+.5)*this.Ku-1;t[s]._t=r}}wc(t,e){const i=Math.ceil(this.gc(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(i)?this.bc(i):i}Mn(t){this.zu=!0,this.Yu=t,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(t){const e=this.Ku;if(this.xc(t),void 0!==this.Ps.rightOffsetPixels&&0!==e){const t=this.Yu*e/this.Ku;this.Yu=t}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(null!==this.Hu)return this.Hu;const t=this.Ku,e=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=Mo(this.Ie()),r=Math.max(n.Aa(),n.Aa()-i),s=Math.max(n.bi(),n.bi()-i),o=this.Eu.xu(t,e,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+i,a=this.uc()-i,h=this.yc(),u=this.Ps.fixLeftEdge||h,c=this.Ps.fixRightEdge||h;let d=0;for(const f of o){if(!(r<=f.index&&f.index<=s))continue;let t;d<this.qu.length?(t=this.qu[d],t.coord=this.qt(f.index),t.label=this.kc(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.kc(f),weight:f.weight},this.qu.push(t)),this.Ku>e/2&&!h?t.needAlignCoordinate=!1:t.needAlignCoordinate=u&&f.index<=l||c&&f.index>=a,d++}return this.qu.length=d,this.Hu=this.qu,this.qu}Pc(){let t;this.zu=!0,this.gn(this.Ps.barSpacing),t=void 0!==this.Ps.rightOffsetPixels?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(t)}Tc(t){this.zu=!0,this.Vu=t,this.fc(),this.sc()}Rc(t,e){const i=this.gc(t),n=this.ul(),r=n+e*(n/10);this.gn(r),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(i-this.gc(t)))}h_(t){this.bo&&this.u_(),null===this.Mo&&null===this.Wu&&(this.Gi()||(this.Mo=t,this.Dc()))}a_(t){if(null===this.Wu)return;const e=fa(this.S_-t,0,this.S_),i=fa(this.S_-Mo(this.Mo),0,this.S_);0!==e&&0!==i&&this.gn(this.Wu.ul*e/i)}l_(){null!==this.Mo&&(this.Mo=null,this.Ic())}o_(t){null===this.bo&&null===this.Wu&&(this.Gi()||(this.bo=t,this.Dc()))}__(t){if(null===this.bo)return;const e=(this.bo-t)/this.ul();this.Yu=Mo(this.Wu).Cc+e,this.zu=!0,this.fc()}u_(){null!==this.bo&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.Yu,n=performance.now();this.ns.vn({Ec:t=>(t-n)/e>=1,Ac:r=>{const s=(r-n)/e;return s>=1?t:i+(t-i)*s}})}kt(t,e){this.zu=!0,this.Bu=t,this.Eu.bu(t,e),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(t,e){const i=t.mu(),n=e&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-n)/i),this.Yu=t.bi()-this.vc(),e&&(this.Yu=n?n/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const t=this._c(),e=this.uc();if(null===t||null===e)return;const i=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Wa(t,e+i),!0)}Wc(t){const e=new Wa(t.from,t.to);this.Nc(e)}rs(t){return void 0!==this.yo.timeFormatter?this.yo.timeFormatter(t.originalTime):this.cu.formatHorzItem(t.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const t=this.ns.tn();for(const e of t)for(const t of e.ll())this.Uu.set(t,!0);this.$u++}Hc(){return this.ju}vl(){const t=1/(window.devicePixelRatio||1),e=this.Ps.minBarSpacing;if(e>=t)return[1];const i=[1];let n=2;for(;n<=512;)e<t/n&&i.push(n),n*=2;return i}yc(){const t=this.ns.N().handleScroll,e=this.ns.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}_c(){return 0===this.Bu.length?null:0}uc(){return 0===this.Bu.length?null:this.Bu.length-1}Uc(t){return(this.S_-1-t)/this.Ku}gc(t){const e=this.Uc(t),i=this.vc()+this.Yu-e;return Math.round(1e6*i)/1e6}xc(t){const e=this.Ku;this.Ku=t,this.dc(),e!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Ka.Iu());const t=this.vc(),e=this.S_/this.Ku,i=this.Yu+t,n=new Wa(i-e+1,i);this.qc(new Ka(n))}dc(){const t=fa(this.Ku,this.jc(),this.Yc());this.Ku!==t&&(this.Ku=t,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.Bu.length?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const t=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=t)return void(this.ju=1);const e=t/this.Ku,i=Math.pow(2,Math.floor(Math.log2(e)));this.ju=Math.min(i,512)}fc(){const t=this.Kc();null!==t&&this.Yu<t&&(this.Yu=t,this.zu=!0);const e=this.Zc();this.Yu>e&&(this.Yu=e,this.zu=!0)}Kc(){const t=this._c(),e=this.Vu;return null===t||null===e?null:t-e-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(t){let e=this.Au.get(t.weight);return void 0===e&&(e=new Va((t=>this.Gc(t)),this.cu),this.Au.set(t.weight,e)),e.du(t)}Gc(t){return this.cu.formatTickmark(t,this.yo)}qc(t){const e=this.Lu;this.Lu=t,$a(e.Ru(),this.Lu.Ru())||this.Ou.p(),$a(e.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const t=this._c();if(null===t)return;const e=this.Ie();if(null===e)return;const i=e.Aa()-t;if(i<0){const t=this.Yu-i-1;this.Mn(t)}this.dc()}nc(){this.fc(),this.dc()}Mc(t){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(t)||!1}bc(t){const e=function*(t){const e=Math.round(t),i=e<t;let n=1;for(;;)i?(yield e+n,yield e-n):(yield e-n,yield e+n),n++}(t),i=this.uc();for(;i;){const t=e.next().value;if(this.Uu.get(t))return t;if(t<0||t>i)break}return t}Zu(t){if(void 0!==t.rightOffsetPixels){const e=t.rightOffsetPixels/(t.barSpacing||this.Ku);this.ns.Mn(e)}}}var Qa,Ga,Xa,qa,Za;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(Qa||(Qa={}));class th{constructor(t,e,i){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Io,this.nd=new Io,this.ed=null,this.rd=t,this.Ps=e,this.cu=i,this.ko=new Uo(this.Ps.layout.colorParsers),this.hd=new Do(this),this.Jh=new Ja(this,e.timeScale,this.Ps.localization,i),this.Ct=new al(this,e.crosshair),this.ad=new da(e.crosshair),e.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(ul.yn())}dr(){this.dd(ul.Cn())}Ua(){this.dd(new ul(1))}ya(t){const e=this.fd(t);this.dd(e)}pd(){return this.td}vd(t){if(this.td?.hu===t?.hu&&this.td?.au?.te===t?.au?.te)return;const e=this.td;this.td=t,null!==e&&this.ya(e.hu),null!==t&&t.hu!==e?.hu&&this.ya(t.hu)}N(){return this.Ps}cr(t){Eo(this.Ps,t),this.Xc.forEach((e=>e.I_(t))),void 0!==t.timeScale&&this.Jh.cr(t.timeScale),void 0!==t.localization&&this.Jh.Qu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.Xc[i];if(void 0===n)return;if("left"===t)return Eo(this.Ps,{leftPriceScale:e}),n.I_({leftPriceScale:e}),this.sd.p(),void this.Ca();if("right"===t)return Eo(this.Ps,{rightPriceScale:e}),n.I_({rightPriceScale:e}),this.sd.p(),void this.Ca();const r=this.wd(t,i);null!==r&&(r.Ft.cr(e),this.sd.p())}wd(t,e){const i=this.Xc[e];if(void 0===i)return null;const n=i.V_(t);return null!==n?{Gs:i,Ft:n}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(t,e){t.No(e),this.Sc()}L_(t){this.S_=t,this.Jh.L_(this.S_),this.Xc.forEach((e=>e.L_(t))),this.Sc()}Sd(t){1!==this.Xc.length&&(So(t>=0&&t<this.Xc.length,"Invalid pane index"),this.Xc.splice(t,1),this.Ca())}xd(t,e){if(this.Xc.length<2)return;So(t>=0&&t<this.Xc.length,"Invalid pane index");const i=this.Xc[t],n=this.Xc.reduce(((t,e)=>t+e.E_()),0),r=this.Xc.reduce(((t,e)=>t+e.$t()),0),s=r-30*(this.Xc.length-1);e=Math.min(s,Math.max(30,e));const o=n/r,l=i.$t();i.A_(e*o);let a=e-l,h=this.Xc.length-1;for(const u of this.Xc)if(u!==i){const t=Math.min(s,Math.max(30,u.$t()-a/h));a-=u.$t()-t,h-=1;const e=t*o;u.A_(e)}this.Ca()}Cd(t,e){So(t>=0&&t<this.Xc.length&&e>=0&&e<this.Xc.length,"Invalid pane index");const i=this.Xc[t],n=this.Xc[e];this.Xc[t]=n,this.Xc[e]=i,this.Ca()}yd(t,e){if(So(t>=0&&t<this.Xc.length&&e>=0&&e<this.Xc.length,"Invalid pane index"),t===e)return;const[i]=this.Xc.splice(t,1);this.Xc.splice(e,0,i),this.Ca()}j_(t,e,i){t.j_(e,i)}Y_(t,e,i){t.Y_(e,i),this.ka(),this.dd(this.kd(t,2))}K_(t,e){t.K_(e),this.dd(this.kd(t,2))}Z_(t,e,i){e.Vo()||t.Z_(e,i)}G_(t,e,i){e.Vo()||(t.G_(e,i),this.ka(),this.dd(this.kd(t,2)))}X_(t,e){e.Vo()||(t.X_(e),this.dd(this.kd(t,2)))}Q_(t,e){t.Q_(e),this.dd(this.kd(t,2))}Pd(t){this.Jh.h_(t)}Td(t,e){const i=this.Et();if(i.Gi()||0===e)return;const n=i.ss();t=Math.max(1,Math.min(t,n)),i.Rc(t,e),this.Sc()}Rd(t){this.Dd(0),this.Id(t),this.Vd()}Bd(t){this.Jh.a_(t),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(t){this.Jh.o_(t)}Id(t){this.Jh.__(t),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return null===this.Qc&&(this.Qc=this.Jc.filter((t=>t.It()))),this.Qc}xa(){this.Qc=null}Ad(t,e,i,n,r){this.Ct.Bs(t,e);let s=NaN,o=this.Jh.wc(t,!0);const l=this.Jh.Ie();null!==l&&(o=Math.min(Math.max(l.Aa(),o),l.bi())),o=this.Ct.Hs(o);const a=n.Rs(),h=a.Lt();if(null!==h&&(s=a.Ds(e,h)),s=this.ad.bl(s,o,n),this.Ct.zs(o,s,n),this.Ua(),!r){const r=ja(n,t,e);this.vd(r&&{hu:r.hu,au:r.au,ou:r.ou||null}),this.nd.p(this.Ct.Bt(),{x:t,y:e},i)}}Ld(t,e,i){const n=i.Rs(),r=n.Lt(),s=n.Nt(t,Mo(r)),o=this.Jh.ec(e,!0),l=this.Jh.qt(Mo(o));this.Ad(l,s,null,i,!0)}zd(t){this.gd().Ns(),this.Ua(),t||this.nd.p(null,null,null)}ka(){const t=this.Ct.Gs();if(null!==t){const e=this.Ct.As(),i=this.Ct.Ls();this.Ad(e,i,null,t)}this.Ct.Ws()}Od(t,e,i){const n=this.Jh.Is(0);void 0!==e&&void 0!==i&&this.Jh.kt(e,i);const r=this.Jh.Is(0),s=this.Jh.vc(),o=this.Jh.Ie();if(null!==o&&null!==n&&null!==r){const e=o.Ee(s),l=this.cu.key(n)>this.cu.key(r),a=null!==t&&t>s&&!l,h=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(!(void 0===i)||h)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(a&&!u){const e=t-s;this.Jh.Mn(this.Jh.Cc()-e)}}this.Jh.Tc(t)}Ra(t){null!==t&&t.iu()}Kn(t){if(function(t){return t instanceof Da}(t))return t;const e=this.Xc.find((e=>e.Dt().includes(t)));return void 0===e?null:e}Sc(){this.Xc.forEach((t=>t.iu())),this.ka()}m(){this.Xc.forEach((t=>t.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(t,e){const i=this.ld(e);this.Wd(t,i),this.Jc.push(t),this.xa(),1===this.Jc.length?this.Ca():this.dr()}Hd(t){const e=this.Kn(t),i=this.Jc.indexOf(t);So(-1!==i,"Series not found");const n=Mo(e);this.Jc.splice(i,1),n.n_(t),t.m&&t.m(),this.xa(),this.Jh.Ju(),this.Ud(n)}Sa(t,e){const i=Mo(this.Kn(t));i.n_(t,!0),i.i_(t,e,!0)}Fc(){const t=ul.Cn();t.cn(),this.dd(t)}$d(t){const e=ul.Cn();e.pn(t),this.dd(e)}wn(){const t=ul.Cn();t.wn(),this.dd(t)}gn(t){const e=ul.Cn();e.gn(t),this.dd(e)}Mn(t){const e=ul.Cn();e.Mn(t),this.dd(e)}vn(t){const e=ul.Cn();e.vn(t),this.dd(e)}dn(){const t=ul.Cn();t.dn(),this.dd(t)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(t,e){if(So(e>=0,"Index should be greater or equal to 0"),e===this.Yd(t))return;const i=Mo(this.Kn(t));i.n_(t);const n=this.ld(e);this.Wd(t,n),0===i.Sl().length&&this.Ud(i),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(t){const e=this.ud,i=this.od;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.ed||this.ed.eh!==i||this.ed.rh!==e)this.ed={eh:i,rh:e,Zd:new Map};else{const e=this.ed.Zd.get(t);if(void 0!==e)return e}const n=this.ko.tt(i,e,t/100);return this.ed.Zd.set(t,n),n}Gd(t){return this.Xc.indexOf(t)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(t){const e=new Da(this.Jh,this);this.Xc.push(e);const i=t??this.Xc.length-1,n=ul.yn();return n.hn(i,{an:0,ln:!0}),this.dd(n),e}ld(t){return So(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.Xc.length,t))<this.Xc.length?this.Xc[t]:this.Jd(t)}Yd(t){return this.Xc.findIndex((e=>e.F_().includes(t)))}kd(t,e){const i=new ul(e);if(null!==t){const n=this.Xc.indexOf(t);i.hn(n,{an:e})}return i}fd(t,e){return void 0===e&&(e=2),this.kd(this.Kn(t),e)}dd(t){this.rd&&this.rd(t),this.Xc.forEach((t=>t.eu().pr().kt()))}Wd(t,e){const i=t.N().priceScaleId,n=void 0!==i?i:this.qd();e.i_(t,n),hl(n)||t.cr(t.N())}_d(t){const e=this.Ps.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}Ud(t){!t.N_()&&0===t.Sl().length&&this.Xc.length>1&&this.Xc.splice(this.Gd(t),1)}}function eh(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}function ih(t){return!Co(t)&&!Po(t)}function nh(t){return Co(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(Ga||(Ga={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Xa||(Xa={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(qa||(qa={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Za||(Za={}));const rh=t=>t.getUTCFullYear();class sh{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.Qd=t,this.tf=e}du(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>dl(rh(t),4))(t)).replace(/yy/g,(t=>dl(rh(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>dl((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>dl((t=>t.getUTCDate())(t),2))(t))}(t,this.Qd,this.tf)}}class oh{constructor(t){this.if=t||"%h:%m:%s"}du(t){return this.if.replace("%h",dl(t.getUTCHours(),2)).replace("%m",dl(t.getUTCMinutes(),2)).replace("%s",dl(t.getUTCSeconds(),2))}}const lh={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class ah{constructor(){const t={...lh,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};this.hf=new sh(t.sf,t.rf),this.af=new oh(t.nf),this.lf=t.ef}du(t){return`${this.hf.du(t)}${this.lf}${this.af.du(t)}`}}function hh(t){return 60*t*60*1e3}function uh(t){return 60*t*1e3}const ch=[{_f:1e3,uf:10},{_f:uh(1),uf:20},{_f:uh(5),uf:21},{_f:uh(30),uf:22},{_f:hh(1),uf:30},{_f:hh(3),uf:31},{_f:hh(6),uf:32},{_f:hh(12),uf:33}];function dh(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=ch.length-1;i>=0;--i)if(Math.floor(e.getTime()/ch[i]._f)!==Math.floor(t.getTime()/ch[i]._f))return ch[i].uf;return 0}function fh(t){let e=t;if(Po(t)&&(e=mh(t)),!ih(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(i.getTime()/1e3),df:e}}function ph(t){if(!nh(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function mh(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function yh(t){Po(t.time)&&(t.time=mh(t.time))}class gh{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(yh)}(t):yh(t)}createConverterToInternalObj(t){return Mo(function(t){return 0===t.length?null:ih(t[0].time)||Po(t[0].time)?fh:ph}(t))}key(t){return"object"==typeof t&&"cf"in t?t.cf:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.df?new Date(1e3*e.cf).getTime():new Date(Date.UTC(e.df.year,e.df.month-1,e.df.day)).getTime()}convertHorzItemToInternal(t){return nh(e=t)?ph(e):ih(e)?fh(e):fh(mh(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new ah({sf:e,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:t.locale}):this.ff=new sh(e,t.locale)}formatHorzItem(t){const e=t;return this.ff.du(new Date(1e3*e.cf))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),n=this.Ps.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.df?new Date(1e3*t.cf):new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Ha,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time.cf,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.time.cf);null!==n&&(e.timeWeight=dh(o,n)),r+=e.time.cf-(i||e.time.cf),i=e.time.cf,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.cf-e));t[0].timeWeight=dh(new Date(1e3*t[0].time.cf),i)}}(t,e)}static pf(t){return Eo({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const bh="undefined"!=typeof window;function vh(){return!!bh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function wh(){return!!bh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function _h(t){return t+t%2}class Sh{constructor(t,e,i){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!wh(),this.Uf=t=>{this.$f(t)},this.qf=t=>{if(this.jf(t)){const e=this.Yf(t);if(++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Th(t),this.bf);i<30&&!this.Tf&&this.Gf(e,this.Jf.Xf),this.Qf()}}else{const e=this.Yf(t);if(++this.vf,this.mf&&this.vf>1){const{Kf:i}=this.Zf(Th(t),this.wf);i<5&&!this.Pf&&this.tp(e,this.Jf.ip),this.sp()}}},this.np=t,this.Jf=e,this.Ps=i,this.ep()}m(){null!==this.Rf&&(this.Rf(),this.Rf=null),null!==this.Df&&(this.Df(),this.Df=null),null!==this.Vf&&(this.Vf(),this.Vf=null),null!==this.Bf&&(this.Bf(),this.Bf=null),null!==this.Ef&&(this.Ef(),this.Ef=null),null!==this.If&&(this.If(),this.If=null),this.rp(),this.sp()}hp(t){this.Vf&&this.Vf();const e=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",e)},this.np.addEventListener("mousemove",e),this.jf(t))return;const i=this.Yf(t);this.tp(i,this.Jf.lp),this.Hf=!0}sp(){null!==this.mf&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){null!==this.Mf&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(t){if(this.Nf||null!==this.yf)return;if(this.jf(t))return;const e=this.Yf(t);this.tp(e,this.Jf.op),this.Hf=!0}_p(t){const e=Eh(t.changedTouches,Mo(this.Wf));if(null===e)return;if(this.Ff=Ih(t),null!==this.Af)return;if(this.Of)return;this.zf=!0;const i=this.Zf(Th(e),Mo(this.yf)),{up:n,cp:r,Kf:s}=i;if(this.kf||!(s<5)){if(!this.kf){const t=.5*n,e=r>=t&&!this.Ps.dp(),i=t>r&&!this.Ps.fp();e||i||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const i=this.Yf(t,e);this.Gf(i,this.Jf.pp),Mh(t)}}}vp(t){if(0!==t.button)return;const e=this.Zf(Th(t),Mo(this.Cf)),{Kf:i}=e;if(i>=5&&(this.Pf=!0,this.sp()),this.Pf){const e=this.Yf(t);this.tp(e,this.Jf.mp)}}Zf(t,e){const i=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{up:i,cp:n,Kf:i+n}}wp(t){let e=Eh(t.changedTouches,Mo(this.Wf));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Wf=null,this.Ff=Ih(t),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const i=this.Yf(t,e);if(this.Gf(i,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:t}=this.Zf(Th(e),this.bf);t<30&&!this.Tf&&this.Gf(i,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(i,this.Jf.Mp),this.Jf.Mp&&Mh(t));0===this.gf&&Mh(t),0===t.touches.length&&this.xf&&(this.xf=!1,Mh(t))}$f(t){if(0!==t.button)return;const e=this.Yf(t);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),vh()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(t))if(this.tp(e,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:i}=this.Zf(Th(t),this.wf);i<5&&!this.Pf&&this.tp(e,this.Jf.ip),this.sp()}else this.Pf||this.tp(e,this.Jf.Sp)}rp(){null!==this.Sf&&(clearTimeout(this.Sf),this.Sf=null)}xp(t){if(null!==this.Wf)return;const e=t.changedTouches[0];this.Wf=e.identifier,this.Ff=Ih(t);const i=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Th(e),this.Ef&&(this.Ef(),this.Ef=null);{const e=this._p.bind(this),n=this.wp.bind(this);this.Ef=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,t),240)}const n=this.Yf(t,e);this.Gf(n,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Th(e))}kp(t){if(0!==t.button)return;const e=this.np.ownerDocument.documentElement;vh()&&e.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Th(t),this.Bf&&(this.Bf(),this.Bf=null);{const t=this.vp.bind(this),i=this.$f.bind(this);this.Bf=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Nf=!0,this.jf(t))return;const i=this.Yf(t);this.tp(i,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Th(t))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const t=this.np.ownerDocument,e=t=>{this.Jf.Tp&&(t.composed&&this.np.contains(t.composedPath()[0])||t.target&&this.np.contains(t.target)||this.Jf.Tp())};this.Df=()=>{t.removeEventListener("touchstart",e)},this.Rf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}wh()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),function(t){bh&&void 0!==window.chrome&&t.addEventListener("mousedown",(t=>{if(1===t.button)return t.preventDefault(),!1}))}(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){void 0===this.Jf.Ip&&void 0===this.Jf.Vp&&void 0===this.Jf.Bp||(this.np.addEventListener("touchstart",(t=>this.Ep(t.touches)),{passive:!0}),this.np.addEventListener("touchmove",(t=>{if(2===t.touches.length&&null!==this.Af&&void 0!==this.Jf.Vp){const e=xh(t.touches[0],t.touches[1])/this.Lf;this.Jf.Vp(this.Af,e),Mh(t)}}),{passive:!1}),this.np.addEventListener("touchend",(t=>{this.Ep(t.touches)})))}Ep(t){1===t.length&&(this.zf=!1),2!==t.length||this.zf||this.xf?this.Ap():this.Lp(t)}Lp(t){const e=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Lf=xh(t[0],t[1]),void 0!==this.Jf.Ip&&this.Jf.Ip(),this.rp()}Ap(){null!==this.Af&&(this.Af=null,void 0!==this.Jf.Bp&&this.Jf.Bp())}Rp(t){if(this.Vf&&this.Vf(),this.jf(t))return;if(!this.Hf)return;const e=this.Yf(t);this.tp(e,this.Jf.zp),this.Hf=!wh()}Cp(t){const e=Eh(t.touches,Mo(this.Wf));if(null===e)return;const i=this.Yf(t,e);this.Gf(i,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:Ih(t)<this.Ff+500}Gf(t,e){e&&e.call(this.Jf,t)}tp(t,e){e&&e.call(this.Jf,t)}Yf(t,e){const i=e||t,n=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Np:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Fp:t.type,Wp:i.target,_u:t.view,Hp:()=>{"touchstart"!==t.type&&Mh(t)}}}}function xh(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function Mh(t){t.cancelable&&t.preventDefault()}function Th(t){return{_t:t.pageX,ut:t.pageY}}function Ih(t){return t.timeStamp||performance.now()}function Eh(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class Ch{constructor(t,e,i){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=t,this.Kp=t.Zp()[e],this.Gp=t.Zp()[i],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){null!==this.$p&&this.$p.m()}iv(){return this.Xp}sv(){return ao({width:this.Kp.sv().width,height:1})}nv(){return ao({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(t,e,i){const n=this.nv();t.fillStyle=this.Yp.N().layout.panes.separatorColor,t.fillRect(e,i,n.width,n.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(null!==this.Up&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),null!==this.$p&&(this.$p.m(),this.$p=null)))}tv(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Jp.appendChild(t);const i=document.createElement("div"),n=i.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.Jp.appendChild(i);const r={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Sh(i,r,{dp:()=>!1,fp:()=>!0}),this.Up={hv:i,rv:t}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(t){null!==this.Up&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(t){null!==this.Up&&null===this.jp&&(this.Up.hv.style.backgroundColor="")}ov(t){if(null===this.Up)return;const e=this.Kp.cv().E_()+this.Gp.cv().E_(),i=e/(this.Kp.sv().height+this.Gp.sv().height),n=30*i;e<=2*n||(this.jp={dv:t.pageY,fv:this.Kp.cv().E_(),pv:e-n,vv:e,mv:i,wv:n},this.Up.rv.style.display="block")}_v(t){const e=this.jp;if(null===e)return;const i=(t.pageY-e.dv)*e.mv,n=fa(e.fv+i,e.wv,e.pv);this.Kp.cv().A_(n),this.Gp.cv().A_(e.vv-n),this.Yp.Qt().Ca()}uv(t){null!==this.jp&&null!==this.Up&&(this.jp=null,this.Up.rv.style.display="none")}}function kh(t,e){return t.gv-e.gv}function Ph(t,e,i){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class Nh{constructor(t,e,i,n){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=t,this.Tv=e,this.Rv=i,this.kn=n}Dv(t,e){if(null!==this.Mv){if(this.Mv.wt===e)return void(this.Mv.gv=t);if(Math.abs(this.Mv.gv-t)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:e,gv:t}}fe(t,e){if(null===this.Mv||null===this.bv)return;if(e-this.Mv.wt>50)return;let i=0;const n=Ph(this.Mv,this.bv,this.Tv),r=kh(this.Mv,this.bv),s=[n],o=[r];if(i+=r,null!==this.Sv){const t=Ph(this.bv,this.Sv,this.Tv);if(Math.sign(t)===Math.sign(n)){const e=kh(this.bv,this.Sv);if(s.push(t),o.push(e),i+=e,null!==this.xv){const t=Ph(this.Sv,this.xv,this.Tv);if(Math.sign(t)===Math.sign(n)){const e=kh(this.Sv,this.xv);s.push(t),o.push(e),i+=e}}}}let l=0;for(let a=0;a<s.length;++a)l+=o[a]/i*s[a];Math.abs(l)<this.Pv||(this.Cv={gv:t,wt:e},this.kv=l,this.yv=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this.Rv))}Ac(t){const e=Mo(this.Cv),i=t-e.wt;return e.gv+this.kv*(Math.pow(this.Rv,i)-1)/Math.log(this.Rv)}Ec(t){return null===this.Cv||this.Iv(t)===this.yv}Iv(t){const e=t-Mo(this.Cv).wt;return Math.min(e,this.yv)}}class Oh{constructor(t,e){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=t,this.Lv=e,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark","dark"===this.Ev),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Bh(t,e){const i=Mo(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new co(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function Ah(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function Fh(t,e,i,n){t.Uh&&t.Uh(e,i,n)}function Lh(t,e,i,n){t.nt(e,i,n)}function Dh(t,e,i,n){const r=t(i,n);for(const s of r){const t=s.Tt(n);null!==t&&e(t)}}function Rh(t,e){return i=>function(t){return void 0!==t.Ft}(i)?(i.Ft()?.ol()??"")!==e?[]:i.Ya?.(t)??[]:[]}function zh(t,e,i,n){if(!t.length)return;let r=0;const s=t[0].$t(n,!0);let o=1===e?i/2-(t[0].Hi()-s/2):t[0].Hi()-s/2-i/2;o=Math.max(0,o);for(let l=1;l<t.length;l++){const s=t[l],a=t[l-1],h=a.$t(n,!1),u=s.Hi(),c=a.Hi();if(1===e?u>c-h:u<c+h){const n=c-h*e;s.Ui(n);const l=n-e*h/2;if((1===e?l<0:l>i)&&o>0){const n=1===e?-1-l:l-i,s=Math.min(n,o);for(let i=r;i<t.length;i++)t[i].Ui(t[i].Hi()+e*s);o-=s}}else r=l,o=1===e?c-h-u:u-(c+h)}}class Uh{constructor(t,e,i,n){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new gl(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=t,this.Ps=e,this.Co=e.layout,this.hd=i,this.Jv="left"===n,this.Qv=Rh("normal",n),this.tm=Rh("top",n),this.im=Rh("bottom",n),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Bh(this.Jp,ao({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Bh(this.Jp,ao({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Sh(this.nm.canvasElement,o,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ah(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ah(this.sm.canvasElement),this.sm.dispose(),null!==this.Ki&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const t=this.hd.N();return this.jv!==t.P&&(this.qv.On(),this.jv=t.P),t}om(){if(null===this.Ki)return 0;let t=0;const e=this.lm(),i=Mo(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));i.save();const n=this.Ki.Vl();i.font=this._m(),n.length>0&&(t=Math.max(this.qv.Ii(i,n[0].Jl),this.qv.Ii(i,n[n.length-1].Jl)));const r=this.um();for(let a=r.length;a--;){const e=this.qv.Ii(i,r[a].ri());e>t&&(t=e)}const s=this.Ki.Lt();if(null!==s&&null!==this.Uv&&2!==(o=this.Ps.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Ki.Ds(1,s),n=this.Ki.Ds(this.Uv.height-2,s);t=Math.max(t,this.qv.Ii(i,this.Ki.Ji(Math.floor(Math.min(e,n))+.11111111111111,s)),this.qv.Ii(i,this.Ki.Ji(Math.ceil(Math.max(e,n))-.11111111111111,s)))}var o;i.restore();const l=t||34;return _h(Math.ceil(e.S+e.C+e.V+e.B+5+l))}dm(t){null!==this.Uv&&ho(this.Uv,t)||(this.Uv=t,this.Kv=!0,this.sm.resizeCanvasElement(t),this.nm.resizeCanvasElement(t),this.Kv=!1,this.Jp.style.width=`${t.width}px`,this.Jp.style.height=`${t.height}px`)}fm(){return Mo(this.Uv).width}cs(t){this.Ki!==t&&(null!==this.Ki&&this.Ki.r_().u(this),this.Ki=t,t.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const t=this.yt.cv();this.yt.Gv().Qt().Q_(t,Mo(this.Ft()))}pm(t){if(null===this.Uv)return;const e={colorSpace:this.yt.Gv().N().layout.colorSpace};if(1!==t){this.vm(),this.sm.applySuggestedBitmapSize();const t=mo(this.sm,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.wm(t),this.gm(t)})),this.yt.Mm(t,this.im),this.bm(t),this.yt.Mm(t,this.Qv),this.Sm(t))}this.nm.applySuggestedBitmapSize();const i=mo(this.nm,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this.xm(i),this.yt.Mm(i,this.tm))}nv(){return this.sm.bitmapSize}ev(t,e,i,n){const r=this.nv();if(r.width>0&&r.height>0&&(t.drawImage(this.sm.canvasElement,e,i),n)){const n=this.nm.canvasElement;t.drawImage(n,e,i)}}kt(){this.Ki?.Vl()}ov(t){if(null===this.Ki||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv();this.$v=!0,e.j_(i,this.Ki,t.localY)}_v(t){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv(),n=this.Ki;e.Y_(i,n,t.localY)}rm(){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),e=this.yt.cv(),i=this.Ki;this.$v&&(this.$v=!1,t.K_(e,i))}uv(t){if(null===this.Ki||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv();this.$v=!1,e.K_(i,this.Ki)}hm(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(t){null!==this.Ki&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(t){this.Cm(0)}um(){const t=[],e=null===this.Ki?void 0:this.Ki;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Ks(this.yt.cv(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.yt.cv().Dt()),t}wm(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.yt.cv().Qt(),o=s.$(),l=s.Kd();o===l?Go(e,0,0,n,r,o):Zo(e,0,0,n,r,o,l)}gm(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this.Uv||null===this.Ki||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const r=Math.max(1,Math.floor(this.lm().S*n));let s;s=this.Jv?i.width-r:0,e.fillRect(s,0,r,i.height)}bm(t){if(null===this.Uv||null===this.Ki)return;const e=this.Ki.Vl(),i=this.Ki.N(),n=this.lm(),r=this.Jv?this.Uv.width-n.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace((t=>{let{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=t;s.fillStyle=i.borderColor;const a=Math.max(1,Math.floor(l)),h=Math.floor(.5*l),u=Math.round(n.C*o);s.beginPath();for(const i of e)s.rect(Math.floor(r*o),Math.round(i.Pl*l)-h,u,a);s.fill()})),t.useMediaCoordinateSpace((t=>{let{context:s}=t;s.font=this._m(),s.fillStyle=i.textColor??this.Co.textColor,s.textAlign=this.Jv?"right":"left",s.textBaseline="middle";const o=this.Jv?Math.round(r-n.V):Math.round(r+n.C+n.V),l=e.map((t=>this.qv.Di(s,t.Jl)));for(let i=e.length;i--;){const t=e[i];s.fillText(t.Jl,o,t.Pl+l[i])}}))}vm(){if(null===this.Uv||null===this.Ki)return;let t=this.Uv.height/2;const e=[],i=this.Ki.Dt().slice(),n=this.yt.cv(),r=this.lm();this.Ki===n.Gn()&&this.yt.cv().Dt().forEach((t=>{n.Zn(t)&&i.push(t)}));const s=this.Ki.Sl()[0],o=this.Ki;i.forEach((i=>{const r=i.Ks(n,o);r.forEach((t=>{t.$i()&&null===t.Wi()&&(t.Ui(null),e.push(t))})),s===i&&r.length>0&&(t=r[0].Ei())})),this.Ki.N().alignLabels&&this.ym(e,r,t)}ym(t,e,i){if(null===this.Uv)return;const n=t.filter((t=>t.Ei()<=i)),r=t.filter((t=>t.Ei()>i));n.sort(((t,e)=>e.Ei()-t.Ei())),n.length&&r.length&&r.push(n[0]),r.sort(((t,e)=>t.Ei()-e.Ei()));for(const s of t){const t=Math.floor(s.$t(e)/2),i=s.Ei();i>-t&&i<t&&s.Ui(t),i>this.Uv.height-t&&i<this.Uv.height+t&&s.Ui(this.Uv.height-t)}zh(n,1,this.Uv.height,e),zh(r,-1,this.Uv.height,e)}Sm(t){if(null===this.Uv)return;const e=this.um(),i=this.lm(),n=this.Jv?"right":"left";e.forEach((e=>{e.qi()&&e.Tt(Mo(this.Ki)).nt(t,i,this.qv,n)}))}xm(t){if(null===this.Uv||null===this.Ki)return;const e=this.yt.Gv().Qt(),i=[],n=this.yt.cv(),r=e.gd().Ks(n,this.Ki);r.length&&i.push(r);const s=this.lm(),o=this.Jv?"right":"left";i.forEach((e=>{e.forEach((e=>{e.Tt(Mo(this.Ki)).nt(t,s,this.qv,o)}))}))}Cm(t){this.Jp.style.cursor=1===t?"ns-resize":"default"}do(){const t=this.om();this.Yv<t&&this.yt.Gv().Qt().Ca(),this.Yv=t}_m(){return Lo(this.Co.fontSize,this.Co.fontFamily)}}function jh(t,e){return t.qa?.(e)??[]}function Vh(t,e){return t.Ys?.(e)??[]}function Wh(t,e){return t.ds?.(e)??[]}function $h(t,e){return t.Ha?.(e)??[]}class Yh{constructor(t,e){this.Uv=ao({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Io,this.Vm=new Io,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||null===this.Nm||this.ns().dr()},this.Xv=()=>{this.Kv||null===this.Nm||this.ns().dr()},this.Lv=t,this.Nm=e,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(i),this.sm=Bh(i,ao({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=Bh(i,ao({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Sh(this.nm.canvasElement,this,{dp:()=>null===this.Am&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>null===this.Am&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){null!==this.km&&this.km.m(),null!==this.Pm&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ah(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ah(this.sm.canvasElement),this.sm.dispose(),null!==this.Nm&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return Mo(this.Nm)}qm(t){null!==this.Nm&&this.Nm.nu().u(this),this.Nm=t,null!==this.Nm&&this.Nm.nu().i(Yh.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new Oh(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(null!==this.Nm&&(this.jm(),0!==this.ns().tn().length)){if(null!==this.km){const t=this.Nm.U_();this.km.cs(Mo(t))}if(null!==this.Pm){const t=this.Nm.q_();this.Pm.cs(Mo(t))}}}Ym(){null!==this.km&&this.km.kt(),null!==this.Pm&&this.Pm.kt()}E_(){return null!==this.Nm?this.Nm.E_():0}A_(t){this.Nm&&this.Nm.A_(t)}lp(t){if(!this.Nm)return;this.Km();const e=t.localX,i=t.localY;this.Zm(e,i,t)}Pp(t){this.Km(),this.Gm(),this.Zm(t.localX,t.localY,t)}op(t){if(!this.Nm)return;this.Km();const e=t.localX,i=t.localY;this.Zm(e,i,t)}Sp(t){null!==this.Nm&&(this.Km(),this.Xm(t))}ip(t){null!==this.Nm&&this.Jm(this.Vm,t)}Xf(t){this.ip(t)}mp(t){this.Km(),this.Qm(t),this.Zm(t.localX,t.localY,t)}bp(t){null!==this.Nm&&(this.Km(),this.Em=!1,this.tw(t))}Mp(t){null!==this.Nm&&this.Xm(t)}Op(t){if(this.Em=!0,null===this.Am){const e={x:t.localX,y:t.localY};this.iw(e,e,t)}}zp(t){null!==this.Nm&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(t,e){if(!this.Lv.N().handleScale.pinch)return;const i=5*(e-this.Bm);this.Bm=e,this.ns().Td(t._t,i)}yp(t){this.Em=!1,this.Lm=null!==this.Am,this.Gm();const e=this.ns().gd();null!==this.Am&&e.It()&&(this.zm={x:e.si(),y:e.ni()},this.Am={x:t.localX,y:t.localY})}pp(t){if(null===this.Nm)return;const e=t.localX,i=t.localY;if(null===this.Am)this.Qm(t);else{this.Lm=!1;const n=Mo(this.zm),r=n.x+(e-this.Am.x),s=n.y+(i-this.Am.y);this.Zm(r,s,t)}}gp(t){0===this.Gv().N().trackingMode.exitMode&&(this.Lm=!0),this.rw(),this.tw(t)}Qn(t,e){const i=this.Nm;return null===i?null:ja(i,t,e)}hw(t,e){Mo("left"===e?this.km:this.Pm).dm(ao({width:t,height:this.Uv.height}))}sv(){return this.Uv}dm(t){ho(this.Uv,t)||(this.Uv=t,this.Kv=!0,this.sm.resizeCanvasElement(t),this.nm.resizeCanvasElement(t),this.Kv=!1,this.Wm.style.width=t.width+"px",this.Wm.style.height=t.height+"px")}aw(){const t=Mo(this.Nm);t.H_(t.U_()),t.H_(t.q_());for(const e of t.Sl())if(t.Zn(e)){const i=e.Ft();null!==i&&t.H_(i),e.Ws()}for(const e of t.ru())e.Ws()}nv(){return this.sm.bitmapSize}ev(t,e,i,n){const r=this.nv();if(r.width>0&&r.height>0&&(t.drawImage(this.sm.canvasElement,e,i),n)){const n=this.nm.canvasElement;null!==t&&t.drawImage(n,e,i)}}pm(t){if(0===t)return;if(null===this.Nm)return;t>1&&this.aw(),null!==this.km&&this.km.pm(t),null!==this.Pm&&this.Pm.pm(t);const e={colorSpace:this.Lv.N().layout.colorSpace};if(1!==t){this.sm.applySuggestedBitmapSize();const t=mo(this.sm,e);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.wm(t)})),this.Nm&&(this.lw(t,jh),this.ow(t),this.lw(t,Vh),this.lw(t,Wh)))}this.nm.applySuggestedBitmapSize();const i=mo(this.nm,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this._w(i),this.lw(i,$h),this.lw(i,Wh))}uw(){return this.km}cw(){return this.Pm}Mm(t,e){this.lw(t,e)}Fm(){null!==this.Nm&&this.Nm.nu().u(this),this.Nm=null}Xm(t){this.Jm(this.Im,t)}Jm(t,e){const i=e.localX,n=e.localY;t.v()&&t.p(this.ns().Et().wc(i),{x:i,y:n},e)}wm(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.ns(),o=s.$(),l=s.Kd();o===l?Go(e,0,0,n,r,l):Zo(e,0,0,n,r,o,l)}ow(t){const e=Mo(this.Nm),i=e.eu().pr().Tt(e);null!==i&&i.nt(t,!1)}_w(t){this.dw(t,Vh,Lh,this.ns().gd())}lw(t,e){const i=Mo(this.Nm),n=i.Dt(),r=i.ru();for(const s of r)this.dw(t,e,Fh,s);for(const s of n)this.dw(t,e,Fh,s);for(const s of r)this.dw(t,e,Lh,s);for(const s of n)this.dw(t,e,Lh,s)}dw(t,e,i,n){const r=Mo(this.Nm),s=r.Qt().pd(),o=null!==s&&s.hu===n,l=null!==s&&o&&void 0!==s.au?s.au.ie:void 0;Dh(e,(e=>i(e,t,o,l)),n,r)}jm(){if(null===this.Nm)return;const t=this.Lv,e=this.Nm.U_().N().visible,i=this.Nm.q_().N().visible;e||null===this.km||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),i||null===this.Pm||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const n=t.Qt().Nd();e&&null===this.km&&(this.km=new Uh(this,t.N(),n,"left"),this.Hm.appendChild(this.km.iv())),i&&null===this.Pm&&(this.Pm=new Uh(this,t.N(),n,"right"),this.Um.appendChild(this.Pm.iv()))}fw(t){return t.Np&&this.Em||null!==this.Am}Zm(t,e,i){t=Math.max(0,Math.min(t,this.Uv.width-1)),e=Math.max(0,Math.min(e,this.Uv.height-1)),this.ns().Ad(t,e,i,Mo(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(t,e,i){this.Am=t,this.Lm=!1,this.Zm(e.x,e.y,i);const n=this.ns().gd();this.zm={x:n.si(),y:n.ni()}}ns(){return this.Lv.Qt()}tw(t){if(!this.Dm)return;const e=this.ns(),i=this.cv();if(e.X_(i,i.Rs()),this.Rm=null,this.Dm=!1,e.Vd(),null!==this.Om){const t=performance.now(),i=e.Et();this.Om.fe(i.Cc(),t),this.Om.Ec(t)||e.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Mo(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(t){if(null===this.Nm)return;const e=this.ns(),i=e.Et();if(i.Gi())return;const n=this.Lv.N(),r=n.handleScroll,s=n.kineticScroll;if((!r.pressedMouseMove||t.Np)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Np))return;const o=this.Nm.Rs(),l=performance.now();if(null!==this.Rm||this.fw(t)||(this.Rm={x:t.clientX,y:t.clientY,cf:l,pw:t.localX,mw:t.localY}),null!==this.Rm&&!this.Dm&&(this.Rm.x!==t.clientX||this.Rm.y!==t.clientY)){if(t.Np&&s.touch||!t.Np&&s.mouse){const t=i.ul();this.Om=new Nh(.2/t,7/t,.997,15/t),this.Om.Dv(i.Cc(),this.Rm.cf)}else this.Om=null;o.Gi()||e.Z_(this.Nm,o,t.localY),e.Dd(t.localX),this.Dm=!0}this.Dm&&(o.Gi()||e.G_(this.Nm,o,t.localY),e.Id(t.localX),null!==this.Om&&this.Om.Dv(i.Cc(),l))}}class Kh{constructor(t,e,i,n,r){this.xt=!0,this.Uv=ao({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv="left"===t,this.hd=i.Nd,this.Ps=e,this.ww=n,this.gw=r,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Bh(this.Jp,ao({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ah(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(t){ho(this.Uv,t)||(this.Uv=t,this.sm.resizeCanvasElement(t),this.Jp.style.width=`${t.width}px`,this.Jp.style.height=`${t.height}px`,this.xt=!0)}pm(t){if(t<3&&!this.xt)return;if(0===this.Uv.width||0===this.Uv.height)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const e=mo(this.sm,{colorSpace:this.Ps.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace((t=>{this.wm(t),this.gm(t)}))}nv(){return this.sm.bitmapSize}ev(t,e,i){const n=this.nv();n.width>0&&n.height>0&&t.drawImage(this.sm.canvasElement,e,i)}gm(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*n),o=Math.floor(this.hd.N().S*r),l=this.Jv?i.width-s:0;e.fillRect(l,0,s,o)}wm(t){let{context:e,bitmapSize:i}=t;Go(e,0,0,i.width,i.height,this.gw())}}function Hh(t){return e=>e.Ka?.(t)??[]}const Jh=Hh("normal"),Qh=Hh("top"),Gh=Hh("bottom");class Xh{constructor(t,e){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=ao({width:0,height:0}),this.xw=new Io,this.qv=new gl(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=t,this.cu=e,this.Ps=t.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Bh(this.kw,ao({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=Bh(this.kw,ao({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const n=this.nm.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Sh(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),null!==this.Mw&&this.Mw.m(),null!==this.bw&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ah(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ah(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(t){if(this.Sw)return;this.Sw=!0;const e=this.Lv.Qt();!e.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Pd(t.localX)}yp(t){this.Pp(t)}Tp(){const t=this.Lv.Qt();!t.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Ed())}mp(t){const e=this.Lv.Qt();!e.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Bd(t.localX)}pp(t){this.mp(t)}bp(){this.Sw=!1;const t=this.Lv.Qt();t.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||t.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(t,e,i){ho(this.Uv,t)||(this.Uv=t,this.Kv=!0,this.sm.resizeCanvasElement(t),this.nm.resizeCanvasElement(t),this.Kv=!1,this.Jp.style.width=`${t.width}px`,this.Jp.style.height=`${t.height}px`,this.xw.p(t)),null!==this.Mw&&this.Mw.dm(ao({width:e,height:t.height})),null!==this.bw&&this.bw.dm(ao({width:i,height:t.height}))}Vw(){const t=this.Bw();return Math.ceil(t.S+t.C+t.k+t.A+t.I+t.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(t,e,i,n){const r=this.nv();if(r.width>0&&r.height>0&&(t.drawImage(this.sm.canvasElement,e,i),n)){const n=this.nm.canvasElement;t.drawImage(n,e,i)}}pm(t){if(0===t)return;const e={colorSpace:this.Ps.colorSpace};if(1!==t){this.sm.applySuggestedBitmapSize();const i=mo(this.sm,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{this.wm(t),this.gm(t),this.Aw(i,Gh)})),this.bm(i),this.Aw(i,Jh)),null!==this.Mw&&this.Mw.pm(t),null!==this.bw&&this.bw.pm(t)}this.nm.applySuggestedBitmapSize();const i=mo(this.nm,e);null!==i&&(i.useBitmapCoordinateSpace((t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],i),this.Aw(i,Qh))}Aw(t,e){const i=this.Lv.Qt().tn();for(const n of i)Dh(e,(e=>Fh(e,t,!1,void 0)),n,void 0);for(const n of i)Dh(e,(e=>Lh(e,t,!1,void 0)),n,void 0)}wm(t){let{context:e,bitmapSize:i}=t;Go(e,0,0,i.width,i.height,this.Lv.Qt().Kd())}gm(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const t=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,i.width,t)}}bm(t){const e=this.Lv.Qt().Et(),i=e.Vl();if(!i||0===i.length)return;const n=this.cu.maxTickMarkWeight(i),r=this.Bw(),s=e.N();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace((t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:s}=t;e.strokeStyle=this.zw(),e.fillStyle=this.zw();const o=Math.max(1,Math.floor(n)),l=Math.floor(.5*n);e.beginPath();const a=Math.round(r.C*s);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-l,0,o,a)}e.fill()})),t.useMediaCoordinateSpace((t=>{let{context:e}=t;const s=r.S+r.C+r.A+r.k/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this._m();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this.Ow(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}this.Lv.N().timeScale.allowBoldLabels&&(e.font=this.Nw());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this.Ow(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}}))}Ow(t,e,i){const n=this.qv.Ii(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.Uv.width&&(e-=Math.abs(this.Uv.width-(s+n))),e}Lw(t,e){const i=this.Bw();for(const n of t)for(const t of n.fs())t.Tt().nt(e,i)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return Lo(this.F(),this.Ps.fontFamily)}Nw(){return Lo(this.F(),this.Ps.fontFamily,"bold")}Bw(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new gl,Ew:0});const t=this.M,e=this._m();if(t.P!==e){const i=this.F();t.k=i,t.P=e,t.A=3*i/12,t.I=3*i/12,t.ts=9*i/12,t.L=0,t.Ew=4*i/12,t.Qi.On()}return this.M}Cm(t){this.Jp.style.cursor=1===t?"ew-resize":"default"}Pw(){const t=this.Lv.Qt(),e=t.N();e.leftPriceScale.visible||null===this.Mw||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),e.rightPriceScale.visible||null===this.bw||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const i={Nd:this.Lv.Qt().Nd()},n=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,r=()=>t.Kd();e.leftPriceScale.visible&&null===this.Mw&&(this.Mw=new Kh("left",e,i,n,r),this.Cw.appendChild(this.Mw.iv())),e.rightPriceScale.visible&&null===this.bw&&(this.bw=new Kh("right",e,i,n,r),this.yw.appendChild(this.bw.iv()))}}const qh=!!bh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!bh&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class Zh{constructor(t,e,i){var n;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Io,this.Vm=new Io,this.nd=new Io,this.Yw=null,this.Kw=null,this.Av=t,this.Ps=e,this.cu=i,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(n=this.Vv).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),tu(this.Ps)&&this.Jw(!0),this.ns=new th(this.rd.bind(this),this.Ps,i),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new Xh(this,this.cu),this.Zw.appendChild(this.tg.iv());const r=e.autoSize&&this.ig();let s=this.Ps.width,o=this.Ps.height;if(r||0===s||0===o){const e=t.getBoundingClientRect();s=s||e.width,o=o||e.height}this.sg(s,o),this.ng(),t.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),0!==this.Hw&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const t of this.Fw)this.Zw.removeChild(t.iv()),t.nw().u(this),t.ew().u(this),t.m();this.Fw=[];for(const t of this.Ww)this.hg(t);this.Ww=[],Mo(this.tg).m(),null!==this.Vv.parentElement&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.eo===e&&this.S_===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return ao({width:e-e%2,height:i-i%2})}(ao({width:t,height:e}));this.eo=n.height,this.S_=n.width;const r=this.eo+"px",s=this.S_+"px";Mo(this.Vv).style.height=r,Mo(this.Vv).style.width=s,this.Zw.style.height=r,this.Zw.style.width=s,i?this.lg(ul.yn(),performance.now()):this.ns.Ca()}pm(t){void 0===t&&(t=ul.yn());for(let e=0;e<this.Fw.length;e++)this.Fw[e].pm(t.un(e).an);this.Ps.timeScale.visible&&this.tg.pm(t._n())}cr(t){const e=tu(this.Ps);this.ns.cr(t);const i=tu(this.Ps);i!==e&&this.Jw(i),t.layout?.panes&&this.og(),this.eg(),this._g(t)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this.qw&&(this.lg(this.qw,performance.now()),this.qw=null);const e=this.cg(null),i=document.createElement("canvas");i.width=e.width,i.height=e.height;const n=Mo(i.getContext("2d"));return this.cg(n,t),i}dg(t){return("left"!==t||this.fg())&&("right"!==t||this.pg())?0===this.Fw.length?0:Mo("left"===t?this.Fw[0].uw():this.Fw[0].cw()).fm():0}vg(){return this.Ps.autoSize&&null!==this.Yw}hv(){return this.Vv}mg(t){this.Kw=t,this.Kw?this.hv().style.setProperty("cursor",t):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(t){return xo(this.Fw[t]).sv()}og(){this.Ww.forEach((t=>{t.kt()}))}_g(t){(void 0!==t.autoSize||!this.Yw||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Yw&&this.ig(),!1===t.autoSize&&null!==this.Yw&&this.ag(),t.autoSize||void 0===t.width&&void 0===t.height||this.sg(t.width||this.S_,t.height||this.eo))}cg(t,e){let i=0,n=0;const r=this.Fw[0],s=(i,n)=>{let r=0;for(let s=0;s<this.Fw.length;s++){const o=this.Fw[s],l=Mo("left"===i?o.uw():o.cw()),a=l.nv();if(null!==t&&l.ev(t,n,r,e),r+=a.height,s<this.Fw.length-1){const e=this.Ww[s],i=e.nv();null!==t&&e.ev(t,n,r),r+=i.height}}};this.fg()&&(s("left",0),i+=Mo(r.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const r=this.Fw[l],s=r.nv();if(null!==t&&r.ev(t,i,n,e),n+=s.height,l<this.Fw.length-1){const e=this.Ww[l],r=e.nv();null!==t&&e.ev(t,i,n),n+=r.height}}i+=r.nv().width,this.pg()&&(s("right",i),i+=Mo(r.cw()).nv().width);const o=(e,i,n)=>{Mo("left"===e?this.tg.Tw():this.tg.Rw()).ev(Mo(t),i,n)};if(this.Ps.timeScale.visible){const i=this.tg.nv();if(null!==t){let s=0;this.fg()&&(o("left",s,n),s=Mo(r.uw()).nv().width),this.tg.ev(t,s,n,e),s+=i.width,this.pg()&&o("right",s,n)}n+=i.height}return ao({width:i,height:n})}Mg(){let t=0,e=0,i=0;for(const m of this.Fw)this.fg()&&(e=Math.max(e,Mo(m.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(i=Math.max(i,Mo(m.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),t+=m.E_();e=_h(e),i=_h(i);const n=this.S_,r=this.eo,s=Math.max(n-e-i,0),o=1*this.Ww.length,l=this.Ps.timeScale.visible;let a=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var h;a=(h=a)+h%2;const u=o+a,c=r<u?0:r-u,d=c/t;let f=0;const p=window.devicePixelRatio||1;for(let m=0;m<this.Fw.length;++m){const t=this.Fw[m];t.qm(this.ns.Xs()[m]);let n=0,r=0;r=m===this.Fw.length-1?Math.ceil((c-f)*p)/p:Math.round(t.E_()*d*p)/p,n=Math.max(r,2),f+=n,t.dm(ao({width:s,height:n})),this.fg()&&t.hw(e,"left"),this.pg()&&t.hw(i,"right"),t.cv()&&this.ns.bd(t.cv(),n)}this.tg.Iw(ao({width:l?s:0,height:a}),l?e:0,l?i:0),this.ns.L_(s),this.Uw!==e&&(this.Uw=e),this.$w!==i&&(this.$w=i)}Jw(t){t?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return qh?1/window.devicePixelRatio:1}Xw(t){if(!(0!==t.deltaX&&this.Ps.handleScroll.mouseWheel||0!==t.deltaY&&this.Ps.handleScale.mouseWheel))return;const e=this.bg(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.Ps.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(i,e)}0!==i&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*i)}lg(t,e){const i=t._n();3===i&&this.Sg(),3!==i&&2!==i||(this.xg(t),this.Cg(t,e),this.tg.kt(),this.Fw.forEach((t=>{t.Ym()})),3===this.qw?._n()&&(this.qw.Sn(t),this.Sg(),this.xg(this.qw),this.Cg(this.qw,e),t=this.qw,this.qw=null)),this.pm(t)}Cg(t,e){for(const i of t.bn())this.xn(i,e)}xg(t){const e=this.ns.Xs();for(let i=0;i<e.length;i++)t.un(i).ln&&e[i].tu()}xn(t,e){const i=this.ns.Et();switch(t.fn){case 0:i.Fc();break;case 1:i.Wc(t.Wt);break;case 2:i.gn(t.Wt);break;case 3:i.Mn(t.Wt);break;case 4:i.Pc();break;case 5:t.Wt.Ec(e)||i.Mn(t.Wt.Ac(e))}}rd(t){null!==this.qw?this.qw.Sn(t):this.qw=t,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((t=>{if(this.jw=!1,this.Hw=0,null!==this.qw){const e=this.qw;this.qw=null,this.lg(e,t);for(const i of e.bn())if(5===i.fn&&!i.Wt.Ec(t)){this.Qt().vn(i.Wt);break}}})))}Sg(){this.ng()}hg(t){this.Zw.removeChild(t.iv()),t.m()}ng(){const t=this.ns.Xs(),e=t.length,i=this.Fw.length;for(let n=e;n<i;n++){const t=xo(this.Fw.pop());this.Zw.removeChild(t.iv()),t.nw().u(this),t.ew().u(this),t.m();const e=this.Ww.pop();void 0!==e&&this.hg(e)}for(let n=i;n<e;n++){const e=new Yh(this,t[n]);if(e.nw().i(this.yg.bind(this,e),this),e.ew().i(this.kg.bind(this,e),this),this.Fw.push(e),n>0){const t=new Ch(this,n-1,n);this.Ww.push(t),this.Zw.insertBefore(t.iv(),this.tg.iv())}this.Zw.insertBefore(e.iv(),this.tg.iv())}for(let n=0;n<e;n++){const e=t[n],i=this.Fw[n];i.cv()!==e?i.qm(e):i.$m()}this.eg(),this.Mg()}Pg(t,e,i,n){const r=new Map;let s;if(null!==t&&this.ns.tn().forEach((e=>{const i=e.qs().$s(t);null!==i&&r.set(e,i)})),null!==t){const e=this.ns.Et().es(t)?.originalTime;void 0!==e&&(s=e)}const o=this.Qt().pd(),l=null!==o&&o.hu instanceof ha?o.hu:void 0,a=null!==o&&void 0!==o.au?o.au.te:void 0,h=this.Tg(n);return{Gr:s,js:t??void 0,Rg:e??void 0,Dg:-1!==h?h:void 0,Ig:l,Vg:r,Bg:a,Eg:i??void 0}}Tg(t){let e=-1;if(t)e=this.Fw.indexOf(t);else{const t=this.Qt().gd().Gs();null!==t&&(e=this.Qt().Xs().indexOf(t))}return e}yg(t,e,i,n){this.Im.p((()=>this.Pg(e,i,n,t)))}kg(t,e,i,n){this.Vm.p((()=>this.Pg(e,i,n,t)))}Qw(t,e,i){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(t,e,i)))}eg(){const t=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=t}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((t=>{const e=t[t.length-1];e&&this.sg(e.contentRect.width,e.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){null!==this.Yw&&this.Yw.disconnect(),this.Yw=null}}function tu(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function eu(t){return void 0===t.open&&void 0===t.value}function iu(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}function nu(t,e,i,n){const r=i.value,s={js:e,wt:t,Wt:[r,r,r,r],Gr:n};return void 0!==i.color&&(s.R=i.color),s}function ru(t,e,i,n){const r=i.value,s={js:e,wt:t,Wt:[r,r,r,r],Gr:n};return void 0!==i.lineColor&&(s.vt=i.lineColor),void 0!==i.topColor&&(s.eh=i.topColor),void 0!==i.bottomColor&&(s.rh=i.bottomColor),s}function su(t,e,i,n){const r=i.value,s={js:e,wt:t,Wt:[r,r,r,r],Gr:n};return void 0!==i.topLineColor&&(s.hh=i.topLineColor),void 0!==i.bottomLineColor&&(s.ah=i.bottomLineColor),void 0!==i.topFillColor1&&(s.oh=i.topFillColor1),void 0!==i.topFillColor2&&(s._h=i.topFillColor2),void 0!==i.bottomFillColor1&&(s.uh=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(s.dh=i.bottomFillColor2),s}function ou(t,e,i,n){const r={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return void 0!==i.color&&(r.R=i.color),r}function lu(t,e,i,n){const r={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return void 0!==i.color&&(r.R=i.color),void 0!==i.borderColor&&(r.Ht=i.borderColor),void 0!==i.wickColor&&(r.nh=i.wickColor),r}function au(t,e,i,n,r){const s=xo(r)(i),o=Math.max(...s),l=Math.min(...s),a=s[s.length-1],h=[a,o,l,a],{time:u,color:c,...d}=i;return{js:e,wt:t,Wt:h,Gr:n,le:d,R:c}}function hu(t){return void 0!==t.Wt}function uu(t,e){return void 0!==e.customValues&&(t.Ag=e.customValues),t}function cu(t){return(e,i,n,r,s,o)=>function(t,e){return e?e(t):eu(t)}(n,o)?uu({wt:e,js:i,Gr:r},n):uu(t(e,i,n,r,s),n)}function du(t){return{Candlestick:cu(lu),Bar:cu(ou),Area:cu(ru),Baseline:cu(su),Histogram:cu(nu),Line:cu(nu),Custom:cu(au)}[t]}function fu(t){return{js:0,Lg:new Map,Ea:t}}function pu(t,e){if(void 0!==t&&0!==t.length)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function mu(t){let e;return t.forEach((t=>{void 0===e&&(e=t.Gr)})),xo(e)}class yu{constructor(t){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=t}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(t,e){let i=0!==this.Ng.size,n=!1;const r=this.Fg.get(t);if(void 0!==r)if(1===this.Fg.size)i=!1,n=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e.map((t=>t.time)),r=this.cu.createConverterToInternalObj(e),o=du(t.wh()),l=t.rl(),a=t.hl();s=e.map(((e,s)=>{const h=r(e.time),u=this.cu.key(h);let c=this.Ng.get(u);void 0===c&&(c=fu(h),this.Ng.set(u,c),n=!0);const d=o(h,c.js,e,i[s],l,a);return c.Lg.set(t,d),d}))}i&&this.$g(),this.qg(t,s);let o=-1;if(n){const t=[];this.Ng.forEach((e=>{t.push({timeWeight:0,time:e.Ea,pointData:e,originalTime:mu(e.Lg)})})),t.sort(((t,e)=>this.cu.key(t.time)-this.cu.key(e.time))),o=this.jg(t)}return this.Yg(t,o,function(t,e,i){const n=pu(t,i),r=pu(e,i);if(void 0!==n&&void 0!==r)return{Kg:!1,Ta:n.Og>=r.Og&&n.zg>=r.zg}}(this.Fg.get(t),r,this.cu))}Hd(t){return this.Ug(t,[])}Zg(t,e,i){if(i&&t.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const n=e;!function(t){void 0===t.Gr&&(t.Gr=t.time)}(n),this.cu.preprocessData(e);const r=this.cu.createConverterToInternalObj([e])(e.time),s=this.Wg.get(t);if(!i&&void 0!==s&&this.cu.key(r)<this.cu.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${r}`);let o=this.Ng.get(this.cu.key(r));if(i&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=fu(r),this.Ng.set(this.cu.key(r),o));const a=du(t.wh()),h=t.rl(),u=t.hl(),c=a(r,o.js,e,n.Gr,h,u),d=!i&&!l&&void 0!==s&&this.cu.key(r)===this.cu.key(s);o.Lg.set(t,c),i?this.Gg(t,c,o.js):d&&t.La()&&hu(c)?(t.kr(c),this.Xg(t,c)):this.Xg(t,c);const f={Ta:hu(c),Kg:i};if(!l)return this.Yg(t,-1,f);const p={timeWeight:0,time:o.Ea,pointData:o,originalTime:mu(o.Lg)},m=Ul(this.Hg,this.cu.key(p.time),((t,e)=>this.cu.key(t.time)<e));this.Hg.splice(m,0,p);for(let y=m;y<this.Hg.length;++y)gu(this.Hg[y].pointData,y);return this.cu.fillWeightsForPoints(this.Hg,m),this.Yg(t,m,f)}Jg(t,e){const i=this.Fg.get(t);if(void 0===i||e<=0)return[[],this.Qg()];e=Math.min(e,i.length);const n=i.splice(-e).reverse();0===i.length?this.Wg.delete(t):this.Wg.set(t,i[i.length-1].wt);for(const r of n){const e=this.Ng.get(this.cu.key(r.wt));if(e&&(e.Lg.delete(t),0===e.Lg.size)){this.Ng.delete(this.cu.key(e.Ea)),this.Hg.splice(e.js,1);for(let t=e.js;t<this.Hg.length;++t)gu(this.Hg[t].pointData,t)}}return[n,this.Yg(t,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(t,e){let i=this.Fg.get(t);void 0===i&&(i=[],this.Fg.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.cu.key(e.wt)>this.cu.key(n.wt)?hu(e)&&i.push(e):hu(e)?i[i.length-1]=e:i.splice(-1,1),this.Wg.set(t,e.wt)}Gg(t,e,i){const n=this.Fg.get(t);if(void 0===n)return;const r=Ul(n,i,((t,e)=>t.js<e));hu(e)?n[r]=e:n.splice(r,1)}qg(t,e){0!==e.length?(this.Fg.set(t,e.filter(hu)),this.Wg.set(t,e[e.length-1].wt)):(this.Fg.delete(t),this.Wg.delete(t))}$g(){for(const t of this.Hg)0===t.pointData.Lg.size&&this.Ng.delete(this.cu.key(t.time))}jg(t){let e=-1;for(let i=0;i<this.Hg.length&&i<t.length;++i){const n=this.Hg[i],r=t[i];if(this.cu.key(n.time)!==this.cu.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,gu(r.pointData,i)}if(-1===e&&this.Hg.length!==t.length&&(e=Math.min(this.Hg.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)gu(t[i].pointData,i);return this.cu.fillWeightsForPoints(t,e),this.Hg=t,e}tM(){if(0===this.Fg.size)return null;let t=0;return this.Fg.forEach((e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].js))})),t}Yg(t,e,i){const n=this.Qg();if(-1!==e)this.Fg.forEach(((e,r)=>{n.F_.set(r,{le:e,iM:r===t?i:void 0})})),this.Fg.has(t)||n.F_.set(t,{le:[],iM:i}),n.Et.sM=this.Hg,n.Et.nM=e;else{const e=this.Fg.get(t);n.F_.set(t,{le:e||[],iM:i})}return n}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function gu(t,e){t.js=e,t.Lg.forEach((t=>{t.js=e}))}function bu(t,e){return t.wt<e}function vu(t,e){return e<t.wt}function wu(t,e,i){const n=e.Aa(),r=e.bi(),s=Ul(t,n,bu),o=jl(t,r,vu);if(!i)return{from:s,to:o};let l=s,a=o;return s>0&&s<t.length&&t[s].wt>=n&&(l=s-1),o>0&&o<t.length&&t[o-1].wt<=r&&(a=o+1),{from:l,to:a}}class _u{constructor(t,e,i){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=t,this.re=e,this._M=i}kt(t){this.eM=!0,"data"===t&&(this.rM=!0),"options"===t&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),null===this.lM?null:this.cM):null}dM(){this.aM=this.aM.map((t=>({...t,...this.ee.ga().gh(t.wt)})))}fM(){this.lM=null}uM(){const t=this.re.Et(),e=t.N().enableConflation?t.Hc():0;e!==this.oM&&(this.rM=!0,this.oM=e),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const t=this.ee.Ft(),e=this.re.Et();if(this.fM(),e.Gi()||t.Gi())return;const i=e.Ie();if(null===i)return;if(0===this.ee.qs().yh())return;const n=this.ee.Lt();null!==n&&(this.lM=wu(this.aM,i,this._M),this.mM(t,e,n.Wt),this.wM())}}class Su{constructor(t,e){this.gM=t,this.Ki=e}nt(t,e,i){this.gM.draw(t,this.Ki,e,i)}}class xu extends _u{constructor(t,e,i){super(t,e,!1),this.$h=i,this.cM=new Su(this.$h.renderer(),(e=>{const i=t.Lt();return null===i?null:t.Ft().Nt(e,i.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(t){return this.$h.priceValueBuilder(t)}al(t){return this.$h.isWhitespace(t)}pM(){const t=this.ee.ga();this.aM=this.ee.Na().Dh().map((e=>({wt:e.js,_t:NaN,...t.gh(e.js),MM:e.le})))}mM(t,e){e.mc(this.aM,Ao(this.lM))}wM(){this.$h.update({bars:this.aM.map(Mu),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function Mu(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const Tu={color:"#2196f3"},Iu=(t,e,i)=>{const n=To(i);return new xu(t,e,n)};function Eu(t){const e={value:t.Wt[3],time:t.Gr};return void 0!==t.Ag&&(e.customValues=t.Ag),e}function Cu(t){const e=Eu(t);return void 0!==t.R&&(e.color=t.R),e}function ku(t){const e=Eu(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.eh&&(e.topColor=t.eh),void 0!==t.rh&&(e.bottomColor=t.rh),e}function Pu(t){const e=Eu(t);return void 0!==t.hh&&(e.topLineColor=t.hh),void 0!==t.ah&&(e.bottomLineColor=t.ah),void 0!==t.oh&&(e.topFillColor1=t.oh),void 0!==t._h&&(e.topFillColor2=t._h),void 0!==t.uh&&(e.bottomFillColor1=t.uh),void 0!==t.dh&&(e.bottomFillColor2=t.dh),e}function Nu(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return void 0!==t.Ag&&(e.customValues=t.Ag),e}function Ou(t){const e=Nu(t);return void 0!==t.R&&(e.color=t.R),e}function Bu(t){const e=Nu(t),{R:i,Ht:n,nh:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function Au(t){return{Area:ku,Line:Cu,Baseline:Pu,Histogram:Cu,Bar:Ou,Candlestick:Bu,Custom:Fu}[t]}function Fu(t){const e=t.Gr;return{...t.le,time:e}}const Lu={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},Du={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Ru={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Fo,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},zu={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},Uu={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function ju(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Ru,crosshair:Lu,grid:Du,overlayPriceScales:{...zu},leftPriceScale:{...zu,visible:!1},rightPriceScale:{...zu,visible:!0},timeScale:Uu,localization:{locale:bh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Vu{constructor(t,e,i){this.Yp=t,this.bM=e,this.SM=i??0}applyOptions(t){this.Yp.Qt().md(this.bM,t,this.SM)}options(){return this.Ki().N()}width(){return hl(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(t){this.setAutoScale(!1),this.Ki().$o(new kl(t.from,t.to))}getVisibleRange(){let t,e,i=this.Ki().er();if(null===i)return null;if(this.Ki().io()){const n=this.Ki().m_(),r=eh(n);i=Ea(i,this.Ki().no()),t=Number((Math.round(i.Ze()/n)*n).toFixed(r)),e=Number((Math.round(i.Ge()/n)*n).toFixed(r))}else t=i.Ze(),e=i.Ge();return{from:t,to:e}}setAutoScale(t){this.applyOptions({autoScale:t})}Ki(){return Mo(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class Wu{constructor(t,e,i,n){this.Yp=t,this.yt=i,this.xM=e,this.CM=n}getHeight(){return this.yt.$t()}setHeight(t){const e=this.Yp.Qt(),i=e.Gd(this.yt);e.xd(i,t)}getStretchFactor(){return this.yt.E_()}setStretchFactor(t){this.yt.A_(t),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(t){const e=this.paneIndex();e!==t&&(So(t>=0&&t<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(e,t))}getSeries(){return this.yt.F_().map((t=>this.xM(t)))??[]}getHTMLElement(){const t=this.Yp.Zp();return t&&0!==t.length&&t[this.paneIndex()]?t[this.paneIndex()].iv():null}attachPrimitive(t){this.yt.nl(t),t.attached&&t.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(t){this.yt.el(t)}priceScale(t){if(null===this.yt.V_(t))throw new Error(`Cannot find price scale with id: ${t}`);return new Vu(this.Yp,t,this.paneIndex())}setPreserveEmptyPane(t){this.yt.O_(t)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.CM.addCustomSeries(t,e,i)}addSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.CM.addSeries(t,e,this.paneIndex())}}const $u={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class Yu{constructor(t){this.hr=t}applyOptions(t){this.hr.cr(t)}options(){return this.hr.N()}yM(){return this.hr}}class Ku{constructor(t,e,i,n,r,s){this.kM=new Io,this.ee=t,this.PM=e,this.TM=i,this.cu=r,this.CM=n,this.RM=s}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(t){const e=this.ee.Lt();return null===e?null:this.ee.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.ee.Lt();return null===e?null:this.ee.Ft().Ds(t,e.Wt)}barsInLogicalRange(t){if(null===t)return null;const e=new Ka(new Wa(t.from,t.to)).Ru(),i=this.ee.qs();if(i.Gi())return null;const n=i.$s(e.Aa(),1),r=i.$s(e.bi(),-1),s=Mo(i.kh()),o=Mo(i.sn());if(null!==n&&null!==r&&n.js>r.js)return{barsBefore:t.from-s,barsAfter:o-t.to};const l={barsBefore:null===n||n.js===s?t.from-s:n.js-s,barsAfter:null===r||r.js===o?o-t.to:o-r.js};return null!==n&&null!==r&&(l.from=n.Gr,l.to=r.Gr),l}setData(t){this.cu,this.ee.wh(),this.PM.DM(this.ee,t),this.IM("full")}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.ee.wh(),this.PM.VM(this.ee,t,e),this.IM("update")}pop(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const e=this.PM.BM(this.ee,t);0!==e.length&&this.IM("update");const i=Au(this.seriesType());return e.map((t=>i(t)))}dataByIndex(t,e){const i=this.ee.qs().$s(t,e);return null===i?null:Au(this.seriesType())(i)}data(){const t=Au(this.seriesType());return this.ee.qs().Dh().map((e=>t(e)))}subscribeDataChanged(t){this.kM.i(t)}unsubscribeDataChanged(t){this.kM._(t)}applyOptions(t){this.ee.cr(t)}options(){return Oo(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(t){const e=Eo(Oo($u),t),i=this.ee.Da(e);return new Yu(i)}removePriceLine(t){this.ee.Ia(t.yM())}priceLines(){return this.ee.Va().map((t=>new Yu(t)))}seriesType(){return this.ee.wh()}lastValueData(t){const e=this.ee.Ve(t);return e.Be?{noData:!0}:{noData:!1,price:e.gt,color:e.R}}attachPrimitive(t){this.ee.nl(t),t.attached&&t.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(t){this.ee.el(t),t.detached&&t.detached(),this.ee.Qt().Ca()}getPane(){const t=this.ee,e=Mo(this.ee.Qt().Kn(t));return this.RM(e)}moveToPane(t){this.ee.Qt().jd(this.ee,t)}seriesOrder(){const t=this.ee.Qt().Kn(this.ee);return null===t?-1:t.F_().indexOf(this.ee)}setSeriesOrder(t){const e=this.ee.Qt().Kn(this.ee);null!==e&&e.su(this.ee,t)}IM(t){this.kM.v()&&this.kM.p(t)}}class Hu{constructor(t,e,i){this.EM=new Io,this.Nu=new Io,this.xw=new Io,this.ns=t,this.Jh=t.Et(),this.tg=e,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=i}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(t,e){e?this.Jh.Bc(t,1e3):this.ns.Mn(t)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const t=this.Jh.lc();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.cu.convertHorzItemToInternal(t.from),to:this.cu.convertHorzItemToInternal(t.to)},i=this.Jh.cc(e);this.ns.$d(i)}getVisibleLogicalRange(){const t=this.Jh.ac();return null===t?null:{from:t.Aa(),to:t.bi()}}setVisibleLogicalRange(t){So(t.from<=t.to,"The from index cannot be after the to index."),this.ns.$d(t)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(t){const e=this.ns.Et();return e.Gi()?null:e.qt(t)}coordinateToLogical(t){return this.Jh.Gi()?null:this.Jh.wc(t)}timeToIndex(t,e){const i=this.cu.convertHorzItemToInternal(t);return this.Jh.ec(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return null===e?null:this.Jh.qt(e)}coordinateToTime(t){const e=this.ns.Et(),i=e.wc(t),n=e.es(i);return null===n?null:n.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(t){this.EM.i(t)}unsubscribeVisibleTimeRangeChange(t){this.EM._(t)}subscribeVisibleLogicalRangeChange(t){this.Nu.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.Nu._(t)}subscribeSizeChange(t){this.xw.i(t)}unsubscribeSizeChange(t){this.xw._(t)}applyOptions(t){this.Jh.cr(t)}options(){return{...Oo(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(t){this.xw.p(t.width,t.height)}}function Ju(t){return function(t){if(No(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;No(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),No(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;No(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class Qu{constructor(t,e,i){this.OM=new Map,this.NM=new Map,this.FM=new Io,this.WM=new Io,this.HM=new Io,this.Xc=new WeakMap,this.UM=new yu(e);const n=void 0===i?Oo(ju()):Eo(Oo(ju()),Ju(i));this.$M=e,this.Yp=new Zh(t,n,e),this.Yp.nw().i((t=>{this.FM.v()&&this.FM.p(this.qM(t()))}),this),this.Yp.ew().i((t=>{this.WM.v()&&this.WM.p(this.qM(t()))}),this),this.Yp.Md().i((t=>{this.HM.v()&&this.HM.p(this.qM(t()))}),this);const r=this.Yp.Qt();this.jM=new Hu(r,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(t,e,i){this.autoSizeActive()||this.Yp.sg(t,e,i)}addCustomSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=(t=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...Tu,...t.defaultOptions()},YM:Iu,KM:t}))(To(t));return this.ZM(n,e,i)}addSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.ZM(t,e,i)}removeSeries(t){const e=xo(this.OM.get(t)),i=this.UM.Hd(e);this.Yp.Qt().Hd(e),this.GM(i),this.OM.delete(t),this.NM.delete(e)}DM(t,e){this.GM(this.UM.Ug(t,e))}VM(t,e,i){this.GM(this.UM.Zg(t,e,i))}BM(t,e){const[i,n]=this.UM.Jg(t,e);return 0!==i.length&&this.GM(n),i}subscribeClick(t){this.FM.i(t)}unsubscribeClick(t){this.FM._(t)}subscribeCrosshairMove(t){this.HM.i(t)}unsubscribeCrosshairMove(t){this.HM._(t)}subscribeDblClick(t){this.WM.i(t)}unsubscribeDblClick(t){this.WM._(t)}priceScale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Vu(this.Yp,t,e)}timeScale(){return this.jM}applyOptions(t){this.Yp.cr(Ju(t))}options(){return this.Yp.N()}takeScreenshot(){let t,e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{n||(t=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),e=this.Yp.ug(i)}finally{n||void 0===t||this.Yp.Qt().cr({crosshair:{mode:t}})}return e}addPane(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.Yp.Qt().Xd();return e.O_(t),this.XM(e)}removePane(t){this.Yp.Qt().Sd(t)}swapPanes(t,e){this.Yp.Qt().Cd(t,e)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((t=>this.XM(t)))}paneSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=this.Yp.gg(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const n=this.OM.get(i);if(void 0===n)return;const r=this.Yp.Qt().Kn(n);null!==r&&this.Yp.Qt().Ld(t,e,r)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;So(void 0!==t.YM),function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=eh(e.minMove))}(e.priceFormat),"Candlestick"===t.type&&function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e);const n=Eo(Oo(yo),Oo(t.defaultOptions),e),r=t.YM,s=new ha(this.Yp.Qt(),t.type,n,r,t.KM);this.Yp.Qt().Fd(s,i);const o=new Ku(s,this,this,this,this.$M,(t=>this.XM(t)));return this.OM.set(o,s),this.NM.set(s,o),o}GM(t){const e=this.Yp.Qt();e.Od(t.Et.vc,t.Et.sM,t.Et.nM),t.F_.forEach(((t,e)=>e.ht(t.le,t.iM))),e.Et().Ju(),e.Sc()}JM(t){return xo(this.NM.get(t))}qM(t){const e=new Map;t.Vg.forEach(((t,i)=>{const n=i.wh(),r=Au(n)(t);if("Custom"!==n)So(iu(r));else{const t=i.hl();So(!t||!1===t(r))}e.set(this.JM(i),r)}));const i=void 0!==t.Ig&&this.NM.has(t.Ig)?this.JM(t.Ig):void 0;return{time:t.Gr,logical:t.js,point:t.Rg,paneIndex:t.Dg,hoveredSeries:i,hoveredObjectId:t.Bg,seriesData:e,sourceEvent:t.Eg}}XM(t){let e=this.Xc.get(t);return e||(e=new Wu(this.Yp,(t=>this.JM(t)),t,this),this.Xc.set(t,e)),e}}function Gu(t){if(Po(t)){const e=document.getElementById(t);return So(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}function Xu(t,e,i){const n=Gu(t),r=new Qu(n,e,i);return e.setOptions(r.options()),r}class qu extends _u{constructor(t,e){super(t,e,!0)}mM(t,e,i){e.mc(this.aM,Ao(this.lM)),t.Yo(this.aM,i,Ao(this.lM))}QM(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}pM(){const t=this.ee.ga();this.aM=this.ee.Na().Dh().map((e=>{let i;if((e.jr??1)>1){const t=e.Wt[1],n=e.Wt[2],r=e.Wt[3];i=Math.abs(t-r)>Math.abs(n-r)?t:n}else i=e.Wt[3];return this.tb(e.js,i,t)}))}}function Zu(t,e,i,n,r,s,o){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:h}=t,u=e[n.from];let c=s(t,u),d=u;if(n.to-n.from<2){const e=r/2;l.beginPath();const i={_t:u._t-e,ut:u.ut},n={_t:u._t+e,ut:u.ut};l.moveTo(i._t*a,i.ut*h),l.lineTo(n._t*a,n.ut*h),o(t,c,i,n)}else{const r=(e,i)=>{o(t,c,d,i),l.beginPath(),c=e,d=i};let f=d;l.beginPath(),l.moveTo(u._t*a,u.ut*h);for(let o=n.from+1;o<n.to;++o){f=e[o];const n=s(t,f);switch(i){case 0:l.lineTo(f._t*a,f.ut*h);break;case 1:l.lineTo(f._t*a,e[o-1].ut*h),n!==c&&(r(n,f),l.lineTo(f._t*a,e[o-1].ut*h)),l.lineTo(f._t*a,f.ut*h);break;case 2:{const[t,i]=nc(e,o-1,o);l.bezierCurveTo(t._t*a,t.ut*h,i._t*a,i.ut*h,f._t*a,f.ut*h);break}}1!==i&&n!==c&&(r(n,f),l.moveTo(f._t*a,f.ut*h))}(d!==f||d===f&&1===i)&&o(t,c,d,f)}}const tc=6;function ec(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function ic(t,e){return{_t:t._t/e,ut:t.ut/e}}function nc(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=ic(ec(t[i],t[n]),tc),{_t:s._t+o._t,ut:s.ut+o.ut}),ec(t[i],ic(ec(t[r],t[e]),tc))]}function rc(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class sc extends Vo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,ib:n,sb:r,ct:s,Zt:o,nb:l}=this.rt;if(null===i)return;const a=t.context;a.lineCap="butt",a.lineWidth=s*t.verticalPixelRatio,wo(a,o),a.lineJoin="round";const h=this.eb.bind(this);void 0!==r&&Zu(t,e,r,i,n,h,rc),l&&function(t,e,i,n,r){if(n.to-n.from<=0)return;const{horizontalPixelRatio:s,verticalPixelRatio:o,context:l}=t;let a=null;const h=Math.max(1,Math.floor(s))%2/2,u=i*o+h;for(let c=n.to-1;c>=n.from;--c){const i=e[c];if(i){const e=r(t,i);e!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=e,a=e);const n=Math.round(i._t*s)+h,c=i.ut*o;l.moveTo(n,c),l.arc(n,c,u,0,2*Math.PI)}}l.fill()}(t,e,l,i,h)}}class oc extends sc{eb(t,e){return e.vt}}class lc extends qu{constructor(){super(...arguments),this.cM=new oc}tb(t,e,i){return{...this.QM(t,e),...i.gh(t)}}wM(){const t=this.ee.N(),e={ot:this.aM,Zt:t.lineStyle,sb:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,nb:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(e)}}const ac={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new lc(t,e)};function hc(t,e,i,n,r){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=e;s.lineTo(r._t*o,t*l),s.lineTo(n._t*o,t*l),s.closePath(),s.fillStyle=i,s.fill()}class uc extends Vo{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,ib:n,ct:r,Zt:s,sb:o}=this.rt,l=this.rt.ub??(this.rt.cb?0:t.mediaSize.height);if(null===i)return;const a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=r,wo(a,s),a.lineWidth=1,Zu(t,e,o,i,n,this.fb.bind(this),hc.bind(null,l))}}class cc{pb(t,e){const i=this.mb,{wb:n,gb:r,Mb:s,bb:o,ub:l,Sb:a,xb:h}=e;if(void 0===this.Cb||void 0===i||i.wb!==n||i.gb!==r||i.Mb!==s||i.bb!==o||i.ub!==l||i.Sb!==a||i.xb!==h){const{verticalPixelRatio:i}=t,u=l||a>0?i:1,c=a*u,d=h===t.bitmapSize.height?h:h*u,f=(l??0)*u,p=t.context.createLinearGradient(0,c,0,d);if(p.addColorStop(0,n),null!=l){const t=fa((f-c)/(d-c),0,1);p.addColorStop(t,r),p.addColorStop(t,s)}p.addColorStop(1,o),this.Cb=p,this.mb=e}return this.Cb}}class dc extends uc{constructor(){super(...arguments),this.yb=new cc}fb(t,e){return this.yb.pb(t,{wb:e.eh,gb:"",Mb:"",bb:e.rh,Sb:this.rt?.Sb??0,xb:t.bitmapSize.height})}}class fc extends qu{constructor(t,e){super(t,e),this.cM=new jo,this.Rb=new dc,this.Db=new oc,this.cM.st([this.Rb,this.Db])}tb(t,e,i){return{...this.QM(t,e),...i.gh(t)}}wM(){const t=this.ee.N();if(null===this.lM||0===this.aM.length)return;let e;if(t.relativeGradient){e=this.aM[this.lM.from].ut;for(let t=this.lM.from;t<this.lM.to;t++){const i=this.aM[t];i.ut<e&&(e=i.ut)}}this.Rb.ht({sb:t.lineType,ot:this.aM,Zt:t.lineStyle,ct:t.lineWidth,ub:null,Sb:e,cb:t.invertFilledArea,lt:this.lM,ib:this.re.Et().ul()}),this.Db.ht({sb:t.lineVisible?t.lineType:void 0,ot:this.aM,Zt:t.lineStyle,ct:t.lineWidth,lt:this.lM,ib:this.re.Et().ul(),nb:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const pc={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new fc(t,e)};class mc extends Vo{constructor(){super(...arguments),this.jt=null,this.Ib=0,this.Vb=0}ht(t){this.jt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.jt||0===this.jt.qs.length||null===this.jt.lt)return;this.Ib=this.Bb(i),this.Ib>=2&&Math.max(1,Math.floor(i))%2!=this.Ib%2&&this.Ib--,this.Vb=this.jt.Eb?Math.min(this.Ib,Math.floor(i)):this.Ib;let r=null;const s=this.Vb<=this.Ib&&this.jt.ul>=Math.floor(1.5*i);for(let o=this.jt.lt.from;o<this.jt.lt.to;++o){const t=this.jt.qs[o];r!==t.th&&(e.fillStyle=t.th,r=t.th);const l=Math.floor(.5*this.Vb),a=Math.round(t._t*i),h=a-l,u=this.Vb,c=h+u-1,d=Math.min(t.Xo,t.Jo),f=Math.max(t.Xo,t.Jo),p=Math.round(d*n)-l,m=Math.round(f*n)+l,y=Math.max(m-p,this.Vb);e.fillRect(h,p,u,y);const g=Math.ceil(1.5*this.Ib);if(s){if(this.jt.Ab){const i=a-g;let r=Math.max(p,Math.round(t.Go*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(i,r,h-i,s-r+1)}const i=a+g;let r=Math.max(p,Math.round(t.Qo*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(c+1,r,i-c,s-r+1)}}}Bb(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(Mo(this.jt).ul,t)))}}class yc extends _u{constructor(t,e){super(t,e,!1)}mM(t,e,i){e.mc(this.aM,Ao(this.lM)),t.Zo(this.aM,i,Ao(this.lM))}Lb(t,e,i){return{wt:t,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const t=this.ee.ga();this.aM=this.ee.Na().Dh().map((e=>this.tb(e.js,e,t)))}}class gc extends yc{constructor(){super(...arguments),this.cM=new mc}tb(t,e,i){return{...this.Lb(t,e,i),...i.gh(t)}}wM(){const t=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),Ab:t.openVisible,Eb:t.thinBars,lt:this.lM})}}const bc={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},YM:(t,e)=>new gc(t,e)};class vc extends Vo{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(t){this.jt=t}et(t){if(null===this.jt||0===this.jt.qs.length||null===this.jt.lt)return;const{horizontalPixelRatio:e}=t;this.Ib=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.jt.ul,e),this.Ib>=2&&Math.floor(e)%2!=this.Ib%2&&this.Ib--;const i=this.jt.qs;this.jt.zb&&this.Ob(t,i,this.jt.lt),this.jt.Mi&&this.gm(t,i,this.jt.lt);const n=this.Nb(e);(!this.jt.Mi||this.Ib>2*n)&&this.Fb(t,i,this.jt.lt)}Ob(t,e,i){if(null===this.jt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="",l=Math.min(Math.floor(r),Math.floor(this.jt.ul*r));l=Math.max(Math.floor(r),Math.min(l,this.Ib));const a=Math.floor(.5*l);let h=null;for(let u=i.from;u<i.to;u++){const t=e[u];t.sh!==o&&(n.fillStyle=t.sh,o=t.sh);const i=Math.round(Math.min(t.Go,t.Qo)*s),c=Math.round(Math.max(t.Go,t.Qo)*s),d=Math.round(t.Xo*s),f=Math.round(t.Jo*s);let p=Math.round(r*t._t)-a;const m=p+l-1;null!==h&&(p=Math.max(h+1,p),p=Math.min(p,m));const y=m-p+1;n.fillRect(p,d,y,i-d),n.fillRect(p,c+1,y,f-c),h=m}}Nb(t){let e=Math.floor(1*t);this.Ib<=2*e&&(e=Math.floor(.5*(this.Ib-1)));const i=Math.max(Math.floor(t),e);return this.Ib<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}gm(t,e,i){if(null===this.jt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.Nb(r);let a=null;for(let h=i.from;h<i.to;h++){const t=e[h];t.ih!==o&&(n.fillStyle=t.ih,o=t.ih);let i=Math.round(t._t*r)-Math.floor(.5*this.Ib);const u=i+this.Ib-1,c=Math.round(Math.min(t.Go,t.Qo)*s),d=Math.round(Math.max(t.Go,t.Qo)*s);if(null!==a&&(i=Math.max(a+1,i),i=Math.min(i,u)),this.jt.ul*r>2*l)Qo(n,i,c,u-i+1,d-c+1,l);else{const t=u-i+1;n.fillRect(i,c,t,d-c+1)}a=u}}Fb(t,e,i){if(null===this.jt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.Nb(r);for(let a=i.from;a<i.to;a++){const t=e[a];let i=Math.round(Math.min(t.Go,t.Qo)*s),h=Math.round(Math.max(t.Go,t.Qo)*s),u=Math.round(t._t*r)-Math.floor(.5*this.Ib),c=u+this.Ib-1;if(t.th!==o){const e=t.th;n.fillStyle=e,o=e}this.jt.Mi&&(u+=l,i+=l,c-=l,h-=l),i>h||n.fillRect(u,i,c-u+1,h-i+1)}}}class wc extends yc{constructor(){super(...arguments),this.cM=new vc}tb(t,e,i){return{...this.Lb(t,e,i),...i.gh(t)}}wM(){const t=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:t.wickVisible,Mi:t.borderVisible,lt:this.lM})}}const _c={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new wc(t,e)};class Sc extends Vo{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(t){this.jt=t,this.Wb=[]}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.jt||0===this.jt.ot.length||null===this.jt.lt)return;this.Wb.length||this.Hb(i);const r=Math.max(1,Math.floor(n)),s=Math.round(this.jt.Ub*n)-Math.floor(r/2),o=s+r;for(let l=this.jt.lt.from;l<this.jt.lt.to;l++){const t=this.jt.ot[l],i=this.Wb[l-this.jt.lt.from],a=Math.round(t.ut*n);let h,u;e.fillStyle=t.th,a<=s?(h=a,u=o):(h=s,u=a-Math.floor(r/2)+r),e.fillRect(i.Aa,h,i.bi-i.Aa+1,u-h)}}Hb(t){if(null===this.jt||0===this.jt.ot.length||null===this.jt.lt)return void(this.Wb=[]);const e=Math.ceil(this.jt.ul*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.jt.ul*t)-e;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let r=this.jt.lt.from;r<this.jt.lt.to;r++){const e=this.jt.ot[r],n=Math.round(e._t*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.Wb[r-this.jt.lt.from]={Aa:s,bi:o,$b:n,oe:e._t*t,wt:e.wt}}for(let r=this.jt.lt.from+1;r<this.jt.lt.to;r++){const t=this.Wb[r-this.jt.lt.from],i=this.Wb[r-this.jt.lt.from-1];t.wt===i.wt+1&&t.Aa-i.bi!==e+1&&(i.$b>i.oe?i.bi=t.Aa-e-1:t.Aa=i.bi+e+1)}let n=Math.ceil(this.jt.ul*t);for(let r=this.jt.lt.from;r<this.jt.lt.to;r++){const t=this.Wb[r-this.jt.lt.from];t.bi<t.Aa&&(t.bi=t.Aa);const e=t.bi-t.Aa+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.jt.lt.from;r<this.jt.lt.to;r++){const t=this.Wb[r-this.jt.lt.from];t.bi-t.Aa+1>n&&(t.$b>t.oe?t.bi-=1:t.Aa+=1)}}}class xc extends qu{constructor(){super(...arguments),this.cM=new Sc}tb(t,e,i){return{...this.QM(t,e),...i.gh(t)}}wM(){const t={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,Mo(this.ee.Lt()).Wt)};this.cM.ht(t)}}const Mc={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(t,e)=>new xc(t,e)};class Tc{constructor(t,e){this.yt=t,this.qb=e,this.jb()}detach(){this.yt.detachPrimitive(this.qb)}getPane(){return this.yt}applyOptions(t){this.qb.cr?.(t)}jb(){this.yt.attachPrimitive(this.qb)}}const Ic={visible:!0,horzAlign:"center",vertAlign:"center",lines:[]},Ec={color:"rgba(0, 0, 0, 0.5)",fontSize:48,fontFamily:Fo,fontStyle:"",text:""};class Cc{constructor(t){this.Yb=new Map,this.jt=t}draw(t){t.useMediaCoordinateSpace((t=>{if(!this.jt.visible)return;const{context:e,mediaSize:i}=t;let n=0;for(const s of this.jt.lines){if(0===s.text.length)continue;e.font=s.P;const t=this.Kb(e,s.text);t>i.width?s.Rc=i.width/t:s.Rc=1,n+=s.lineHeight*s.Rc}let r=0;switch(this.jt.vertAlign){case"top":r=0;break;case"center":r=Math.max((i.height-n)/2,0);break;case"bottom":r=Math.max(i.height-n,0)}for(const s of this.jt.lines){e.save(),e.fillStyle=s.color;let t=0;switch(this.jt.horzAlign){case"left":e.textAlign="left",t=s.lineHeight/2;break;case"center":e.textAlign="center",t=i.width/2;break;case"right":e.textAlign="right",t=i.width-1-s.lineHeight/2}e.translate(t,r),e.textBaseline="top",e.font=s.P,e.scale(s.Rc,s.Rc),e.fillText(s.text,0,s.Zb),e.restore(),r+=s.lineHeight*s.Rc}}))}Kb(t,e){const i=this.Gb(t.font);let n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n}Gb(t){let e=this.Yb.get(t);return void 0===e&&(e=new Map,this.Yb.set(t,e)),e}}class kc{constructor(t){this.Ps=Nc(t)}kt(t){this.Ps=Nc(t)}renderer(){return new Cc(this.Ps)}}function Pc(t){return{...t,P:Lo(t.fontSize,t.fontFamily,t.fontStyle),lineHeight:t.lineHeight||1.2*t.fontSize,Zb:0,Rc:0}}function Nc(t){return{...t,lines:t.lines.map(Pc)}}function Oc(t){return{...Ec,...t}}function Bc(t){return{...Ic,...t,lines:t.lines?.map(Oc)??[]}}class Ac{constructor(t){this.Ps=Bc(t),this.Xb=[new kc(this.Ps)]}updateAllViews(){this.Xb.forEach((t=>t.kt(this.Ps)))}paneViews(){return this.Xb}attached(t){let{requestUpdate:e}=t;this.Jb=e}detached(){this.Jb=void 0}cr(t){this.Ps=Bc({...this.Ps,...t}),this.Jb&&this.Jb()}}class Fc{constructor(t,e){this.ee=t,this.Zh=e,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(t){this.Zh&&this.Zh.cr&&this.Zh.cr(t)}jb(){this.ee.attachPrimitive(this.Zh)}}const Lc={autoScale:!0,zOrder:"normal"};function Dc(t,e){return ma(Math.min(Math.max(t,12),30)*e)}function Rc(t,e){switch(t){case"arrowDown":case"arrowUp":return Dc(e,1);case"circle":return Dc(e,.8);case"square":return Dc(e,.7)}}function zc(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Dc(t,1))}function Uc(t){return Math.max(Dc(t,.1),3)}function jc(t,e,i){return e?t:i?Math.ceil(t/2):0}function Vc(t,e,i,n){const r=(Rc("arrowUp",n)-1)/2*i.pS,s=(ma(n/2)-1)/2*i.pS;e.beginPath(),t?(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut-r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut+r),e.lineTo(i._t-s,i.ut+r),e.lineTo(i._t-s,i.ut)):(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut+r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut-r),e.lineTo(i._t-s,i.ut-r),e.lineTo(i._t-s,i.ut)),e.fill()}function Wc(t,e,i,n,r,s){const o=(Rc("arrowUp",n)-1)/2,l=(ma(n/2)-1)/2;return r>=e-l-2&&r<=e+l+2&&s>=(t?i:i-o)-2&&s<=(t?i+o:i)+2||(()=>{if(r<e-o-3||r>e+o+3||s<(t?i-o-3:i)||s>(t?i:i+o+3))return!1;const n=Math.abs(r-e);return Math.abs(s-i)+3>=n/2})()}class $c{constructor(){this.jt=null,this.$n=new gl,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(t){this.jt=t}qn(t,e,i){this.F===t&&this.W===e||(this.F=t,this.W=e,this.jv=Lo(t,e),this.$n.On()),this.vS=i}Qn(t,e){if(null===this.jt||null===this.jt.lt)return null;for(let i=this.jt.lt.from;i<this.jt.lt.to;i++){const n=this.jt.ot[i];if(n&&Kc(n,t,e))return{zOrder:"normal",externalId:n.te??""}}return null}draw(t){"aboveSeries"!==this.vS&&t.useBitmapCoordinateSpace((t=>{this.et(t)}))}drawBackground(t){"aboveSeries"===this.vS&&t.useBitmapCoordinateSpace((t=>{this.et(t)}))}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null!==this.jt&&null!==this.jt.lt){e.textBaseline="middle",e.font=this.jv;for(let t=this.jt.lt.from;t<this.jt.lt.to;t++){const r=this.jt.ot[t];void 0!==r.ri&&(r.ri.ss=this.$n.Ii(e,r.ri.mS),r.ri.$t=this.F,r.ri._t=r._t-r.ri.ss/2),Yc(r,e,i,n)}}}}function Yc(t,e,i,n){e.fillStyle=t.R,void 0!==t.ri&&function(t,e,i,n,r,s){t.save(),t.scale(r,s),t.fillText(e,i,n),t.restore()}(e,t.ri.mS,t.ri._t,t.ri.ut,i,n),function(t,e,i){if(0!==t.yh){switch(t.wS){case"arrowDown":return void Vc(!1,e,i,t.yh);case"arrowUp":return void Vc(!0,e,i,t.yh);case"circle":return void function(t,e,i){const n=(Rc("circle",i)-1)/2;t.beginPath(),t.arc(e._t,e.ut,n*e.pS,0,2*Math.PI,!1),t.fill()}(e,i,t.yh);case"square":return void function(t,e,i){const n=Rc("square",i),r=(n-1)*e.pS/2,s=e._t-r,o=e.ut-r;t.fillRect(s,o,n*e.pS,n*e.pS)}(e,i,t.yh)}t.wS}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{_t:Math.round(t._t*e)+n,ut:t.ut*i,pS:e}}(t,i,n))}function Kc(t,e,i){return!(void 0===t.ri||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,i))||function(t,e,i){if(0===t.yh)return!1;switch(t.wS){case"arrowDown":return Wc(!0,t._t,t.ut,t.yh,e,i);case"arrowUp":return Wc(!1,t._t,t.ut,t.yh,e,i);case"circle":return function(t,e,i,n,r){const s=2+Rc("circle",i)/2,o=t-n,l=e-r;return Math.sqrt(o*o+l*l)<=s}(t._t,t.ut,t.yh,e,i);case"square":return function(t,e,i,n,r){const s=Rc("square",i),o=(s-1)/2,l=t-o,a=e-o;return n>=l&&n<=l+s&&r>=a&&r<=a+s}(t._t,t.ut,t.yh,e,i)}}(t,e,i)}function Hc(t){return"atPriceTop"===t||"atPriceBottom"===t||"atPriceMiddle"===t}function Jc(t,e,i,n,r,s,o,l){const a=function(t,e,i){if(Hc(e.position)&&void 0!==e.price)return e.price;if("value"in(n=t)&&"number"==typeof n.value)return t.value;var n;if(function(t){return"open"in t&&"high"in t&&"low"in t&&"close"in t}(t)){if("inBar"===e.position)return t.close;if("aboveBar"===e.position)return i?t.low:t.high;if("belowBar"===e.position)return i?t.high:t.low}}(i,e,o.priceScale().options().invertScale);if(void 0===a)return;const h=Hc(e.position),u=l.timeScale(),c=Co(e.size)?Math.max(e.size,0):1,d=zc(u.options().barSpacing)*c,f=d/2;switch(t.yh=d,e.position){case"inBar":case"atPriceMiddle":return t.ut=Mo(o.priceToCoordinate(a)),void(void 0!==t.ri&&(t.ri.ut=t.ut+f+s+.6*r));case"aboveBar":case"atPriceTop":{const e=h?0:n.gS;return t.ut=Mo(o.priceToCoordinate(a))-f-e,void 0!==t.ri&&(t.ri.ut=t.ut-f-.6*r,n.gS+=1.2*r),void(h||(n.gS+=d+s))}case"belowBar":case"atPriceBottom":{const e=h?0:n.MS;return t.ut=Mo(o.priceToCoordinate(a))+f+e,void 0!==t.ri&&(t.ri.ut=t.ut+f+s+.6*r,n.MS+=1.2*r),void(h||(n.MS+=d+s))}}}class Qc{constructor(t,e,i){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new $c,this.ye=t,this.Lv=e,this.jt={ot:[],lt:null},this.Ps=i}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const t=this.Lv.options().layout;return this.Xt.qn(t.fontSize,t.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(t){this.bS=t,this.kt("data")}kt(t){this.xt=!0,"data"===t&&(this.SS=!0)}yS(t){this.xt=!0,this.Ps=t}zOrder(){return"aboveSeries"===this.Ps.zOrder?"top":this.Ps.zOrder}xS(){const t=this.Lv.timeScale(),e=this.bS;this.SS&&(this.jt.ot=e.map((t=>({wt:t.time,_t:0,ut:0,yh:0,wS:t.shape,R:t.color,te:t.id,kS:t.kS,ri:void 0}))),this.SS=!1);const i=this.Lv.options().layout;this.jt.lt=null;const n=t.getVisibleLogicalRange();if(null===n)return;const r=new Wa(Math.floor(n.from),Math.ceil(n.to));if(null===this.ye.data()[0])return;if(0===this.jt.ot.length)return;let s=NaN;const o=Uc(t.options().barSpacing),l={gS:o,MS:o};this.jt.lt=wu(this.jt.ot,r,!0);for(let a=this.jt.lt.from;a<this.jt.lt.to;a++){const n=e[a];n.time!==s&&(l.gS=o,l.MS=o,s=n.time);const r=this.jt.ot[a];r._t=Mo(t.logicalToCoordinate(n.time)),void 0!==n.text&&n.text.length>0&&(r.ri={mS:n.text,_t:0,ut:0,ss:0,$t:0});const h=this.ye.dataByIndex(n.time,0);null!==h&&Jc(r,n,h,l,i.fontSize,o,this.ye,this.Lv)}this.xt=!1}}function Gc(t){return{...Lc,...t}}class Xc{constructor(t){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=Gc(t)}attached(t){this.ES(),this.Lv=t.chart,this.ye=t.series,this.$h=new Qc(this.ye,Mo(this.Lv),this.Ps),this.dS=t.requestUpdate,this.ye.subscribeDataChanged((t=>this.IM(t))),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(t){this.BS=!0,this.bS=t,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(t,e){return this.$h?this.$h.renderer()?.Qn(t,e)??null:null}autoscaleInfo(t,e){if(this.Ps.autoScale&&this.$h){const t=this.zS();if(t)return{priceRange:null,margins:t}}return null}cr(t){this.Ps=Gc({...this.Ps,...t}),this.Jb&&this.Jb()}zS(){const t=Mo(this.Lv).timeScale().options().barSpacing;if(this.RS||t!==this.VS){if(this.VS=t,this.bS.length>0){const e=Uc(t),i=1.5*zc(t)+2*e,n=this.OS();this.DS={above:jc(i,n.aboveBar,n.inBar),below:jc(i,n.belowBar,n.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return null===this.IS&&(this.IS=this.bS.reduce(((t,e)=>(t[e.position]||(t[e.position]=!0),t)),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){if(!this.BS||!this.Lv||!this.ye)return;const t=this.Lv.timeScale(),e=this.ye?.data();if(null==t.getVisibleLogicalRange()||!this.ye||0===e.length)return void(this.PS=[]);const i=t.timeToIndex(Mo(e[0].time),!0);this.PS=this.bS.map(((e,n)=>{const r=t.timeToIndex(e.time,!0),s=r<i?1:-1,o=Mo(this.ye).dataByIndex(r,s),l={time:t.timeToIndex(Mo(o).time,!1),position:e.position,shape:e.shape,color:e.color,id:e.id,kS:n,text:e.text,size:e.size,price:e.price,Gr:e.time};if("atPriceTop"===e.position||"atPriceBottom"===e.position||"atPriceMiddle"===e.position){if(void 0===e.price)throw new Error(`Price is required for position ${e.position}`);return{...l,position:e.position,price:e.price}}return{...l,position:e.position,price:e.price}})),this.BS=!1}LS(t){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(t))}IM(t){this.BS=!0,this.Jb()}}class qc extends Fc{constructor(t,e,i){super(t,e),i&&this.setMarkers(i)}setMarkers(t){this.Zh.CS(t)}markers(){return this.Zh.AS()}}class Zc{constructor(t,e,i,n,r,s){this._p1=void 0,this._p2=void 0,this._fillColor=void 0,this._borderColor=void 0,this._borderWidth=void 0,this._opacity=void 0,this._p1=t,this._p2=e,this._fillColor=i,this._borderColor=n,this._borderWidth=r||0,this._opacity=void 0!==s?s:.75}draw(t){t.useBitmapCoordinateSpace((t=>{if(null===this._p1.x||null===this._p1.y||null===this._p2.x||null===this._p2.y)return;const e=t.context,i=Math.round(this._p1.x*t.horizontalPixelRatio),n=Math.round(this._p1.y*t.verticalPixelRatio),r=Math.round(this._p2.x*t.horizontalPixelRatio),s=Math.round(this._p2.y*t.verticalPixelRatio),o=Math.min(i,r),l=Math.min(n,s),a=Math.abs(r-i),h=Math.abs(s-n);if(e.save(),e.globalAlpha=this._opacity,e.fillStyle=this._fillColor,e.fillRect(o,l,a,h),this._borderColor&&this._borderWidth>0){const i=this._borderWidth*Math.max(t.horizontalPixelRatio,t.verticalPixelRatio);e.strokeStyle=this._borderColor,e.lineWidth=i;const n=i/2;e.strokeRect(o+n,l+n,a-i,h-i)}e.restore()}))}}class td{constructor(t,e,i){this._chart=void 0,this._series=void 0,this._options=void 0,this._p1={x:null,y:null},this._p2={x:null,y:null},this._chart=t,this._series=e,this._options=i}update(){const t=this._series.priceToCoordinate(this._options.startPrice),e=this._series.priceToCoordinate(this._options.endPrice),i=this._chart.timeScale(),n=i.timeToCoordinate(this._options.startTime),r=i.timeToCoordinate(this._options.endTime);this._p1={x:n,y:t},this._p2={x:r,y:e}}zOrder(){return this._options.zOrder||"bottom"}renderer(){return this.update(),new Zc(this._p1,this._p2,this._options.fillColor,this._options.borderColor,this._options.borderWidth,this._options.opacity)}}class ed{constructor(t,e,i){this._chart=void 0,this._series=void 0,this._options=void 0,this._paneView=void 0,this._chart=t,this._series=e,this._options=i,this._paneView=new td(t,e,i),this._series.attachPrimitive(this)}paneViews(){return[this._paneView]}setOptions(t){this._options={...this._options,...t},this._paneView.update(),this._chart.applyOptions({})}}var id=i(579);const nd=function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.componentDidMount=function(){so.events.addEventListener(so.RENDER_EVENT,i.onRenderEvent),so.setComponentReady()},i.componentDidUpdate=function(){null!=i.state.componentError&&so.setFrameHeight()},i.componentWillUnmount=function(){so.events.removeEventListener(so.RENDER_EVENT,i.onRenderEvent)},i.onRenderEvent=function(t){i.setState({renderData:t.detail})},i.state={renderData:void 0,componentError:void 0},i}return lo(i,e),i.prototype.render=function(){return null!=this.state.componentError?d.createElement("div",null,d.createElement("h1",null,"Component Error"),d.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:d.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(t){return{componentError:t}},i}(d.PureComponent);return m()(e,t)}((function(t){let{args:e,theme:i}=t;const{charts:n,take_screenshot:r,zoom_level:s=200,fonts:o=[],configureTimeScale:l=!1}=e,a=(0,d.useRef)(null),h=(0,d.useRef)(null),[u,c]=(0,d.useState)(!1),[f,p]=(0,d.useState)(!1),m=(0,d.useRef)(null),y=(0,d.useRef)(!1),[g,b]=(0,d.useState)(!1),v=(0,d.useRef)(!1),w=(0,d.useRef)(Date.now()),[_,S]=(0,d.useState)(!1),x=(0,d.useRef)(null);return(0,d.useEffect)((()=>{if(o&&o.length>0){(async()=>{try{o.map((t=>{const e=document.createElement("link"),i=t.replace(/\s+/g,"+");return e.href=`https://fonts.googleapis.com/css2?family=${i}&display=swap`,e.rel="stylesheet",e})).forEach((t=>document.head.appendChild(t))),await Promise.all(o.map((t=>document.fonts.load(`12px "${t}"`)))),b(!0)}catch(t){console.error("Error loading fonts:",t)}})()}}),[o]),(0,d.useEffect)((()=>{var t,e,o,d;if(!a.current||null===n||void 0===n||!n.length)return void console.error("No valid charts config provided.");y.current=!1;const f=n.reduce(((t,e)=>t+e.height),0),g=a.current.clientWidth,b=function(t,e){return Xu(t,new gh,gh.pf(e))}(a.current,{width:g,height:f,layout:i?{background:{color:i.backgroundColor},textColor:i.textColor}:{},grid:{},...n[0].chart});null!==(t=n[0].chart)&&void 0!==t&&null!==(e=t.layout)&&void 0!==e&&e.fontFamily&&b.applyOptions({layout:{fontFamily:n[0].chart.layout.fontFamily}}),null!==(o=n[0].chart)&&void 0!==o&&null!==(d=o.layout)&&void 0!==d&&d.fontSize&&b.applyOptions({layout:{fontSize:n[0].chart.layout.fontSize}});const _=n[0].chart||{};b.priceScale("right").applyOptions({borderColor:_.priceScaleBorderColor||"#2B2B43",borderVisible:!0,textColor:_.priceScaleTextColor}),b.timeScale().applyOptions({borderColor:_.timeScaleBorderColor||"#2B2B43",borderVisible:!0}),l&&b.timeScale().applyOptions({rightOffset:12,barSpacing:6,fixLeftEdge:!0,lockVisibleTimeRangeOnResize:!0,rightBarStaysOnScroll:!0,timeVisible:!0}),h.current=b;const M=n.map(((t,e)=>t.series.map((t=>{const i={...t.options,...t.priceScale&&{priceScale:t.priceScale}};switch(t.type){case"Candlestick":return b.addSeries(_c,i,e);case"Histogram":return b.addSeries(Mc,i,e);case"Line":return b.addSeries(ac,i,e);case"Area":return b.addSeries(pc,i,e);case"Bar":return b.addSeries(bc,i,e);default:throw new Error(`Unsupported series type: ${t.type}`)}}))));n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.data&&M[e][i]&&M[e][i].setData(t.data)}))})),n.forEach(((t,e)=>{t.series.forEach(((t,e)=>{var i,n;if(null!==(i=t.priceScale)&&void 0!==i&&i.visualHeightFraction&&t.data&&null!==(n=t.options)&&void 0!==n&&n.priceScaleId){const e=t.options.priceScaleId,i=b.priceScale(e),n=function(t){if(!t||0===t.length)return 0;const e=t.map((t=>t.value)).filter((t=>null!=t&&!isNaN(t)&&isFinite(t)));return 0===e.length?0:Math.max(...e)}(t.data);if(n>0){const e=n*(1/t.priceScale.visualHeightFraction);i.setVisibleRange({from:0,to:e})}}}))})),n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.markers&&t.markers.length>0&&M[e][i]&&function(t,e,i){const n=new qc(t,new Xc(i??{}));e&&n.setMarkers(e)}(M[e][i],t.markers)}))}));const T=[];n.forEach(((t,e)=>{t.series.forEach(((t,i)=>{t.rectangles&&t.rectangles.length>0&&M[e][i]&&t.rectangles.forEach((t=>{const n=new ed(b,M[e][i],{startTime:t.startTime,startPrice:t.startPrice,endTime:t.endTime,endPrice:t.endPrice,fillColor:t.fillColor,borderColor:t.borderColor||"#000000",borderWidth:t.borderWidth||2,opacity:t.opacity||.7,zOrder:t.zOrder||"bottom"});T.push(n)}))}))}));b.panes().forEach(((t,e)=>{if(n[e].title&&t){var i,r,s;const o=(null===(i=n[0].chart)||void 0===i||null===(r=i.layout)||void 0===r?void 0:r.textColor)||"rgba(0, 0, 0, 1)",l=(null===(s=n[e].chart)||void 0===s?void 0:s.titleOptions)||{fontSize:18,fontFamily:"Arial",fontStyle:"bold"};!function(t,e){new Tc(t,new Ac(e))}(t,{horzAlign:"left",vertAlign:"top",lines:[{text:" ",lineHeight:8},{text:"  "+(n[e].title||""),color:o,fontSize:l.fontSize,fontFamily:l.fontFamily,fontStyle:l.fontStyle,lineHeight:1.5}]})}}));(async()=>{const t=b.panes();for(let e=0;e<t.length;e++)t[e].setHeight(30);await new Promise((t=>setTimeout(t,50)));for(let e=t.length-1;e>=0;e--){const i=t[e],r=n[e].height;i.setHeight(r),await new Promise((t=>setTimeout(t,30)))}await new Promise((t=>setTimeout(t,50)))})().then((()=>{if(!h.current)return;const t=n[0].series[0].data;(null===t||void 0===t?void 0:t.length)>=s?h.current.timeScale().setVisibleRange({from:t[t.length-s].time,to:t[t.length-1].time}):h.current.timeScale().fitContent(),S(!0),x.current&&window.clearTimeout(x.current),x.current=window.setTimeout((()=>{S(!0)}),2e3)}));const I=()=>{m.current&&window.clearTimeout(m.current),m.current=window.setTimeout((()=>{if(a.current&&!y.current&&h.current){v.current=!0,w.current=Date.now();try{const t=a.current.clientWidth,e=h.current.timeScale().getVisibleRange();h.current.resize(t,f),setTimeout((()=>{try{h.current&&((()=>{var t;if(!h.current)return;const e=(null===(t=a.current)||void 0===t?void 0:t.clientHeight)||f;h.current.panes().forEach(((t,i)=>{if(t){const r=n[i].height/f,s=Math.floor(e*r);t.setHeight(Math.max(s,30))}}))})(),e&&h.current.timeScale().setVisibleRange(e)),setTimeout((()=>{v.current=!1}),200)}catch(yo){console.error("Error during height adjustment:",yo),v.current=!1}}),100)}catch(yo){console.error("Error during resize:",yo),v.current=!1}}}),250)};window.addEventListener("resize",I);const E=new ResizeObserver((t=>{requestAnimationFrame((()=>{I()}))}));a.current&&E.observe(a.current),u||r||(so.setComponentValue(0),c(!0)),setTimeout((()=>{p(!0)}),100);return(async()=>{try{if(await new Promise((t=>requestAnimationFrame((()=>{setTimeout(t,250)})))),h.current){const t=h.current.takeScreenshot().toDataURL("image/png");await new Promise((t=>setTimeout(t,100))),so.setComponentValue({type:"screenshot",data:t})}}catch(t){console.error("Screenshot error:",t),so.setComponentValue({type:"error",message:String(t)})}})(),()=>{try{b&&b.applyOptions({layout:{background:{color:"transparent"},textColor:"transparent"},handleScale:!1,handleScroll:!1})}catch(yo){console.warn("Chart disposal: Could not update options",yo)}y.current=!0,m.current&&window.clearTimeout(m.current),x.current&&window.clearTimeout(x.current),E.disconnect(),window.removeEventListener("resize",I),b.remove(),p(!1)}}),[JSON.stringify(n),JSON.stringify(i),s,g,l]),(0,d.useEffect)((()=>{if(r&&h.current&&f){(async()=>{try{if(await new Promise((t=>requestAnimationFrame((()=>{setTimeout(t,250)})))),h.current){const t=h.current.takeScreenshot().toDataURL("image/png");await new Promise((t=>setTimeout(t,100))),so.setComponentValue({type:"screenshot",data:t})}}catch(t){console.error("Screenshot error:",t),so.setComponentValue({type:"error",message:String(t)})}})()}}),[r,f]),(0,id.jsx)("div",{style:{width:"100%",height:`${n.reduce(((t,e)=>t+e.height),0)}px`},ref:a})}));f.render((0,id.jsx)(d.StrictMode,{children:(0,id.jsx)(nd,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.c7010207.js.map